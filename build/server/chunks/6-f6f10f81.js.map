{"version":3,"file":"6-f6f10f81.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/editar/_day_day_-_month_month_/_page.server.js","../../../.svelte-kit/adapter-node/nodes/6.js"],"sourcesContent":["import { s as supabase } from \"../../../../chunks/supabaseClient.js\";\nimport { DateTime } from \"luxon\";\nasync function load({ params }) {\n  const requestedDate = DateTime.local(2023, Number(params.month), Number(params.day), 0, 0);\n  let classroomMapData = (await supabase.from(\"classroomMap\").select(\"*\").eq(\"day\", requestedDate.toString()).limit(1)).data[0] || [];\n  const layout = classroomMapData.columns;\n  const studentsData = (await supabase.from(\"students\").select(\"id,name\").order(\"name\")).data;\n  studentsData.push({ \"id\": \"clssrmmp_empty\", \"name\": \"\" }, { \"id\": \"clssrmmp_space\", \"name\": null });\n  classroomMapData.layout = layout?.map((column) => column.map((id) => studentsData.find((student) => student.id === id)));\n  return { params, classroomMapData, studentsData };\n}\nconst actions = {\n  // salvar alterações\n  default: async ({ request }) => {\n    const data = await request.formData();\n    const password = data.get(\"password\");\n    const layout = data.get(\"layout\");\n    const tags = data.get(\"tags\");\n    const date = data.get(\"date\");\n    if (password == \"3QkN76y@YPn\") {\n      return (await supabase.from(\"classroomMap\").upsert({ day: date.toString(), columns: JSON.parse(layout), tags: JSON.parse(tags) }).select()).status;\n    }\n  }\n};\nexport {\n  actions,\n  load\n};\n","import * as server from '../entries/pages/editar/_day_day_-_month_month_/_page.server.js';\n\nexport const index = 6;\nexport const component = async () => (await import('../entries/pages/editar/_day_day_-_month_month_/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/editar/[day=day]-[month=month]/+page.server.js\";\nexport const imports = [\"_app/immutable/nodes/6.020e79b3.js\",\"_app/immutable/chunks/index.b87f7290.js\",\"_app/immutable/chunks/datetime.7428e89c.js\",\"_app/immutable/chunks/DateInput.b9dc3a66.js\",\"_app/immutable/chunks/index.7e639390.js\",\"_app/immutable/chunks/tags.c645b6ab.js\",\"_app/immutable/chunks/preload-helper.41c905a7.js\",\"_app/immutable/chunks/singletons.968a7d31.js\",\"_app/immutable/chunks/Button.6ca16e21.js\"];\nexport const stylesheets = [\"_app/immutable/assets/tags.6b681f0c.css\"];\nexport const fonts = [];\n"],"names":[],"mappings":";;;;AAEA,eAAe,IAAI,CAAC,EAAE,MAAM,EAAE,EAAE;AAChC,EAAE,MAAM,aAAa,GAAG,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AAC7F,EAAE,IAAI,gBAAgB,GAAG,CAAC,MAAM,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,KAAK,EAAE,aAAa,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;AACtI,EAAE,MAAM,MAAM,GAAG,gBAAgB,CAAC,OAAO,CAAC;AAC1C,EAAE,MAAM,YAAY,GAAG,CAAC,MAAM,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC;AAC9F,EAAE,YAAY,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,gBAAgB,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,gBAAgB,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;AACtG,EAAE,gBAAgB,CAAC,MAAM,GAAG,MAAM,EAAE,GAAG,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,YAAY,CAAC,IAAI,CAAC,CAAC,OAAO,KAAK,OAAO,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;AAC3H,EAAE,OAAO,EAAE,MAAM,EAAE,gBAAgB,EAAE,YAAY,EAAE,CAAC;AACpD,CAAC;AACD,MAAM,OAAO,GAAG;AAChB;AACA,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK;AAClC,IAAI,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,QAAQ,EAAE,CAAC;AAC1C,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAC1C,IAAI,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACtC,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AAClC,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AAClC,IAAI,IAAI,QAAQ,IAAI,aAAa,EAAE;AACnC,MAAM,OAAO,CAAC,MAAM,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,EAAE,EAAE,MAAM,CAAC;AACzJ,KAAK;AACL,GAAG;AACH,CAAC;;;;;;;;ACrBW,MAAC,KAAK,GAAG,EAAE;AACX,MAAC,SAAS,GAAG,YAAY,CAAC,MAAM,OAAO,4BAAiE,CAAC,EAAE,QAAQ;AAEnH,MAAC,SAAS,GAAG,4DAA4D;AACzE,MAAC,OAAO,GAAG,CAAC,oCAAoC,CAAC,yCAAyC,CAAC,4CAA4C,CAAC,6CAA6C,CAAC,yCAAyC,CAAC,wCAAwC,CAAC,kDAAkD,CAAC,8CAA8C,CAAC,0CAA0C,EAAE;AACvZ,MAAC,WAAW,GAAG,CAAC,yCAAyC,EAAE;AAC3D,MAAC,KAAK,GAAG;;;;"}