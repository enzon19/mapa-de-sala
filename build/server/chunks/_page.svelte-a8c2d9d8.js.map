{"version":3,"file":"_page.svelte-a8c2d9d8.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/editar/_day_day_-_month_month_/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, a as compute_rest_props, b as spread, e as escape_object, d as escape_attribute_value, g as escape, f as subscribe, s as setContext, v as validate_component, i as add_attribute, h as each } from \"../../../../chunks/index2.js\";\nimport { DateTime } from \"luxon\";\nimport { c as classroomMapLayoutWritable, D as DateInput, C as Classroom, t as tags } from \"../../../../chunks/tags.js\";\nimport { B as Button } from \"../../../../chunks/Button.js\";\nconst CloseOutline = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"size\", \"color\"]);\n  let { size = \"24\" } = $$props;\n  let { color = \"currentColor\" } = $$props;\n  if ($$props.size === void 0 && $$bindings.size && size !== void 0)\n    $$bindings.size(size);\n  if ($$props.color === void 0 && $$bindings.color && color !== void 0)\n    $$bindings.color(color);\n  return `<svg${spread(\n    [\n      { xmlns: \"http://www.w3.org/2000/svg\" },\n      { viewBox: \"0 0 512 512\" },\n      escape_object($$restProps),\n      { width: escape_attribute_value(size) },\n      { height: escape_attribute_value(size) },\n      { fill: escape_attribute_value(color) },\n      {\n        class: escape_attribute_value($$props.class)\n      }\n    ],\n    {}\n  )}><line x1=\"368\" y1=\"368\" x2=\"144\" y2=\"144\" style=\"${\"fill:none;stroke:\" + escape(color, true) + \";stroke-linecap:round;stroke-linejoin:round;stroke-width:32px\"}\"></line><line x1=\"368\" y1=\"144\" x2=\"144\" y2=\"368\" style=\"${\"fill:none;stroke:\" + escape(color, true) + \";stroke-linecap:round;stroke-linejoin:round;stroke-width:32px\"}\"></line></svg>`;\n});\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let classroomMapData;\n  let requestedDate;\n  let currentTags;\n  let $classroomMapLayoutWritable, $$unsubscribe_classroomMapLayoutWritable;\n  $$unsubscribe_classroomMapLayoutWritable = subscribe(classroomMapLayoutWritable, (value) => $classroomMapLayoutWritable = value);\n  setContext(\"editable\", true);\n  let { data } = $$props;\n  let updatedTags = [];\n  function syncTags() {\n    updatedTags = currentTags || [];\n  }\n  let saveModal, tagsModal;\n  let classroomMapLayoutToSave = [];\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  classroomMapData = data.classroomMapData;\n  {\n    classroomMapLayoutWritable.set(classroomMapData.layout || []);\n  }\n  requestedDate = DateTime.local(2023, Number(data.params.month), Number(data.params.day), 0, 0);\n  {\n    setContext(\"allRegisteredStudents\", data.studentsData);\n  }\n  currentTags = classroomMapData.tags;\n  {\n    syncTags();\n  }\n  $classroomMapLayoutWritable[0]?.length || 1;\n  $$unsubscribe_classroomMapLayoutWritable();\n  return `${$$result.head += `<!-- HEAD_svelte-1v2jbgn_START -->${$$result.title = `<title>Editar Mapa do Dia ${escape(requestedDate.toFormat(\"dd/MM\"))}</title>`, \"\"}<meta name=\"description\" content=\"Mapa de Sala é um site que reúne dados sobre a posição de cada aluno na sala de aula. Projeto pessoal.\"><!-- HEAD_svelte-1v2jbgn_END -->`, \"\"}\n\n<div class=\"container mx-auto max-w-4xl\">${validate_component(DateInput, \"DateInput\").$$render($$result, { requestedDate, route: \"editar\" }, {}, {})}\n  <div class=\"mx-2\"><textarea class=\"font-mono bg-input-grey p-4 w-full rounded-xl\" rows=\"3\">${escape(JSON.stringify($classroomMapLayoutWritable, null, 2), false)}</textarea></div>\n  <div class=\"flex flex-row justify-center gap-2 py-2\">${validate_component(Button, \"Button\").$$render($$result, {}, {}, {\n    default: () => {\n      return `Salvar`;\n    }\n  })}\n    ${validate_component(Button, \"Button\").$$render($$result, {}, {}, {\n    default: () => {\n      return `Adicionar coluna`;\n    }\n  })}\n    ${validate_component(Button, \"Button\").$$render($$result, {}, {}, {\n    default: () => {\n      return `Adicionar linha`;\n    }\n  })}\n    ${validate_component(Button, \"Button\").$$render($$result, {}, {}, {\n    default: () => {\n      return `Gerenciar tags`;\n    }\n  })}</div>\n  ${validate_component(Classroom, \"Classroom\").$$render($$result, { data: $classroomMapLayoutWritable }, {}, {})}</div>\n\n\n<dialog class=\"backdrop:bg-black/50 backdrop:backdrop-blur-little transition-all p-4 rounded-xl bg-back-grey shadow-2xl text-white\"${add_attribute(\"this\", saveModal, 0)}><button class=\"absolute top-2 right-2 hover:text-light-grey transition-colors\">${validate_component(CloseOutline, \"CloseOutline\").$$render($$result, { size: \"24\" }, {}, {})}</button>\n  <form method=\"post\"><h3 class=\"text-xl font-semibold text-center mb-4\">Salvar mapa de sala do dia ${escape(requestedDate.toFormat(\"dd/MM\"))}</h3>\n    <label for=\"password\" class=\"inline-block mb-1.5\">Senha</label>\n    <input type=\"password\" name=\"password\" class=\"bg-input-grey p-2 mb-2 w-full rounded-xl\">\n    <input type=\"hidden\" name=\"layout\"${add_attribute(\"value\", classroomMapLayoutToSave, 0)}>\n    <input type=\"hidden\" name=\"tags\"${add_attribute(\"value\", JSON.stringify(updatedTags), 0)}>\n    <input type=\"hidden\" name=\"date\"${add_attribute(\"value\", requestedDate.toString(), 0)}>\n    <input type=\"submit\" value=\"Salvar\" class=\"bg-input-grey p-2 cursor-pointer rounded-xl hover:bg-input-hover-grey transition-colors mt-2\"></form></dialog>\n\n\n<dialog class=\"backdrop:bg-black/50 backdrop:backdrop-blur-little transition-all p-4 rounded-xl bg-back-grey shadow-2xl text-white\"${add_attribute(\"this\", tagsModal, 0)}><button class=\"absolute top-2 right-2 hover:text-light-grey transition-colors\">${validate_component(CloseOutline, \"CloseOutline\").$$render($$result, { size: \"24\" }, {}, {})}</button>\n  <h3 class=\"text-xl font-semibold text-center mb-4\">Tags do dia ${escape(requestedDate.toFormat(\"dd/MM\"))}</h3>\n  <textarea class=\"font-mono bg-input-grey p-4 w-full rounded-xl\" rows=\"1\">${escape(JSON.stringify(updatedTags), false)}</textarea>\n  <div class=\"flex flex-row gap-2\">${each(Object.keys(tags), (tag) => {\n    return `<label><input type=\"checkbox\" name=\"newTags\"${add_attribute(\"value\", tag, 0)}${~updatedTags.indexOf(tag) ? add_attribute(\"checked\", true, 1) : \"\"}>\n        ${escape(tag)}\n      </label>`;\n  })}</div></dialog>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}