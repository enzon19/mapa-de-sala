{"version":3,"file":"_page.svelte-3ebba317.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/editar/_day_day_-_month_month_/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, d as compute_rest_props, f as spread, h as escape_object, i as escape_attribute_value, e as escape, v as validate_component, j as add_attribute } from \"../../../../chunks/index.js\";\nimport { DateTime } from \"luxon\";\nimport { D as DateInput, C as Classroom } from \"../../../../chunks/DateInput.js\";\nconst Button = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  return `<button class=\"${\"bg-input-grey p-2 rounded-xl hover:bg-input-hover-grey transition-colors\"}\">${slots.default ? slots.default({}) : ``}</button>`;\n});\nconst CloseOutline = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"size\", \"color\"]);\n  let { size = \"24\" } = $$props;\n  let { color = \"currentColor\" } = $$props;\n  if ($$props.size === void 0 && $$bindings.size && size !== void 0)\n    $$bindings.size(size);\n  if ($$props.color === void 0 && $$bindings.color && color !== void 0)\n    $$bindings.color(color);\n  return `<svg${spread(\n    [\n      { xmlns: \"http://www.w3.org/2000/svg\" },\n      { viewBox: \"0 0 512 512\" },\n      escape_object($$restProps),\n      { width: escape_attribute_value(size) },\n      { height: escape_attribute_value(size) },\n      { fill: escape_attribute_value(color) },\n      {\n        class: escape_attribute_value($$props.class)\n      }\n    ],\n    {}\n  )}><line x1=\"${\"368\"}\" y1=\"${\"368\"}\" x2=\"${\"144\"}\" y2=\"${\"144\"}\" style=\"${\"fill:none;stroke:\" + escape(color, true) + \";stroke-linecap:round;stroke-linejoin:round;stroke-width:32px\"}\"></line><line x1=\"${\"368\"}\" y1=\"${\"144\"}\" x2=\"${\"144\"}\" y2=\"${\"368\"}\" style=\"${\"fill:none;stroke:\" + escape(color, true) + \";stroke-linecap:round;stroke-linejoin:round;stroke-width:32px\"}\"></line></svg>`;\n});\nfunction transformNodeToArray(node) {\n  let newClassroomMap = [];\n  const columns = node.querySelectorAll('[id^=\"c-\"]');\n  const columnsAsArray = Array.from(columns);\n  for (const column of columnsAsArray) {\n    const students = column.querySelectorAll('[id^=\"s-\"]');\n    const studentsAsArray = Array.from(students);\n    const studentsAsArrayOfIDs = studentsAsArray.map((student, index) => {\n      const studentID = student.value;\n      const studentName = Array.from(studentsAsArray[index].querySelectorAll(\"option\")).find((e) => e.value == studentsAsArray[index].value).innerText;\n      return { id: studentID, name: studentName };\n    });\n    newClassroomMap.push(studentsAsArrayOfIDs);\n  }\n  return newClassroomMap;\n}\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let classroomMapData;\n  let requestedDate;\n  let columnsAsString;\n  let columnsToRender;\n  let { data } = $$props;\n  let finalColumnsToSave = [];\n  let classroomMapAsElement, saveModal;\n  function refreshColumnsAsString() {\n    columnsAsString = JSON.stringify(transformNodeToArray(classroomMapAsElement), null, 2);\n  }\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  let $$settled;\n  let $$rendered;\n  do {\n    $$settled = true;\n    classroomMapData = data.classroomMapData;\n    requestedDate = DateTime.local(2023, Number(data.params.month), Number(data.params.day), 0, 0);\n    columnsAsString = JSON.stringify(classroomMapData.columns || [], null, 2);\n    columnsToRender = JSON.parse(columnsAsString);\n    {\n      if (classroomMapAsElement)\n        refreshColumnsAsString();\n    }\n    $$rendered = `${$$result.head += `<!-- HEAD_svelte-m9j16m_START -->${$$result.title = `<title>Editar Mapa do Dia ${escape(requestedDate.toFormat(\"dd/MM\"))}</title>`, \"\"}<!-- HEAD_svelte-m9j16m_END -->`, \"\"}\n\n<div class=\"${\"container mx-auto max-w-4xl\"}\">${validate_component(DateInput, \"DateInput\").$$render($$result, { requestedDate, route: \"editar\" }, {}, {})}\n  <textarea class=\"${\"font-mono bg-input-grey p-4 w-full rounded-xl\"}\" rows=\"${\"3\"}\">${escape(columnsAsString, true)}</textarea>\n  <div class=\"${\"flex flex-row justify-center gap-2 py-2\"}\">${validate_component(Button, \"Button\").$$render($$result, {}, {}, {\n      default: () => {\n        return `Salvar`;\n      }\n    })}\n    ${validate_component(Button, \"Button\").$$render($$result, {}, {}, {\n      default: () => {\n        return `Adicionar coluna`;\n      }\n    })}\n    ${validate_component(Button, \"Button\").$$render($$result, {}, {}, {\n      default: () => {\n        return `Adicionar linha`;\n      }\n    })}\n    </div>\n  ${validate_component(Classroom, \"Classroom\").$$render(\n      $$result,\n      {\n        editable: true,\n        students: data.studentsData,\n        classroomMapAsElement,\n        columns: columnsToRender\n      },\n      {\n        classroomMapAsElement: ($$value) => {\n          classroomMapAsElement = $$value;\n          $$settled = false;\n        },\n        columns: ($$value) => {\n          columnsToRender = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )}\n\n  <dialog class=\"${\"backdrop:bg-black/50 backdrop:backdrop-blur-little transition-all p-4 rounded-xl bg-back-grey shadow-2xl text-white\"}\"${add_attribute(\"this\", saveModal, 0)}><button class=\"${\"absolute top-2 right-2 hover:text-light-grey transition-colors\"}\">${validate_component(CloseOutline, \"CloseOutline\").$$render($$result, { size: \"24\" }, {}, {})}</button>\n    <form method=\"${\"post\"}\"><h3 class=\"${\"text-xl font-semibold text-center mb-4\"}\">Salvar mapa de sala do dia ${escape(requestedDate.toFormat(\"dd/MM\"))}</h3>\n      <label for=\"${\"password\"}\" class=\"${\"inline-block mb-1.5\"}\">Senha</label>\n      <input type=\"${\"password\"}\" name=\"${\"password\"}\" class=\"${\"bg-input-grey p-2 mb-2 w-full rounded-xl\"}\">\n      <input type=\"${\"hidden\"}\" name=\"${\"columns\"}\"${add_attribute(\"value\", finalColumnsToSave, 0)}>\n      <input type=\"${\"hidden\"}\" name=\"${\"date\"}\"${add_attribute(\"value\", requestedDate.toString(), 0)}>\n      <input type=\"${\"submit\"}\" value=\"${\"Salvar\"}\" class=\"${\"bg-input-grey p-2 cursor-pointer rounded-xl hover:bg-input-hover-grey transition-colors mt-2\"}\"></form></dialog></div>`;\n  } while (!$$settled);\n  return $$rendered;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}