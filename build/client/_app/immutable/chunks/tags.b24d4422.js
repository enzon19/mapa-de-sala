import{D as g,I as R}from"./datetime.c484f364.js";import{S as z,i as P,s as B,C as b,D as _,E as w,m as p,h as v,n as C,F as D,b as V,G as I,H as h,I as F,J as O,K as L,L as k,M as S,N as f}from"./index.b87f7290.js";function q(t){return t.flat().filter(s=>s.id!="clssrmmp_space"&&s.id!="clssrmmp_empty").length}function T(t){return t.flat().filter(s=>s.id!="clssrmmp_space").length}function W(t){return t.flat().filter(s=>s.id=="clssrmmp_space").length}function Z(t){return t.flat().filter(s=>s.id=="clssrmmp_empty").length}function N(t,e){return t.flat().includes(e)}function j(t,e){const a=t.map(l=>l.day);let s=[];for(const l of t){const c=l.columns;N(c,e)&&s.push(l.day)}const r=a.filter(l=>!s.includes(l));return{attendances:s,absences:r}}function J(t,e){const a=t.length,s=e.length,r=a+s,l=Math.trunc(a/r*100),c=Math.trunc(s/r*100);return{attendances:{number:a,percentage:l},absences:{number:s,percentage:c}}}function U(t,e,a=!1){let{attendances:s,absences:r}=j(t,e.id);const l=s[0],c=g.fromISO(l),u=s.at(-1),n=g.fromISO(u);return e.left&&(r=r.filter(i=>g.fromISO(i)<=n)),e.late&&(r=r.filter(i=>g.fromISO(i)>=c)),a?{student:e,attendances:s,absences:r}:{...e,...J(s,r)}}function G(t,e,a=!1,s){for(let r=0;r<t.length;r++){let l=s>0?new Array(s-t[r].length).fill("clssrmmp_space").concat(t[r]):t[r].filter(u=>u!=="clssrmmp_space");a&&l.reverse();const c=l.indexOf(e);if(c!==-1)return[r,c]}return[-1,-1]}function E(t,e,a=!1,s){return t.map(r=>{const l=r.columns;return{day:r.day,tags:r.tags,position:G(l,e,a,s)}})}function le(t,e,a=!1,s){const r=E(t,e,a,s),l=M(r,"position");return Object.entries(l).map(([c,u])=>({position:JSON.parse(c),frequency:u.length}))}function ce(t,e,a=!1,s){const r=E(t,e,a),l=M(r,"position",!0);let u=Object.entries(l).map(([n,i])=>({position:`${n} (${i.length} ${i.length===1?"dia":"dias"})`,days:i}));return s.type==="days"?u=u.sort((n,i)=>i.days.length-n.days.length):s.type==="desks"?u=u.sort((n,i)=>i.days[0].position[1]-n.days[0].position[1]):s.type==="rows"&&(u=u.sort((n,i)=>i.days[0].position[1]-n.days[0].position[1]).sort((n,i)=>i.days[0].position[0]-n.days[0].position[0])),s.direction==="increscent"&&u.reverse(),u}function ue(t){let e=[{label:"Alunos",data:[],borderColor:["#AD5934"],backgroundColor:["#AD5934"]},{label:"Cadeiras",data:[],borderColor:["#2B77AD"],backgroundColor:["#2B77AD"]}];for(const a of t){const s=a.columns.map(l=>l.map(c=>({id:c}))),r=g.fromISO(a.day).toFormat("dd/MM");e[0].data.push({x:r,y:q(s)}),e[1].data.push({x:r,y:T(s)})}return e}function de(t){let e=[{label:"Vazias",data:[],borderColor:["#ad2e2b"],backgroundColor:["#ad2e2b"]},{label:"Buracos",data:[],borderColor:["#6b44bc"],backgroundColor:["#6b44bc"]}];for(const a of t){const s=a.columns.map(l=>l.map(c=>({id:c}))),r=g.fromISO(a.day).toFormat("dd/MM");e[0].data.push({x:r,y:Z(s)}),e[1].data.push({x:r,y:W(s)})}return e}function he(t,e,a=!1,s,r={}){const l=E(t,e,a,s).filter(d=>!d.position.includes(-1));let c=[],u=l[0].day,n=l[0].day,i=l[0].position;for(let d=1;d<l.length;d++){const m=l[d].day,y=l[d].position;JSON.stringify(i)===JSON.stringify(y)?n=m:(c.push(l.filter(({day:A})=>g.fromISO(A)>=g.fromISO(u)&&g.fromISO(A)<=g.fromISO(n))),u=m,n=m,i=y)}return c.push(l.filter(({day:d})=>g.fromISO(d)>=g.fromISO(u)&&g.fromISO(d)<=g.fromISO(n))),r.type==="days"?c=c.sort((d,m)=>d.length-m.length):r.type==="desks"?c=c.sort((d,m)=>d[0].position[1]-m[0].position[1]):r.type==="rows"&&(c=c.sort((d,m)=>d[0].position[0]-m[0].position[0])),r.direction==="decrescent"&&c.reverse(),c}function H(t,e){const{absences:a}=U(t,e,!0);return M(a.map(r=>{const l=g.fromISO(r);return{dayOfWeek:l.weekdayLong,day:r,weekday:l.weekday}}),"dayOfWeek")}function fe(t,e,a){const s=H(t,e);let l=Object.entries(s).map(([c,u])=>({dayOfWeek:`${c.replace(/"/g,"")} (${u.length} ${u.length===1?"dia":"dias"})`,days:u.map(({day:n})=>({day:n})),weekday:u[0].weekday}));return a.type==="days"?l=l.sort((c,u)=>u.days.length-c.days.length):a.type==="weekday"&&(l=l.sort((c,u)=>u.weekday-c.weekday)),a.direction==="increscent"&&l.reverse(),l}function me(t,e){let a={labels:["Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],datasets:[{label:"Faltas",data:[0,0,0,0,0,0,0],backgroundColor:["#ad2e2b","#6b44bc","#AD5934","#2B77AD","#378F4A","#AD9F3F"]}]};for(const s of e)for(const[r,l]of Object.entries(H(t,s))){const u={'"segunda-feira"':0,'"terça-feira"':1,'"quarta-feira"':2,'"quinta-feira"':3,'"sexta-feira"':4,'"sábado"':5}[r];a.datasets[0].data[u]+=l.length}return a}function ge(t,e){return`/dia/${g.fromISO(t).toFormat("dd-MM")}`+(e?`?destacar=${e}`:"")}function M(t,e,a=!1){return t.reduce((r,l)=>{const c=a?`${l[e][0]+1}ª fileira, ${l[e][1]+1}ª cadeira`:JSON.stringify(l[e]);return r[c]||(r[c]=[]),r[c].push(l),r},{})}function Q(t){let e,a,s,r,l,c,u=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},t[2],{width:t[0]},{height:t[0]},{fill:t[1]},{class:r=t[3].class}],n={};for(let i=0;i<u.length;i+=1)n=b(n,u[i]);return{c(){e=_("svg"),a=_("path"),s=_("path"),this.h()},l(i){e=w(i,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0,fill:!0,class:!0});var d=p(e);a=w(d,"path",{d:!0}),p(a).forEach(v),s=w(d,"path",{d:!0}),p(s).forEach(v),d.forEach(v),this.h()},h(){C(a,"d","M428,224H288a48,48,0,0,1-48-48V36a4,4,0,0,0-4-4H144A64,64,0,0,0,80,96V416a64,64,0,0,0,64,64H368a64,64,0,0,0,64-64V228A4,4,0,0,0,428,224Z"),C(s,"d","M419.22,188.59,275.41,44.78A2,2,0,0,0,272,46.19V176a16,16,0,0,0,16,16H417.81A2,2,0,0,0,419.22,188.59Z"),D(e,n)},m(i,d){V(i,e,d),I(e,a),I(e,s),l||(c=[h(e,"click",t[4]),h(e,"mouseenter",t[5]),h(e,"mouseleave",t[6]),h(e,"mouseover",t[7]),h(e,"mouseout",t[8]),h(e,"blur",t[9]),h(e,"focus",t[10])],l=!0)},p(i,[d]){D(e,n=F(u,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},d&4&&i[2],d&1&&{width:i[0]},d&1&&{height:i[0]},d&2&&{fill:i[1]},d&8&&r!==(r=i[3].class)&&{class:r}]))},i:O,o:O,d(i){i&&v(e),l=!1,L(c)}}}function K(t,e,a){const s=["size","color"];let r=k(e,s),{size:l="24"}=e,{color:c="currentColor"}=e;function u(o){f.call(this,t,o)}function n(o){f.call(this,t,o)}function i(o){f.call(this,t,o)}function d(o){f.call(this,t,o)}function m(o){f.call(this,t,o)}function y(o){f.call(this,t,o)}function A(o){f.call(this,t,o)}return t.$$set=o=>{a(3,e=b(b({},e),S(o))),a(2,r=k(e,s)),"size"in o&&a(0,l=o.size),"color"in o&&a(1,c=o.color)},e=S(e),[l,c,r,e,u,n,i,d,m,y,A]}class X extends z{constructor(e){super(),P(this,e,K,Q,B,{size:0,color:1})}}function Y(t){let e,a,s,r,l,c=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},t[2],{width:t[0]},{height:t[0]},{fill:t[1]},{class:s=t[3].class}],u={};for(let n=0;n<c.length;n+=1)u=b(u,c[n]);return{c(){e=_("svg"),a=_("path"),this.h()},l(n){e=w(n,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0,fill:!0,class:!0});var i=p(e);a=w(i,"path",{d:!0}),p(a).forEach(v),i.forEach(v),this.h()},h(){C(a,"d","M80,480a16,16,0,0,1-16-16V68.13A24,24,0,0,1,75.9,47.41C88,40.38,112.38,32,160,32c37.21,0,78.83,14.71,115.55,27.68C305.12,70.13,333.05,80,352,80a183.84,183.84,0,0,0,71-14.5,18,18,0,0,1,25,16.58V301.44a20,20,0,0,1-12,18.31c-8.71,3.81-40.51,16.25-84,16.25-24.14,0-54.38-7.14-86.39-14.71C229.63,312.79,192.43,304,160,304c-36.87,0-55.74,5.58-64,9.11V464A16,16,0,0,1,80,480Z"),D(e,u)},m(n,i){V(n,e,i),I(e,a),r||(l=[h(e,"click",t[4]),h(e,"mouseenter",t[5]),h(e,"mouseleave",t[6]),h(e,"mouseover",t[7]),h(e,"mouseout",t[8]),h(e,"blur",t[9]),h(e,"focus",t[10])],r=!0)},p(n,[i]){D(e,u=F(c,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},i&4&&n[2],i&1&&{width:n[0]},i&1&&{height:n[0]},i&2&&{fill:n[1]},i&8&&s!==(s=n[3].class)&&{class:s}]))},i:O,o:O,d(n){n&&v(e),r=!1,L(l)}}}function x(t,e,a){const s=["size","color"];let r=k(e,s),{size:l="24"}=e,{color:c="currentColor"}=e;function u(o){f.call(this,t,o)}function n(o){f.call(this,t,o)}function i(o){f.call(this,t,o)}function d(o){f.call(this,t,o)}function m(o){f.call(this,t,o)}function y(o){f.call(this,t,o)}function A(o){f.call(this,t,o)}return t.$$set=o=>{a(3,e=b(b({},e),S(o))),a(2,r=k(e,s)),"size"in o&&a(0,l=o.size),"color"in o&&a(1,c=o.color)},e=S(e),[l,c,r,e,u,n,i,d,m,y,A]}class $ extends z{constructor(e){super(),P(this,e,x,Y,B,{size:0,color:1})}}function ee(t){let e,a,s,r,l,c=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},t[2],{width:t[0]},{height:t[0]},{fill:t[1]},{class:s=t[3].class}],u={};for(let n=0;n<c.length;n+=1)u=b(u,c[n]);return{c(){e=_("svg"),a=_("path"),this.h()},l(n){e=w(n,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0,fill:!0,class:!0});var i=p(e);a=w(i,"path",{d:!0}),p(a).forEach(v),i.forEach(v),this.h()},h(){C(a,"d","M461,349l-34-19.64a89.53,89.53,0,0,1,20.94-16,22,22,0,0,0-21.28-38.51,133.62,133.62,0,0,0-38.55,32.1L300,256l88.09-50.86a133.46,133.46,0,0,0,38.55,32.1,22,22,0,1,0,21.28-38.51,89.74,89.74,0,0,1-20.94-16l34-19.64A22,22,0,1,0,439,125l-34,19.63a89.74,89.74,0,0,1-3.42-26.15A22,22,0,0,0,380,96h-.41a22,22,0,0,0-22,21.59A133.61,133.61,0,0,0,366.09,167L278,217.89V116.18a133.5,133.5,0,0,0,47.07-17.33,22,22,0,0,0-22.71-37.69A89.56,89.56,0,0,1,278,71.27V38a22,22,0,0,0-44,0V71.27a89.56,89.56,0,0,1-24.36-10.11,22,22,0,1,0-22.71,37.69A133.5,133.5,0,0,0,234,116.18V217.89L145.91,167a133.61,133.61,0,0,0,8.52-49.43,22,22,0,0,0-22-21.59H132a22,22,0,0,0-21.59,22.41A89.74,89.74,0,0,1,107,144.58L73,125a22,22,0,1,0-22,38.1l34,19.64a89.74,89.74,0,0,1-20.94,16,22,22,0,1,0,21.28,38.51,133.62,133.62,0,0,0,38.55-32.1L212,256l-88.09,50.86a133.62,133.62,0,0,0-38.55-32.1,22,22,0,1,0-21.28,38.51,89.74,89.74,0,0,1,20.94,16L51,349a22,22,0,1,0,22,38.1l34-19.63a89.74,89.74,0,0,1,3.42,26.15A22,22,0,0,0,132,416h.41a22,22,0,0,0,22-21.59A133.61,133.61,0,0,0,145.91,345L234,294.11V395.82a133.5,133.5,0,0,0-47.07,17.33,22,22,0,1,0,22.71,37.69A89.56,89.56,0,0,1,234,440.73V474a22,22,0,0,0,44,0V440.73a89.56,89.56,0,0,1,24.36,10.11,22,22,0,0,0,22.71-37.69A133.5,133.5,0,0,0,278,395.82V294.11L366.09,345a133.61,133.61,0,0,0-8.52,49.43,22,22,0,0,0,22,21.59H380a22,22,0,0,0,21.59-22.41A89.74,89.74,0,0,1,405,367.42l34,19.63A22,22,0,1,0,461,349Z"),D(e,u)},m(n,i){V(n,e,i),I(e,a),r||(l=[h(e,"click",t[4]),h(e,"mouseenter",t[5]),h(e,"mouseleave",t[6]),h(e,"mouseover",t[7]),h(e,"mouseout",t[8]),h(e,"blur",t[9]),h(e,"focus",t[10])],r=!0)},p(n,[i]){D(e,u=F(c,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},i&4&&n[2],i&1&&{width:n[0]},i&1&&{height:n[0]},i&2&&{fill:n[1]},i&8&&s!==(s=n[3].class)&&{class:s}]))},i:O,o:O,d(n){n&&v(e),r=!1,L(l)}}}function te(t,e,a){const s=["size","color"];let r=k(e,s),{size:l="24"}=e,{color:c="currentColor"}=e;function u(o){f.call(this,t,o)}function n(o){f.call(this,t,o)}function i(o){f.call(this,t,o)}function d(o){f.call(this,t,o)}function m(o){f.call(this,t,o)}function y(o){f.call(this,t,o)}function A(o){f.call(this,t,o)}return t.$$set=o=>{a(3,e=b(b({},e),S(o))),a(2,r=k(e,s)),"size"in o&&a(0,l=o.size),"color"in o&&a(1,c=o.color)},e=S(e),[l,c,r,e,u,n,i,d,m,y,A]}class ae extends z{constructor(e){super(),P(this,e,te,ee,B,{size:0,color:1})}}function se(t){let e,a,s,r,l,c=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},t[2],{width:t[0]},{height:t[0]},{fill:t[1]},{class:s=t[3].class}],u={};for(let n=0;n<c.length;n+=1)u=b(u,c[n]);return{c(){e=_("svg"),a=_("path"),this.h()},l(n){e=w(n,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0,fill:!0,class:!0});var i=p(e);a=w(i,"path",{d:!0}),p(a).forEach(v),i.forEach(v),this.h()},h(){C(a,"d","M449.07,399.08,278.64,82.58c-12.08-22.44-44.26-22.44-56.35,0L51.87,399.08A32,32,0,0,0,80,446.25H420.89A32,32,0,0,0,449.07,399.08Zm-198.6-1.83a20,20,0,1,1,20-20A20,20,0,0,1,250.47,397.25ZM272.19,196.1l-5.74,122a16,16,0,0,1-32,0l-5.74-121.95v0a21.73,21.73,0,0,1,21.5-22.69h.21a21.74,21.74,0,0,1,21.73,22.7Z"),D(e,u)},m(n,i){V(n,e,i),I(e,a),r||(l=[h(e,"click",t[4]),h(e,"mouseenter",t[5]),h(e,"mouseleave",t[6]),h(e,"mouseover",t[7]),h(e,"mouseout",t[8]),h(e,"blur",t[9]),h(e,"focus",t[10])],r=!0)},p(n,[i]){D(e,u=F(c,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},i&4&&n[2],i&1&&{width:n[0]},i&1&&{height:n[0]},i&2&&{fill:n[1]},i&8&&s!==(s=n[3].class)&&{class:s}]))},i:O,o:O,d(n){n&&v(e),r=!1,L(l)}}}function ne(t,e,a){const s=["size","color"];let r=k(e,s),{size:l="24"}=e,{color:c="currentColor"}=e;function u(o){f.call(this,t,o)}function n(o){f.call(this,t,o)}function i(o){f.call(this,t,o)}function d(o){f.call(this,t,o)}function m(o){f.call(this,t,o)}function y(o){f.call(this,t,o)}function A(o){f.call(this,t,o)}return t.$$set=o=>{a(3,e=b(b({},e),S(o))),a(2,r=k(e,s)),"size"in o&&a(0,l=o.size),"color"in o&&a(1,c=o.color)},e=S(e),[l,c,r,e,u,n,i,d,m,y,A]}class oe extends z{constructor(e){super(),P(this,e,ne,se,B,{size:0,color:1})}}const ve={inaccurate:{title:"Dados Imprecisos",id:"inaccurate",text:"<b>Dados imprecisos.</b> A representação abaixo pode não ser exatamente como foi originalmente no dia.",color:"bg-bad-warning-red/80",icon:oe},exam:{title:"Dia de Prova",id:"exam",text:"<b>Dia de prova.</b> Por ser um dia de prova, o mapa de sala estava completamente fora do padrão.",color:"bg-information-warning-grey",icon:X},schoolAttacks:{title:"Ataques em Escolas",id:"schoolAttacks",text:"<b>Ataques em escolas?</b> Nesse dia, havia rumores por conta do aniversário de Columbine.",color:"bg-information-warning-grey",icon:R},chairRevolution:{title:"Revolução das Cadeiras",id:"chairRevolution",text:"<b>Revolução das Cadeiras.</b> O Davi e o Lucas inventaram de criar uma nova fileira e a galera apoiou.",color:"bg-information-warning-grey",icon:$},room401:{title:"Sala 401",id:"room401",text:"<b>Sala 401.</b> Como o ar condicionado da nossa sala quebrou, mudamos pra sala do primeiro ano.",color:"bg-information-warning-grey",icon:ae}};export{he as a,le as b,j as c,J as d,ce as e,fe as f,ge as g,ue as h,de as i,me as j,U as k,q as l,T as m,W as n,Z as o,ve as t};
