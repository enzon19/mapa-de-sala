import{D as Z,I as yr}from"./datetime.7428e89c.js";import{_ as wt}from"./preload-helper.41c905a7.js";import{S as Vt,i as Qt,s as Xt,C as ye,D as xe,E as Me,m as Pe,h as fe,n as yt,F as Be,b as Zt,G as bt,H as B,I as en,J as Ye,K as tn,L as Je,M as ze,N as Y}from"./index.b87f7290.js";function br(r,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in r)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}function _r(r){return r.flat().filter(n=>n.id!="clssrmmp_space"&&n.id!="clssrmmp_empty").length}function wr(r){return r.flat().filter(n=>n.id!="clssrmmp_space").length}function Dr(r){return r.flat().filter(n=>n.id=="clssrmmp_space").length}function Cr(r){return r.flat().filter(n=>n.id=="clssrmmp_empty").length}function Tr(r,t){return r.flat().includes(t)}function Er(r,t){const e=r.map(i=>i.day);let n=[];for(const i of r){const o=i.columns;Tr(o,t)&&n.push(i.day)}const s=e.filter(i=>!n.includes(i));return{attendances:n,absences:s}}function Sr(r,t){const e=r.length,n=t.length,s=e+n,i=Math.trunc(e/s*100),o=Math.trunc(n/s*100);return{attendances:{number:e,percentage:i},absences:{number:n,percentage:o}}}function Js(r,t){let{attendances:e,absences:n}=Er(r,t.id);const s=e[0],i=Z.fromISO(s),o=e.at(-1),c=Z.fromISO(o);return t.left&&(n=n.filter(u=>Z.fromISO(u)<=c)),t.late&&(n=n.filter(u=>Z.fromISO(u)>=i)),{...t,...Sr(e,n)}}function kr(r,t,e=!1,n){for(let s=0;s<r.length;s++){let i=n>0?new Array(n-r[s].length).fill("clssrmmp_space").concat(r[s]):r[s].filter(c=>c!=="clssrmmp_space");e&&i.reverse();const o=i.indexOf(t);if(o!==-1)return[s,o]}return[-1,-1]}function nn(r,t,e=!1,n){return r.map(s=>{const i=s.columns;return{day:s.day,tags:s.tags,position:kr(i,t,e,n)}})}function zs(r,t,e=!1,n){const s=nn(r,t,e,n),i=jn(s,"position");return Object.entries(i).map(([o,c])=>({position:JSON.parse(o),frequency:c.length}))}function qs(r,t,e=!1,n){const s=nn(r,t,e),i=jn(s,"position",!0);let c=Object.entries(i).map(([u,h])=>({position:`${u} (${h.length} ${h.length===1?"dia":"dias"})`,days:h}));return n.type==="days"?c=c.sort((u,h)=>h.days.length-u.days.length):n.type==="desks"?c=c.sort((u,h)=>h.days[0].position[1]-u.days[0].position[1]):n.type==="rows"&&(c=c.sort((u,h)=>h.days[0].position[1]-u.days[0].position[1]).sort((u,h)=>h.days[0].position[0]-u.days[0].position[0])),n.direction==="increscent"&&c.reverse(),c}function Ws(r){let t=[{label:"Alunos",data:[],borderColor:["#94461b"],backgroundColor:["#94461b"]},{label:"Cadeiras",data:[],borderColor:["#255ab2"],backgroundColor:["#255ab2"]}];for(const e of r){const n=e.columns.map(i=>i.map(o=>({id:o}))),s=Z.fromISO(e.day).toFormat("dd/MM");t[0].data.push({x:s,y:_r(n)}),t[1].data.push({x:s,y:wr(n)})}return t}function Ks(r){let t=[{label:"Vazias",data:[],borderColor:["#ad2e2b"],backgroundColor:["#ad2e2b"]},{label:"Buracos",data:[],borderColor:["#6b44bc"],backgroundColor:["#6b44bc"]}];for(const e of r){const n=e.columns.map(i=>i.map(o=>({id:o}))),s=Z.fromISO(e.day).toFormat("dd/MM");t[0].data.push({x:s,y:Cr(n)}),t[1].data.push({x:s,y:Dr(n)})}return t}function Gs(r,t,e=!1,n,s={}){const i=nn(r,t,e,n).filter(d=>!d.position.includes(-1));let o=[],c=i[0].day,u=i[0].day,h=i[0].position;for(let d=1;d<i.length;d++){const p=i[d].day,y=i[d].position;JSON.stringify(h)===JSON.stringify(y)?u=p:(o.push(i.filter(({day:C})=>Z.fromISO(C)>=Z.fromISO(c)&&Z.fromISO(C)<=Z.fromISO(u))),c=p,u=p,h=y)}return o.push(i.filter(({day:d})=>Z.fromISO(d)>=Z.fromISO(c)&&Z.fromISO(d)<=Z.fromISO(u))),s.type==="days"?o=o.sort((d,p)=>d.length-p.length):s.type==="desks"?o=o.sort((d,p)=>d[0].position[1]-p[0].position[1]):s.type==="rows"&&(o=o.sort((d,p)=>d[0].position[0]-p[0].position[0])),s.direction==="decrescent"&&o.reverse(),o}function jn(r,t,e=!1){return r.reduce((s,i)=>{const o=e?`${i[t][0]+1}ª fileira, ${i[t][1]+1}ª cadeira`:JSON.stringify(i[t]);return s[o]||(s[o]=[]),s[o].push(i),s},{})}var Or=globalThis&&globalThis.__awaiter||function(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function c(d){try{h(n.next(d))}catch(p){o(p)}}function u(d){try{h(n.throw(d))}catch(p){o(p)}}function h(d){d.done?i(d.value):s(d.value).then(c,u)}h((n=n.apply(r,t||[])).next())})};const Ar=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>Or(void 0,void 0,void 0,function*(){return yield(yield wt(()=>Promise.resolve().then(()=>Dt),void 0,import.meta.url)).fetch(...e)}):t=fetch,(...e)=>t(...e)};class rn extends Error{constructor(t,e="FunctionsError",n){super(t),super.name=e,this.context=n}}class xr extends rn{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Mr extends rn{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Pr extends rn{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jr=globalThis&&globalThis.__awaiter||function(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function c(d){try{h(n.next(d))}catch(p){o(p)}}function u(d){try{h(n.throw(d))}catch(p){o(p)}}function h(d){d.done?i(d.value):s(d.value).then(c,u)}h((n=n.apply(r,t||[])).next())})};class Ir{constructor(t,{headers:e={},customFetch:n}={}){this.url=t,this.headers=e,this.fetch=Ar(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var n;return jr(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=e;let c={},u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(c["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(c["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:u}).catch(C=>{throw new xr(C)}),d=h.headers.get("x-relay-error");if(d&&d==="true")throw new Mr(h);if(!h.ok)throw new Pr(h);let p=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield h.json():p==="application/octet-stream"?y=yield h.blob():p==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var In=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rr(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Yt={exports:{}};(function(r,t){var e=typeof self<"u"?self:In,n=function(){function i(){this.fetch=!1,this.DOMException=e.DOMException}return i.prototype=e,new i}();(function(i){(function(o){var c={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function u(g){return g&&DataView.prototype.isPrototypeOf(g)}if(c.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(g){return g&&h.indexOf(Object.prototype.toString.call(g))>-1};function p(g){if(typeof g!="string"&&(g=String(g)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(g))throw new TypeError("Invalid character in header field name");return g.toLowerCase()}function y(g){return typeof g!="string"&&(g=String(g)),g}function C(g){var _={next:function(){var x=g.shift();return{done:x===void 0,value:x}}};return c.iterable&&(_[Symbol.iterator]=function(){return _}),_}function v(g){this.map={},g instanceof v?g.forEach(function(_,x){this.append(x,_)},this):Array.isArray(g)?g.forEach(function(_){this.append(_[0],_[1])},this):g&&Object.getOwnPropertyNames(g).forEach(function(_){this.append(_,g[_])},this)}v.prototype.append=function(g,_){g=p(g),_=y(_);var x=this.map[g];this.map[g]=x?x+", "+_:_},v.prototype.delete=function(g){delete this.map[p(g)]},v.prototype.get=function(g){return g=p(g),this.has(g)?this.map[g]:null},v.prototype.has=function(g){return this.map.hasOwnProperty(p(g))},v.prototype.set=function(g,_){this.map[p(g)]=y(_)},v.prototype.forEach=function(g,_){for(var x in this.map)this.map.hasOwnProperty(x)&&g.call(_,this.map[x],x,this)},v.prototype.keys=function(){var g=[];return this.forEach(function(_,x){g.push(x)}),C(g)},v.prototype.values=function(){var g=[];return this.forEach(function(_){g.push(_)}),C(g)},v.prototype.entries=function(){var g=[];return this.forEach(function(_,x){g.push([x,_])}),C(g)},c.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function w(g){if(g.bodyUsed)return Promise.reject(new TypeError("Already read"));g.bodyUsed=!0}function O(g){return new Promise(function(_,x){g.onload=function(){_(g.result)},g.onerror=function(){x(g.error)}})}function L(g){var _=new FileReader,x=O(_);return _.readAsArrayBuffer(g),x}function H(g){var _=new FileReader,x=O(_);return _.readAsText(g),x}function J(g){for(var _=new Uint8Array(g),x=new Array(_.length),W=0;W<_.length;W++)x[W]=String.fromCharCode(_[W]);return x.join("")}function U(g){if(g.slice)return g.slice(0);var _=new Uint8Array(g.byteLength);return _.set(new Uint8Array(g)),_.buffer}function le(){return this.bodyUsed=!1,this._initBody=function(g){this._bodyInit=g,g?typeof g=="string"?this._bodyText=g:c.blob&&Blob.prototype.isPrototypeOf(g)?this._bodyBlob=g:c.formData&&FormData.prototype.isPrototypeOf(g)?this._bodyFormData=g:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)?this._bodyText=g.toString():c.arrayBuffer&&c.blob&&u(g)?(this._bodyArrayBuffer=U(g.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(g)||d(g))?this._bodyArrayBuffer=U(g):this._bodyText=g=Object.prototype.toString.call(g):this._bodyText="",this.headers.get("content-type")||(typeof g=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var g=w(this);if(g)return g;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?w(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(L)}),this.text=function(){var g=w(this);if(g)return g;if(this._bodyBlob)return H(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(J(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(We)}),this.json=function(){return this.text().then(JSON.parse)},this}var pe=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function be(g){var _=g.toUpperCase();return pe.indexOf(_)>-1?_:g}function Q(g,_){_=_||{};var x=_.body;if(g instanceof Q){if(g.bodyUsed)throw new TypeError("Already read");this.url=g.url,this.credentials=g.credentials,_.headers||(this.headers=new v(g.headers)),this.method=g.method,this.mode=g.mode,this.signal=g.signal,!x&&g._bodyInit!=null&&(x=g._bodyInit,g.bodyUsed=!0)}else this.url=String(g);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new v(_.headers)),this.method=be(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&x)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(x)}Q.prototype.clone=function(){return new Q(this,{body:this._bodyInit})};function We(g){var _=new FormData;return g.trim().split("&").forEach(function(x){if(x){var W=x.split("="),z=W.shift().replace(/\+/g," "),R=W.join("=").replace(/\+/g," ");_.append(decodeURIComponent(z),decodeURIComponent(R))}}),_}function Ce(g){var _=new v,x=g.replace(/\r?\n[\t ]+/g," ");return x.split(/\r?\n/).forEach(function(W){var z=W.split(":"),R=z.shift().trim();if(R){var Re=z.join(":").trim();_.append(R,Re)}}),_}le.call(Q.prototype);function se(g,_){_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in _?_.statusText:"OK",this.headers=new v(_.headers),this.url=_.url||"",this._initBody(g)}le.call(se.prototype),se.prototype.clone=function(){return new se(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},se.error=function(){var g=new se(null,{status:0,statusText:""});return g.type="error",g};var Ie=[301,302,303,307,308];se.redirect=function(g,_){if(Ie.indexOf(_)===-1)throw new RangeError("Invalid status code");return new se(null,{status:_,headers:{location:g}})},o.DOMException=i.DOMException;try{new o.DOMException}catch{o.DOMException=function(_,x){this.message=_,this.name=x;var W=Error(_);this.stack=W.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function ue(g,_){return new Promise(function(x,W){var z=new Q(g,_);if(z.signal&&z.signal.aborted)return W(new o.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function Re(){R.abort()}R.onload=function(){var ge={status:R.status,statusText:R.statusText,headers:Ce(R.getAllResponseHeaders()||"")};ge.url="responseURL"in R?R.responseURL:ge.headers.get("X-Request-URL");var Ke="response"in R?R.response:R.responseText;x(new se(Ke,ge))},R.onerror=function(){W(new TypeError("Network request failed"))},R.ontimeout=function(){W(new TypeError("Network request failed"))},R.onabort=function(){W(new o.DOMException("Aborted","AbortError"))},R.open(z.method,z.url,!0),z.credentials==="include"?R.withCredentials=!0:z.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&c.blob&&(R.responseType="blob"),z.headers.forEach(function(ge,Ke){R.setRequestHeader(Ke,ge)}),z.signal&&(z.signal.addEventListener("abort",Re),R.onreadystatechange=function(){R.readyState===4&&z.signal.removeEventListener("abort",Re)}),R.send(typeof z._bodyInit>"u"?null:z._bodyInit)})}return ue.polyfill=!0,i.fetch||(i.fetch=ue,i.Headers=v,i.Request=Q,i.Response=se),o.Headers=v,o.Request=Q,o.Response=se,o.fetch=ue,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=n;t=s.fetch,t.default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,r.exports=t})(Yt,Yt.exports);var sn=Yt.exports;const on=Rr(sn),Dt=br({__proto__:null,default:on},[sn]);class Fr{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=on:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,c,u;let h=null,d=null,p=null,y=i.status,C=i.statusText;if(i.ok){if(this.method!=="HEAD"){const L=await i.text();L===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=L:d=JSON.parse(L))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),O=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&O&&O.length>1&&(p=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(h={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,y=406,C="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{h=JSON.parse(w),Array.isArray(h)&&i.status===404&&(d=[],h=null,y=200,C="OK")}catch{i.status===404&&w===""?(y=204,C="No Content"):h={message:w}}if(h&&this.isMaybeSingle&&(!((u=h==null?void 0:h.details)===null||u===void 0)&&u.includes("Results contain 0 rows"))&&(h=null,y=200,C="OK"),h&&this.shouldThrowOnError)throw h}return{error:h,data:d,count:p,status:y,statusText:C}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,c,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(c=i==null?void 0:i.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}}class Nr extends Fr{select(t){let e=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e}={}){const n=typeof e>"u"?"limit":`${e}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:n}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){const c=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Ue extends Nr{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){const n=e.map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e}={}){const n=e?`${e}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}}class Lr{constructor(t,{headers:e={},schema:n,fetch:s}){this.url=t,this.headers=e,this.schema=n,this.fetch=s}select(t,{head:e=!1,count:n}={}){const s=e?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Ue({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ue({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",c=[`resolution=${n?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),i||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const u=t.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(u.length>0){const h=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new Ue({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),this.headers.Prefer=s.join(","),new Ue({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const e="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ue({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Ur="1.7.0",$r={"X-Client-Info":`postgrest-js/${Ur}`};class Hr{constructor(t,{headers:e={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},$r),e),this.schema=n,this.fetch=s}from(t){const e=new URL(`${this.url}/${t}`);return new Lr(e,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(t,e={},{head:n=!1,count:s}={}){let i;const o=new URL(`${this.url}/rpc/${t}`);let c;n?(i="HEAD",Object.entries(e).forEach(([h,d])=>{o.searchParams.append(h,`${d}`)})):(i="POST",c=e);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new Ue({method:i,url:o,headers:u,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}}var Mt,_n;function Br(){if(_n)return Mt;_n=1;var r=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Mt=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return r()}try{return __global__||r()}finally{delete Object.prototype.__global__}}(),Mt}const Yr="websocket",Jr="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",zr=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],qr="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",Wr=["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],Kr="1.0.34",Gr={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},Vr="https://github.com/theturtle32/WebSocket-Node",Qr={node:">=4.0.0"},Xr={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},Zr={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},ei={verbose:!1},ti={test:"tape test/unit/*.js",gulp:"gulp"},ni="index",ri={lib:"./lib"},ii="lib/browser.js",si="Apache-2.0",oi={name:Yr,description:Jr,keywords:zr,author:qr,contributors:Wr,version:Kr,repository:Gr,homepage:Vr,engines:Qr,dependencies:Xr,devDependencies:Zr,config:ei,scripts:ti,main:ni,directories:ri,browser:ii,license:si};var ai=oi.version,Se;if(typeof globalThis=="object")Se=globalThis;else try{Se=Br()}catch{}finally{if(!Se&&typeof window<"u"&&(Se=window),!Se)throw new Error("Could not determine global this")}var tt=Se.WebSocket||Se.MozWebSocket,li=ai;function Rn(r,t){var e;return t?e=new tt(r,t):e=new tt(r),e}tt&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(r){Object.defineProperty(Rn,r,{get:function(){return tt[r]}})});var ci={w3cwebsocket:tt?Rn:null,version:li};const ui="2.7.2",di={"X-Client-Info":`realtime-js/${ui}`},hi="1.0.0",Fn=1e4,fi=1e3;var Xe;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Xe||(Xe={}));var ie;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ie||(ie={}));var ce;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ce||(ce={}));var Jt;(function(r){r.websocket="websocket"})(Jt||(Jt={}));var ke;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ke||(ke={}));class Nn{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class pi{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,e,n)}_decodeBroadcast(t,e,n){const s=e.getUint8(1),i=e.getUint8(2);let o=this.HEADER_LENGTH+2;const c=n.decode(t.slice(o,o+s));o=o+s;const u=n.decode(t.slice(o,o+i));o=o+i;const h=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:c,event:u,payload:h}}}class Pt{constructor(t,e,n={},s=Fn){this.channel=t,this.event=e,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var n;return this._hasReceived(t)&&e((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wn;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(wn||(wn={}));class Ze{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(e==null?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ze.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=Ze.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ze.syncDiff(this.state,s,i,o),c())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,n,s){const i=this.cloneDeep(t),o=this.transformState(e),c={},u={};return this.map(i,(h,d)=>{o[h]||(u[h]=d)}),this.map(o,(h,d)=>{const p=i[h];if(p){const y=d.map(O=>O.presence_ref),C=p.map(O=>O.presence_ref),v=d.filter(O=>C.indexOf(O.presence_ref)<0),w=p.filter(O=>y.indexOf(O.presence_ref)<0);v.length>0&&(c[h]=v),w.length>0&&(u[h]=w)}else c[h]=d}),this.syncDiff(i,{joins:c,leaves:u},n,s)}static syncDiff(t,e,n,s){const{joins:i,leaves:o}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(c,u)=>{var h;const d=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(u),d.length>0){const p=t[c].map(C=>C.presence_ref),y=d.filter(C=>p.indexOf(C.presence_ref)<0);t[c].unshift(...y)}n(c,d,u)}),this.map(o,(c,u)=>{let h=t[c];if(!h)return;const d=u.map(p=>p.presence_ref);h=h.filter(p=>d.indexOf(p.presence_ref)<0),t[c]=h,s(c,h,u),h.length===0&&delete t[c]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(n=>e(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,n)=>{const s=t[n];return"metas"in s?e[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):e[n]=s,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var N;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(N||(N={}));const Dn=(r,t,e={})=>{var n;const s=(n=e.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=gi(o,r,t,s),i),{})},gi=(r,t,e,n)=>{const s=t.find(c=>c.name===r),i=s==null?void 0:s.type,o=e[r];return i&&!n.includes(i)?Ln(i,o):zt(o)},Ln=(r,t)=>{if(r.charAt(0)==="_"){const e=r.slice(1,r.length);return bi(t,e)}switch(r){case N.bool:return mi(t);case N.float4:case N.float8:case N.int2:case N.int4:case N.int8:case N.numeric:case N.oid:return vi(t);case N.json:case N.jsonb:return yi(t);case N.timestamp:return _i(t);case N.abstime:case N.date:case N.daterange:case N.int4range:case N.int8range:case N.money:case N.reltime:case N.text:case N.time:case N.timestamptz:case N.timetz:case N.tsrange:case N.tstzrange:return zt(t);default:return zt(t)}},zt=r=>r,mi=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},vi=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},yi=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(t){return console.log(`JSON parse error: ${t}`),r}return r},bi=(r,t)=>{if(typeof r!="string")return r;const e=r.length-1,n=r[e];if(r[0]==="{"&&n==="}"){let i;const o=r.slice(1,e);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>Ln(t,c))}return r},_i=r=>typeof r=="string"?r.replace(" ","T"):r;var Cn=globalThis&&globalThis.__awaiter||function(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function c(d){try{h(n.next(d))}catch(p){o(p)}}function u(d){try{h(n.throw(d))}catch(p){o(p)}}function h(d){d.done?i(d.value):s(d.value).then(c,u)}h((n=n.apply(r,t||[])).next())})},Tn;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Tn||(Tn={}));var En;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes"})(En||(En={}));var Sn;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Sn||(Sn={}));class an{constructor(t,e={config:{}},n){this.topic=t,this.params=e,this.socket=n,this.bindings={},this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},e.config),this.timeout=this.socket.timeout,this.joinPush=new Pt(this,ce.join,this.params,this.timeout),this.rejoinTimer=new Nn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ie.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ce.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ze(this)}subscribe(t,e=this.timeout){var n,s;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o}}=this.params;this._onError(h=>t&&t("CHANNEL_ERROR",h)),this._onClose(()=>t&&t("CLOSED"));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&s!==void 0?s:[]};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",({postgres_changes:h})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),h===void 0){t&&t("SUBSCRIBED");return}else{const p=this.bindings.postgres_changes,y=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,C=[];for(let v=0;v<y;v++){const w=p[v],{filter:{event:O,schema:L,table:H,filter:J}}=w,U=h&&h[v];if(U&&U.event===O&&U.schema===L&&U.table===H&&U.filter===J)C.push(Object.assign(Object.assign({},w),{id:U.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t("SUBSCRIBED");return}}).receive("error",h=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(t,e={}){return Cn(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)})}untrack(t={}){return Cn(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,e,n){return this._on(t,e,n)}send(t,e={}){return new Promise(n=>{var s,i,o;const c=this._push(t.type,t,e.timeout||this.timeout);c.rateLimited&&n("rate limited"),t.type==="broadcast"&&!(!((o=(i=(s=this.params)===null||s===void 0?void 0:s.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.ack)&&n("ok"),c.receive("ok",()=>n("ok")),c.receive("timeout",()=>n("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ie.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ce.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Pt(this,ce.leave,{},t);s.receive("ok",()=>{e(),n("ok")}).receive("timeout",()=>{e(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}_push(t,e,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Pt(this,t,e,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,e,n){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,n){var s,i;const o=t.toLocaleLowerCase(),{close:c,error:u,leave:h,join:d}=ce;if(n&&[c,u,h,d].indexOf(o)>=0&&n!==this._joinRef())return;let y=this._onMessage(o,e,n);if(e&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(C=>{var v,w,O;return((v=C.filter)===null||v===void 0?void 0:v.event)==="*"||((O=(w=C.filter)===null||w===void 0?void 0:w.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===o}).map(C=>C.callback(y,n)):(i=this.bindings[o])===null||i===void 0||i.filter(C=>{var v,w,O,L,H,J;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in C){const U=C.id,le=(v=C.filter)===null||v===void 0?void 0:v.event;return U&&((w=e.ids)===null||w===void 0?void 0:w.includes(U))&&(le==="*"||(le==null?void 0:le.toLocaleLowerCase())===((O=e.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const U=(H=(L=C==null?void 0:C.filter)===null||L===void 0?void 0:L.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return U==="*"||U===((J=e==null?void 0:e.event)===null||J===void 0?void 0:J.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===o}).map(C=>{if(typeof y=="object"&&"ids"in y){const v=y.data,{schema:w,table:O,commit_timestamp:L,type:H,errors:J}=v;y=Object.assign(Object.assign({},{schema:w,table:O,commit_timestamp:L,eventType:H,new:{},old:{},errors:J}),this._getPayloadRecords(v))}C.callback(y,n)})}_isClosed(){return this.state===ie.closed}_isJoined(){return this.state===ie.joined}_isJoining(){return this.state===ie.joining}_isLeaving(){return this.state===ie.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,n){const s=t.toLocaleLowerCase(),i={type:s,filter:e,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,e){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&an.isEqual(s.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ce.close,{},t)}_onError(t){this._on(ce.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=Dn(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=Dn(t.columns,t.old_record)),e}}var jt=globalThis&&globalThis.__awaiter||function(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function c(d){try{h(n.next(d))}catch(p){o(p)}}function u(d){try{h(n.throw(d))}catch(p){o(p)}}function h(d){d.done?i(d.value):s(d.value).then(c,u)}h((n=n.apply(r,t||[])).next())})};const wi=()=>{};class Di{constructor(t,e){var n;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=di,this.params={},this.timeout=Fn,this.transport=ci.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=wi,this.conn=null,this.sendBuffer=[],this.serializer=new pi,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${t}/${Jt.websocket}`,e!=null&&e.params&&(this.params=e.params),e!=null&&e.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e!=null&&e.timeout&&(this.timeout=e.timeout),e!=null&&e.logger&&(this.logger=e.logger),e!=null&&e.transport&&(this.transport=e.transport),e!=null&&e.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);const s=(n=e==null?void 0:e.params)===null||n===void 0?void 0:n.eventsPerSecond;s&&(this.eventsPerSecondLimitMs=Math.floor(1e3/s)),this.reconnectAfterMs=e!=null&&e.reconnectAfterMs?e.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=e!=null&&e.encode?e.encode:(i,o)=>o(JSON.stringify(i)),this.decode=e!=null&&e.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Nn(()=>jt(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t)))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){return jt(this,void 0,void 0,function*(){const e=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return jt(this,void 0,void 0,function*(){const t=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),t})}log(t,e,n){this.logger(t,e,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xe.connecting:return ke.Connecting;case Xe.open:return ke.Open;case Xe.closing:return ke.Closing;default:return ke.Closed}}isConnected(){return this.connectionState()===ke.Open}channel(t,e={config:{}}){this.isConnected()||this.connect();const n=new an(`realtime:${t}`,e,this);return this.channels.push(n),n}push(t){const{topic:e,event:n,payload:s,ref:i}=t;let o=()=>{this.encode(t,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};if(this.log("push",`${e} ${n} (${i})`,s),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(n)){if(this._throttle(o)())return"rate limited"}else o();else this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(e=>{t&&e.updateJoinPayload({access_token:t}),e.joinedOnce&&e._isJoined()&&e._push(ce.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hi}))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:n,event:s,payload:i,ref:o}=e;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(c=>c(e))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ce.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(e);return`${t}${n}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(fi,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(t,e=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(t(),e>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},e)),!1)}}class ln extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function K(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Ci extends ln{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class kn extends ln{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var Un=globalThis&&globalThis.__awaiter||function(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function c(d){try{h(n.next(d))}catch(p){o(p)}}function u(d){try{h(n.throw(d))}catch(p){o(p)}}function h(d){d.done?i(d.value):s(d.value).then(c,u)}h((n=n.apply(r,t||[])).next())})};const $n=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>Un(void 0,void 0,void 0,function*(){return yield(yield wt(()=>Promise.resolve().then(()=>Dt),void 0,import.meta.url)).fetch(...e)}):t=fetch,(...e)=>t(...e)},Ti=()=>Un(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wt(()=>Promise.resolve().then(()=>Dt),void 0,import.meta.url)).Response:Response});var qe=globalThis&&globalThis.__awaiter||function(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function c(d){try{h(n.next(d))}catch(p){o(p)}}function u(d){try{h(n.throw(d))}catch(p){o(p)}}function h(d){d.done?i(d.value):s(d.value).then(c,u)}h((n=n.apply(r,t||[])).next())})};const It=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Ei=(r,t)=>qe(void 0,void 0,void 0,function*(){const e=yield Ti();r instanceof e?r.json().then(n=>{t(new Ci(It(n),r.status||500))}).catch(n=>{t(new kn(It(n),n))}):t(new kn(It(r),r))}),Si=(r,t,e,n)=>{const s={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),e))};function Ct(r,t,e,n,s,i){return qe(this,void 0,void 0,function*(){return new Promise((o,c)=>{r(e,Si(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>Ei(u,c))})})}function qt(r,t,e,n){return qe(this,void 0,void 0,function*(){return Ct(r,"GET",t,e,n)})}function De(r,t,e,n,s){return qe(this,void 0,void 0,function*(){return Ct(r,"POST",t,n,s,e)})}function ki(r,t,e,n,s){return qe(this,void 0,void 0,function*(){return Ct(r,"PUT",t,n,s,e)})}function Hn(r,t,e,n,s){return qe(this,void 0,void 0,function*(){return Ct(r,"DELETE",t,n,s,e)})}var oe=globalThis&&globalThis.__awaiter||function(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function c(d){try{h(n.next(d))}catch(p){o(p)}}function u(d){try{h(n.throw(d))}catch(p){o(p)}}function h(d){d.done?i(d.value):s(d.value).then(c,u)}h((n=n.apply(r,t||[])).next())})};const Oi={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},On={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ai{constructor(t,e={},n,s){this.url=t,this.headers=e,this.bucketId=n,this.fetch=$n(s)}uploadOrUpdate(t,e,n,s){return oe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},On),s),c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl)):(i=n,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType);const u=this._removeEmptyFolders(e),h=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:t,body:i,headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{}));return d.ok?{data:{path:u},error:null}:{data:null,error:yield d.json()}}catch(i){if(K(i))return{data:null,error:i};throw i}})}upload(t,e,n){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,n)})}uploadToSignedUrl(t,e,n,s){return oe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",e);try{let u;const h=Object.assign({upsert:On.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",h.cacheControl)):(u=n,d["cache-control"]=`max-age=${h.cacheControl}`,d["content-type"]=h.contentType);const p=yield this.fetch(c.toString(),{method:"PUT",body:u,headers:d});return p.ok?{data:{path:i},error:null}:{data:null,error:yield p.json()}}catch(u){if(K(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t){return oe(this,void 0,void 0,function*(){try{let e=this._getFinalPath(t);const n=yield De(this.fetch,`${this.url}/object/upload/sign/${e}`,{},{headers:this.headers}),s=new URL(this.url+n.url),i=s.searchParams.get("token");if(!i)throw new ln("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:i},error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}})}update(t,e,n){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,n)})}move(t,e){return oe(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e},{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}})}copy(t,e){return oe(this,void 0,void 0,function*(){try{return{data:{path:(yield De(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e},{headers:this.headers})).Key},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}})}createSignedUrl(t,e,n){return oe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield De(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}})}createSignedUrls(t,e,n){return oe(this,void 0,void 0,function*(){try{const s=yield De(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}})}download(t,e){return oe(this,void 0,void 0,function*(){const s=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=i?`?${i}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield qt(this.fetch,`${this.url}/${s}/${c}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(K(c))return{data:null,error:c};throw c}})}getPublicUrl(t,e){const n=this._getFinalPath(t),s=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&s.push(i);const c=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&s.push(u);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${h}`)}}}remove(t){return oe(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}})}list(t,e,n){return oe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Oi),e),{prefix:t||""});return{data:yield De(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const xi="2.5.1",Mi={"X-Client-Info":`storage-js/${xi}`};var Ne=globalThis&&globalThis.__awaiter||function(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function c(d){try{h(n.next(d))}catch(p){o(p)}}function u(d){try{h(n.throw(d))}catch(p){o(p)}}function h(d){d.done?i(d.value):s(d.value).then(c,u)}h((n=n.apply(r,t||[])).next())})};class Pi{constructor(t,e={},n){this.url=t,this.headers=Object.assign(Object.assign({},Mi),e),this.fetch=$n(n)}listBuckets(){return Ne(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}})}getBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return Ne(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}})}updateBucket(t,e){return Ne(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}})}deleteBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}})}}class ji extends Pi{constructor(t,e={},n){super(t,e,n)}from(t){return new Ai(this.url,this.headers,t,this.fetch)}}const Ii="2.24.0",Ri={"X-Client-Info":`supabase-js/${Ii}`};var Fi=globalThis&&globalThis.__awaiter||function(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function c(d){try{h(n.next(d))}catch(p){o(p)}}function u(d){try{h(n.throw(d))}catch(p){o(p)}}function h(d){d.done?i(d.value):s(d.value).then(c,u)}h((n=n.apply(r,t||[])).next())})};const Ni=r=>{let t;return r?t=r:typeof fetch>"u"?t=on:t=fetch,(...e)=>t(...e)},Li=()=>typeof Headers>"u"?sn.Headers:Headers,Ui=(r,t,e)=>{const n=Ni(e),s=Li();return(i,o)=>Fi(void 0,void 0,void 0,function*(){var c;const u=(c=yield t())!==null&&c!==void 0?c:r;let h=new s(o==null?void 0:o.headers);return h.has("apikey")||h.set("apikey",r),h.has("Authorization")||h.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:h}))})};function $i(r){return r.replace(/\/$/,"")}function Hi(r,t){const{db:e,auth:n,realtime:s,global:i}=r,{db:o,auth:c,realtime:u,global:h}=t;return{db:Object.assign(Object.assign({},o),e),auth:Object.assign(Object.assign({},c),n),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign({},h),i)}}var je=globalThis&&globalThis.__awaiter||function(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function c(d){try{h(n.next(d))}catch(p){o(p)}}function u(d){try{h(n.throw(d))}catch(p){o(p)}}function h(d){d.done?i(d.value):s(d.value).then(c,u)}h((n=n.apply(r,t||[])).next())})};function Bi(r){return Math.round(Date.now()/1e3)+r}function Yi(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const t=Math.random()*16|0;return(r=="x"?t:t&3|8).toString(16)})}const we=()=>typeof document<"u",Ee={tested:!1,writable:!1},vt=()=>{if(!we())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ee.tested)return Ee.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Ee.tested=!0,Ee.writable=!0}catch{Ee.tested=!0,Ee.writable=!1}return Ee.writable};function X(r,t){var e;t||(t=((e=window==null?void 0:window.location)===null||e===void 0?void 0:e.href)||""),r=r.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+r+"(=([^&#]*)|&|#|$)"),s=n.exec(t);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}const Bn=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>je(void 0,void 0,void 0,function*(){return yield(yield wt(()=>Promise.resolve().then(()=>Dt),void 0,import.meta.url)).fetch(...e)}):t=fetch,(...e)=>t(...e)},Ji=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Qe=(r,t,e)=>je(void 0,void 0,void 0,function*(){yield r.setItem(t,JSON.stringify(e))}),ut=(r,t)=>je(void 0,void 0,void 0,function*(){const e=yield r.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),Rt=(r,t)=>je(void 0,void 0,void 0,function*(){yield r.removeItem(t)});function zi(r){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let e="",n,s,i,o,c,u,h,d=0;for(r=r.replace("-","+").replace("_","/");d<r.length;)o=t.indexOf(r.charAt(d++)),c=t.indexOf(r.charAt(d++)),u=t.indexOf(r.charAt(d++)),h=t.indexOf(r.charAt(d++)),n=o<<2|c>>4,s=(c&15)<<4|u>>2,i=(u&3)<<6|h,e=e+String.fromCharCode(n),u!=64&&s!=0&&(e=e+String.fromCharCode(s)),h!=64&&i!=0&&(e=e+String.fromCharCode(i));return e}class Tt{constructor(){this.promise=new Tt.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}Tt.promiseConstructor=Promise;function An(r){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,e=r.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=e[1];return JSON.parse(zi(n))}function qi(r){return new Promise(t=>{setTimeout(()=>t(null),r)})}function Wi(r,t){return new Promise((n,s)=>{je(this,void 0,void 0,function*(){for(let i=0;i<1/0;i++)try{const o=yield r(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})})}function Ki(r){return("0"+r.toString(16)).substr(-2)}function dt(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=e.length;let s="";for(let i=0;i<56;i++)s+=e.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Ki).join("")}function Gi(r){return je(this,void 0,void 0,function*(){const e=new TextEncoder().encode(r),n=yield crypto.subtle.digest("SHA-256",e),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")})}function Vi(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function ht(r){return je(this,void 0,void 0,function*(){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=yield Gi(r);return Vi(t)})}class cn extends Error{constructor(t,e){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e}}function P(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Qi extends cn{constructor(t,e){super(t,e),this.name="AuthApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function Xi(r){return P(r)&&r.name==="AuthApiError"}class Yn extends cn{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class rt extends cn{constructor(t,e,n){super(t),this.name=e,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Le extends rt{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class ft extends rt{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class ve extends rt{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ft extends rt{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wt extends rt{constructor(t,e){super(t,"AuthRetryableFetchError",e)}}var un=globalThis&&globalThis.__awaiter||function(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function c(d){try{h(n.next(d))}catch(p){o(p)}}function u(d){try{h(n.throw(d))}catch(p){o(p)}}function h(d){d.done?i(d.value):s(d.value).then(c,u)}h((n=n.apply(r,t||[])).next())})},Zi=globalThis&&globalThis.__rest||function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(e[n[s]]=r[n[s]]);return e};const pt=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),es=(r,t)=>un(void 0,void 0,void 0,function*(){const e=[502,503,504];Ji(r)?e.includes(r.status)?t(new Wt(pt(r),r.status)):r.json().then(n=>{t(new Qi(pt(n),r.status||500))}).catch(n=>{t(new Yn(pt(n),n))}):t(new Wt(pt(r),0))}),ts=(r,t,e,n)=>{const s={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),e))};function I(r,t,e,n){var s;return un(this,void 0,void 0,function*(){const i=Object.assign({},n==null?void 0:n.headers);n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=yield ns(r,t,e+c,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}})}function ns(r,t,e,n,s,i){return un(this,void 0,void 0,function*(){return new Promise((o,c)=>{r(e,ts(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>es(u,c))})})}function _e(r){var t;let e=null;os(r)&&(e=Object.assign({},r),e.expires_at=Bi(r.expires_in));const n=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:e,user:n},error:null}}function Oe(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function rs(r){return{data:r,error:null}}function is(r){const{action_link:t,email_otp:e,hashed_token:n,redirect_to:s,verification_type:i}=r,o=Zi(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:e,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function ss(r){return r}function os(r){return r.access_token&&r.refresh_token&&r.expires_in}var he=globalThis&&globalThis.__awaiter||function(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function c(d){try{h(n.next(d))}catch(p){o(p)}}function u(d){try{h(n.throw(d))}catch(p){o(p)}}function h(d){d.done?i(d.value):s(d.value).then(c,u)}h((n=n.apply(r,t||[])).next())})},as=globalThis&&globalThis.__rest||function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(e[n[s]]=r[n[s]]);return e};class ls{constructor({url:t="",headers:e={},fetch:n}){this.url=t,this.headers=e,this.fetch=Bn(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(t){return he(this,void 0,void 0,function*(){try{return yield I(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(e){if(P(e))return{data:null,error:e};throw e}})}inviteUserByEmail(t,e={}){return he(this,void 0,void 0,function*(){try{return yield I(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Oe})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}})}generateLink(t){return he(this,void 0,void 0,function*(){try{const{options:e}=t,n=as(t,["options"]),s=Object.assign(Object.assign({},n),e);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),yield I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:is,redirectTo:e==null?void 0:e.redirectTo})}catch(e){if(P(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(t){return he(this,void 0,void 0,function*(){try{return yield I(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Oe})}catch(e){if(P(e))return{data:{user:null},error:e};throw e}})}listUsers(t){var e,n,s,i,o,c,u;return he(this,void 0,void 0,function*(){try{const h={nextPage:null,lastPage:0,total:0},d=yield I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(e=t==null?void 0:t.page)===null||e===void 0?void 0:e.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ss});if(d.error)throw d.error;const p=yield d.json(),y=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,C=(u=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return C.length>0&&(C.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(v.split(";")[1].split("=")[1]);h[`${O}Page`]=w}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(P(h))return{data:{users:[]},error:h};throw h}})}getUserById(t){return he(this,void 0,void 0,function*(){try{return yield I(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Oe})}catch(e){if(P(e))return{data:{user:null},error:e};throw e}})}updateUserById(t,e){return he(this,void 0,void 0,function*(){try{return yield I(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Oe})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}})}deleteUser(t,e=!1){return he(this,void 0,void 0,function*(){try{return yield I(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Oe})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}})}_listFactors(t){return he(this,void 0,void 0,function*(){try{const{data:e,error:n}=yield I(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:e,error:n}}catch(e){if(P(e))return{data:null,error:e};throw e}})}_deleteFactor(t){return he(this,void 0,void 0,function*(){try{return{data:yield I(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(P(e))return{data:null,error:e};throw e}})}}const cs="2.28.1",us="http://localhost:9999",ds="supabase.auth.token",hs={"X-Client-Info":`gotrue-js/${cs}`},fs=10,xn={getItem:r=>vt()?globalThis.localStorage.getItem(r):null,setItem:(r,t)=>{vt()&&globalThis.localStorage.setItem(r,t)},removeItem:r=>{vt()&&globalThis.localStorage.removeItem(r)}};function ps(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var k=globalThis&&globalThis.__awaiter||function(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function c(d){try{h(n.next(d))}catch(p){o(p)}}function u(d){try{h(n.throw(d))}catch(p){o(p)}}function h(d){d.done?i(d.value):s(d.value).then(c,u)}h((n=n.apply(r,t||[])).next())})};ps();const gs={url:us,storageKey:ds,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hs,flowType:"implicit"},Nt=30*1e3,ms=3;class vs{constructor(t){var e;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null;const n=Object.assign(Object.assign({},gs),t);if(this.inMemorySession=null,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.storage=n.storage||xn,this.admin=new ls({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Bn(n.fetch),this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===xn&&!vt()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),we()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(e=this.broadcastChannel)===null||e===void 0||e.addEventListener("message",s=>{this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return k(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{const t=yield this._isPKCEFlow();if(this.detectSessionInUrl&&this._isImplicitGrantFlow()||t){const{data:e,error:n}=yield this._getSessionFromUrl(t);if(n)return yield this._removeSession(),{error:n};const{session:s,redirectType:i}=e;return yield this._saveSession(s),setTimeout(()=>{i==="recovery"?this._notifyAllSubscribers("PASSWORD_RECOVERY",s):this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return P(t)?{error:t}:{error:new Yn("Unexpected error during initialization",t)}}finally{yield this._handleVisibilityChange()}})}signUp(t){var e,n,s;return k(this,void 0,void 0,function*(){try{yield this._removeSession();let i;if("email"in t){const{email:d,password:p,options:y}=t;let C=null,v=null;if(this.flowType==="pkce"){const w=dt();yield Qe(this.storage,`${this.storageKey}-code-verifier`,w),C=yield ht(w),v=w===C?"plain":"s256"}i=yield I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:d,password:p,data:(e=y==null?void 0:y.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:C,code_challenge_method:v},xform:_e})}else if("phone"in t){const{phone:d,password:p,options:y}=t;i=yield I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:_e})}else throw new ft("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,h=o.user;return o.session&&(yield this._saveSession(o.session),this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(i){if(P(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithPassword(t){return k(this,void 0,void 0,function*(){try{yield this._removeSession();let e;if("email"in t){const{email:i,password:o,options:c}=t;e=yield I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:_e})}else if("phone"in t){const{phone:i,password:o,options:c}=t;e=yield I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:_e})}else throw new ft("You must provide either an email or phone number and a password");const{data:n,error:s}=e;return s||!n?{data:{user:null,session:null},error:s}:(n.session&&(yield this._saveSession(n.session),this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:s})}catch(e){if(P(e))return{data:{user:null,session:null},error:e};throw e}})}signInWithOAuth(t){var e,n,s,i;return k(this,void 0,void 0,function*(){return yield this._removeSession(),yield this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})})}exchangeCodeForSession(t){return k(this,void 0,void 0,function*(){const e=yield ut(this.storage,`${this.storageKey}-code-verifier`),{data:n,error:s}=yield I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:e},xform:_e});return yield Rt(this.storage,`${this.storageKey}-code-verifier`),s||!n?{data:{user:null,session:null},error:s}:(n.session&&(yield this._saveSession(n.session),this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:s})})}signInWithIdToken(t){return k(this,void 0,void 0,function*(){yield this._removeSession();try{const{options:e,provider:n,token:s,nonce:i}=t,o=yield I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,nonce:i,gotrue_meta_security:{captcha_token:e==null?void 0:e.captchaToken}},xform:_e}),{data:c,error:u}=o;return u||!c?{data:{user:null,session:null},error:u}:(c.session&&(yield this._saveSession(c.session),this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(e){if(P(e))return{data:{user:null,session:null},error:e};throw e}})}signInWithOtp(t){var e,n,s,i,o;return k(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in t){const{email:c,options:u}=t;let h=null,d=null;if(this.flowType==="pkce"){const y=dt();yield Qe(this.storage,`${this.storageKey}-code-verifier`,y),h=yield ht(y),d=y===h?"plain":"s256"}const{error:p}=yield I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(e=u==null?void 0:u.data)!==null&&e!==void 0?e:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:h,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:c,options:u}=t,{error:h}=yield I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null},error:h}}throw new ft("You must provide either an email or phone number.")}catch(c){if(P(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(t){var e,n;return k(this,void 0,void 0,function*(){try{t.type!=="email_change"&&t.type!=="phone_change"&&(yield this._removeSession());const{data:s,error:i}=yield I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(e=t.options)===null||e===void 0?void 0:e.captchaToken}}),redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,xform:_e});if(i)throw i;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,c=s.user;return o!=null&&o.access_token&&(yield this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(s){if(P(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithSSO(t){var e,n,s;return k(this,void 0,void 0,function*(){try{return yield this._removeSession(),yield I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:rs})}catch(i){if(P(i))return{data:null,error:i};throw i}})}reauthenticate(){return k(this,void 0,void 0,function*(){try{const{data:{session:t},error:e}=yield this.getSession();if(e)throw e;if(!t)throw new Le;const{error:n}=yield I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}}catch(t){if(P(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return k(this,void 0,void 0,function*(){try{yield this._removeSession();const e=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=yield I(this.fetch,"POST",e,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{error:o}=yield I(this.fetch,"POST",e,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null},error:o}}throw new ft("You must provide either an email or phone number and a type")}catch(e){if(P(e))return{data:{user:null,session:null},error:e};throw e}})}getSession(){return k(this,void 0,void 0,function*(){yield this.initializePromise;let t=null;if(this.persistSession){const i=yield ut(this.storage,this.storageKey);i!==null&&(this._isValidSession(i)?t=i:yield this._removeSession())}else t=this.inMemorySession;if(!t)return{data:{session:null},error:null};if(!(t.expires_at?t.expires_at<=Date.now()/1e3:!1))return{data:{session:t},error:null};const{session:n,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:n},error:null}})}getUser(t){var e,n;return k(this,void 0,void 0,function*(){try{if(!t){const{data:s,error:i}=yield this.getSession();if(i)throw i;t=(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:void 0}return yield I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Oe})}catch(s){if(P(s))return{data:{user:null},error:s};throw s}})}updateUser(t,e={}){return k(this,void 0,void 0,function*(){try{const{data:n,error:s}=yield this.getSession();if(s)throw s;if(!n.session)throw new Le;const i=n.session,{data:o,error:c}=yield I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e==null?void 0:e.emailRedirectTo,body:t,jwt:i.access_token,xform:Oe});if(c)throw c;return i.user=o.user,yield this._saveSession(i),this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}catch(n){if(P(n))return{data:{user:null},error:n};throw n}})}_decodeJWT(t){return An(t)}setSession(t){return k(this,void 0,void 0,function*(){try{if(!t.access_token||!t.refresh_token)throw new Le;const e=Date.now()/1e3;let n=e,s=!0,i=null;const o=An(t.access_token);if(o.exp&&(n=o.exp,s=n<=e),s){const{session:c,error:u}=yield this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:u}=yield this.getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-e,expires_at:n},yield this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(e){if(P(e))return{data:{session:null,user:null},error:e};throw e}})}refreshSession(t){var e;return k(this,void 0,void 0,function*(){try{if(!t){const{data:i,error:o}=yield this.getSession();if(o)throw o;t=(e=i.session)!==null&&e!==void 0?e:void 0}if(!(t!=null&&t.refresh_token))throw new Le;const{session:n,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}catch(n){if(P(n))return{data:{user:null,session:null},error:n};throw n}})}_getSessionFromUrl(t){return k(this,void 0,void 0,function*(){try{if(!we())throw new ve("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new ve("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Ft("Not a valid PKCE flow url.");if(t){const O=X("code");if(!O)throw new Ft("No code detected.");const{data:L,error:H}=yield this.exchangeCodeForSession(O);if(H)throw H;if(!L.session)throw new Ft("No session detected.");let J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:L.session,redirectType:null},error:null}}const e=X("error_description");if(e){const O=X("error_code");if(!O)throw new ve("No error_code detected.");const L=X("error");throw L?new ve(e,{error:L,code:O}):new ve("No error detected.")}const n=X("provider_token"),s=X("provider_refresh_token"),i=X("access_token");if(!i)throw new ve("No access_token detected.");const o=X("expires_in");if(!o)throw new ve("No expires_in detected.");const c=X("refresh_token");if(!c)throw new ve("No refresh_token detected.");const u=X("token_type");if(!u)throw new ve("No token_type detected.");const d=Math.round(Date.now()/1e3)+parseInt(o),{data:p,error:y}=yield this.getUser(i);if(y)throw y;const C=p.user,v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:parseInt(o),expires_at:d,refresh_token:c,token_type:u,user:C},w=X("type");return window.location.hash="",{data:{session:v,redirectType:w},error:null}}catch(e){if(P(e))return{data:{session:null,redirectType:null},error:e};throw e}})}_isImplicitGrantFlow(){return we()&&(!!X("access_token")||!!X("error_description"))}_isPKCEFlow(){return k(this,void 0,void 0,function*(){const t=yield ut(this.storage,`${this.storageKey}-code-verifier`);return we()&&!!X("code")&&!!t})}signOut(){var t;return k(this,void 0,void 0,function*(){const{data:e,error:n}=yield this.getSession();if(n)return{error:n};const s=(t=e.session)===null||t===void 0?void 0:t.access_token;if(s){const{error:i}=yield this.admin.signOut(s);if(i&&!(Xi(i)&&(i.status===404||i.status===401)))return{error:i}}return yield this._removeSession(),yield Rt(this.storage,`${this.storageKey}-code-verifier`),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(t){const e=Yi(),n={id:e,callback:t,unsubscribe:()=>{this.stateChangeEmitters.delete(e)}};return this.stateChangeEmitters.set(e,n),this.emitInitialSession(e),{data:{subscription:n}}}emitInitialSession(t){var e,n;return k(this,void 0,void 0,function*(){try{const{data:{session:s},error:i}=yield this.getSession();if(i)throw i;(e=this.stateChangeEmitters.get(t))===null||e===void 0||e.callback("INITIAL_SESSION",s)}catch(s){(n=this.stateChangeEmitters.get(t))===null||n===void 0||n.callback("INITIAL_SESSION",null),console.error(s)}})}resetPasswordForEmail(t,e={}){return k(this,void 0,void 0,function*(){let n=null,s=null;if(this.flowType==="pkce"){const i=dt();yield Qe(this.storage,`${this.storageKey}-code-verifier`,i),n=yield ht(i),s=i===n?"plain":"s256"}try{return yield I(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(i){if(P(i))return{data:null,error:i};throw i}})}_refreshAccessToken(t){return k(this,void 0,void 0,function*(){try{const e=Date.now();return yield Wi(n=>k(this,void 0,void 0,function*(){return yield qi(n*200),yield I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_e})}),(n,s,i)=>i&&i.error&&i.error instanceof Wt&&Date.now()+(n+1)*200-e<Nt)}catch(e){if(P(e))return{data:{session:null,user:null},error:e};throw e}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,e){return k(this,void 0,void 0,function*(){const n=yield this._getUrlForProvider(t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return we()&&!e.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}})}_recoverAndRefresh(){var t;return k(this,void 0,void 0,function*(){try{const e=yield ut(this.storage,this.storageKey);if(!this._isValidSession(e)){e!==null&&(yield this._removeSession());return}const n=Math.round(Date.now()/1e3);if(((t=e.expires_at)!==null&&t!==void 0?t:1/0)<n+fs){if(this.autoRefreshToken&&e.refresh_token){const{error:s}=yield this._callRefreshToken(e.refresh_token);s&&(console.log(s.message),yield this._removeSession())}}else this.persistSession&&(yield this._saveSession(e)),this._notifyAllSubscribers("SIGNED_IN",e)}catch(e){console.error(e);return}})}_callRefreshToken(t){var e,n;return k(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new Tt,!t)throw new Le;const{data:s,error:i}=yield this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new Le;yield this._saveSession(s.session),this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(P(s)){const i={session:null,error:s};return(e=this.refreshingDeferred)===null||e===void 0||e.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(t,e,n=!0){this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:e}),this.stateChangeEmitters.forEach(s=>s.callback(t,e))}_saveSession(t){return k(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&(yield this._persistSession(t))})}_persistSession(t){return Qe(this.storage,this.storageKey,t)}_removeSession(){return k(this,void 0,void 0,function*(){this.persistSession?yield Rt(this.storage,this.storageKey):this.inMemorySession=null})}_removeVisibilityChangedCallback(){const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&we()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}_startAutoRefresh(){return k(this,void 0,void 0,function*(){yield this._stopAutoRefresh();const t=setInterval(()=>this._autoRefreshTokenTick(),Nt);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),yield this._autoRefreshTokenTick()})}_stopAutoRefresh(){return k(this,void 0,void 0,function*(){const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return k(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return k(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return k(this,void 0,void 0,function*(){const t=Date.now();try{const{data:{session:e}}=yield this.getSession();if(!e||!e.refresh_token||!e.expires_at)return;Math.floor((e.expires_at*1e3-t)/Nt)<ms&&(yield this._callRefreshToken(e.refresh_token))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}})}_handleVisibilityChange(){return k(this,void 0,void 0,function*(){if(!we()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>k(this,void 0,void 0,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return k(this,void 0,void 0,function*(){document.visibilityState==="visible"?(t||(yield this.initializePromise,yield this._recoverAndRefresh()),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,e){return k(this,void 0,void 0,function*(){const n=[`provider=${encodeURIComponent(t)}`];if(e!=null&&e.redirectTo&&n.push(`redirect_to=${encodeURIComponent(e.redirectTo)}`),e!=null&&e.scopes&&n.push(`scopes=${encodeURIComponent(e.scopes)}`),this.flowType==="pkce"){const s=dt();yield Qe(this.storage,`${this.storageKey}-code-verifier`,s);const i=yield ht(s),o=s===i?"plain":"s256",c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(c.toString())}if(e!=null&&e.queryParams){const s=new URLSearchParams(e.queryParams);n.push(s.toString())}return`${this.url}/authorize?${n.join("&")}`})}_unenroll(t){var e;return k(this,void 0,void 0,function*(){try{const{data:n,error:s}=yield this.getSession();return s?{data:null,error:s}:yield I(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(e=n==null?void 0:n.session)===null||e===void 0?void 0:e.access_token})}catch(n){if(P(n))return{data:null,error:n};throw n}})}_enroll(t){var e,n;return k(this,void 0,void 0,function*(){try{const{data:s,error:i}=yield this.getSession();if(i)return{data:null,error:i};const{data:o,error:c}=yield I(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(e=s==null?void 0:s.session)===null||e===void 0?void 0:e.access_token});return c?{data:null,error:c}:(!((n=o==null?void 0:o.totp)===null||n===void 0)&&n.qr_code&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}catch(s){if(P(s))return{data:null,error:s};throw s}})}_verify(t){var e;return k(this,void 0,void 0,function*(){try{const{data:n,error:s}=yield this.getSession();if(s)return{data:null,error:s};const{data:i,error:o}=yield I(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(e=n==null?void 0:n.session)===null||e===void 0?void 0:e.access_token});return o?{data:null,error:o}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})}catch(n){if(P(n))return{data:null,error:n};throw n}})}_challenge(t){var e;return k(this,void 0,void 0,function*(){try{const{data:n,error:s}=yield this.getSession();return s?{data:null,error:s}:yield I(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(e=n==null?void 0:n.session)===null||e===void 0?void 0:e.access_token})}catch(n){if(P(n))return{data:null,error:n};throw n}})}_challengeAndVerify(t){return k(this,void 0,void 0,function*(){const{data:e,error:n}=yield this._challenge({factorId:t.factorId});return n?{data:null,error:n}:yield this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})})}_listFactors(){return k(this,void 0,void 0,function*(){const{data:{user:t},error:e}=yield this.getUser();if(e)return{data:null,error:e};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:n,totp:s},error:null}})}_getAuthenticatorAssuranceLevel(){var t,e;return k(this,void 0,void 0,function*(){const{data:{session:n},error:s}=yield this.getSession();if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(n.access_token);let o=null;i.aal&&(o=i.aal);let c=o;((e=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&e!==void 0?e:[]).length>0&&(c="aal2");const h=i.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:h},error:null}})}}class ys extends vs{constructor(t){super(t)}}var bs=globalThis&&globalThis.__awaiter||function(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function c(d){try{h(n.next(d))}catch(p){o(p)}}function u(d){try{h(n.throw(d))}catch(p){o(p)}}function h(d){d.done?i(d.value):s(d.value).then(c,u)}h((n=n.apply(r,t||[])).next())})};const _s={headers:Ri},ws={schema:"public"},Ds={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Cs={};class Ts{constructor(t,e,n){var s,i,o,c,u,h,d,p;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const y=$i(t);this.realtimeUrl=`${y}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${y}/auth/v1`,this.storageUrl=`${y}/storage/v1`,this.functionsUrl=`${y}/functions/v1`;const C=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,v={db:ws,realtime:Cs,auth:Object.assign(Object.assign({},Ds),{storageKey:C}),global:_s},w=Hi(n??{},v);this.storageKey=(i=(s=w.auth)===null||s===void 0?void 0:s.storageKey)!==null&&i!==void 0?i:"",this.headers=(c=(o=w.global)===null||o===void 0?void 0:o.headers)!==null&&c!==void 0?c:{},this.auth=this._initSupabaseAuthClient((u=w.auth)!==null&&u!==void 0?u:{},this.headers,(h=w.global)===null||h===void 0?void 0:h.fetch),this.fetch=Ui(e,this._getAccessToken.bind(this),(d=w.global)===null||d===void 0?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},w.realtime)),this.rest=new Hr(`${y}/rest/v1`,{headers:this.headers,schema:(p=w.db)===null||p===void 0?void 0:p.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Ir(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ji(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,e={},n){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return bs(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(e=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ys({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,flowType:o,fetch:u})}_initRealtimeClient(t){return new Di(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,n)=>{this._handleTokenChanged(e,n==null?void 0:n.access_token,"CLIENT")})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==e?(this.realtime.setAuth(e??null),this.changedAccessToken=e):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Es=(r,t,e)=>new Ts(r,t,e),Vs=Es("https://zbbwhvjmqadagyoycfil.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpiYndodmptcWFkYWd5b3ljZmlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE2Nzc3MTQ5NjcsImV4cCI6MTk5MzI5MDk2N30.LRSDU7mJnXQk4x37aHVBNyifBW-S1gWiFkdbdkrTsOE");var Lt=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],$e={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(r){return typeof console<"u"&&console.warn(r)},getWeek:function(r){var t=new Date(r.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},nt={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(r){var t=r%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},ee=function(r,t){return t===void 0&&(t=2),("000"+r).slice(t*-1)},ae=function(r){return r===!0?1:0};function Mn(r,t){var e;return function(){var n=this,s=arguments;clearTimeout(e),e=setTimeout(function(){return r.apply(n,s)},t)}}var Ut=function(r){return r instanceof Array?r:[r]};function V(r,t,e){if(e===!0)return r.classList.add(t);r.classList.remove(t)}function j(r,t,e){var n=window.document.createElement(r);return t=t||"",e=e||"",n.className=t,e!==void 0&&(n.textContent=e),n}function gt(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Jn(r,t){if(t(r))return r;if(r.parentNode)return Jn(r.parentNode,t)}function mt(r,t){var e=j("div","numInputWrapper"),n=j("input","numInput "+r),s=j("span","arrowUp"),i=j("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),t!==void 0)for(var o in t)n.setAttribute(o,t[o]);return e.appendChild(n),e.appendChild(s),e.appendChild(i),e}function ne(r){try{if(typeof r.composedPath=="function"){var t=r.composedPath();return t[0]}return r.target}catch{return r.target}}var $t=function(){},_t=function(r,t,e){return e.months[t?"shorthand":"longhand"][r]},Ss={D:$t,F:function(r,t,e){r.setMonth(e.months.longhand.indexOf(t))},G:function(r,t){r.setHours((r.getHours()>=12?12:0)+parseFloat(t))},H:function(r,t){r.setHours(parseFloat(t))},J:function(r,t){r.setDate(parseFloat(t))},K:function(r,t,e){r.setHours(r.getHours()%12+12*ae(new RegExp(e.amPM[1],"i").test(t)))},M:function(r,t,e){r.setMonth(e.months.shorthand.indexOf(t))},S:function(r,t){r.setSeconds(parseFloat(t))},U:function(r,t){return new Date(parseFloat(t)*1e3)},W:function(r,t,e){var n=parseInt(t),s=new Date(r.getFullYear(),0,2+(n-1)*7,0,0,0,0);return s.setDate(s.getDate()-s.getDay()+e.firstDayOfWeek),s},Y:function(r,t){r.setFullYear(parseFloat(t))},Z:function(r,t){return new Date(t)},d:function(r,t){r.setDate(parseFloat(t))},h:function(r,t){r.setHours((r.getHours()>=12?12:0)+parseFloat(t))},i:function(r,t){r.setMinutes(parseFloat(t))},j:function(r,t){r.setDate(parseFloat(t))},l:$t,m:function(r,t){r.setMonth(parseFloat(t)-1)},n:function(r,t){r.setMonth(parseFloat(t)-1)},s:function(r,t){r.setSeconds(parseFloat(t))},u:function(r,t){return new Date(parseFloat(t))},w:$t,y:function(r,t){r.setFullYear(2e3+parseFloat(t))}},Ae={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},et={Z:function(r){return r.toISOString()},D:function(r,t,e){return t.weekdays.shorthand[et.w(r,t,e)]},F:function(r,t,e){return _t(et.n(r,t,e)-1,!1,t)},G:function(r,t,e){return ee(et.h(r,t,e))},H:function(r){return ee(r.getHours())},J:function(r,t){return t.ordinal!==void 0?r.getDate()+t.ordinal(r.getDate()):r.getDate()},K:function(r,t){return t.amPM[ae(r.getHours()>11)]},M:function(r,t){return _t(r.getMonth(),!0,t)},S:function(r){return ee(r.getSeconds())},U:function(r){return r.getTime()/1e3},W:function(r,t,e){return e.getWeek(r)},Y:function(r){return ee(r.getFullYear(),4)},d:function(r){return ee(r.getDate())},h:function(r){return r.getHours()%12?r.getHours()%12:12},i:function(r){return ee(r.getMinutes())},j:function(r){return r.getDate()},l:function(r,t){return t.weekdays.longhand[r.getDay()]},m:function(r){return ee(r.getMonth()+1)},n:function(r){return r.getMonth()+1},s:function(r){return r.getSeconds()},u:function(r){return r.getTime()},w:function(r){return r.getDay()},y:function(r){return String(r.getFullYear()).substring(2)}},zn=function(r){var t=r.config,e=t===void 0?$e:t,n=r.l10n,s=n===void 0?nt:n,i=r.isMobile,o=i===void 0?!1:i;return function(c,u,h){var d=h||s;return e.formatDate!==void 0&&!o?e.formatDate(c,u,d):u.split("").map(function(p,y,C){return et[p]&&C[y-1]!=="\\"?et[p](c,d,e):p!=="\\"?p:""}).join("")}},Kt=function(r){var t=r.config,e=t===void 0?$e:t,n=r.l10n,s=n===void 0?nt:n;return function(i,o,c,u){if(!(i!==0&&!i)){var h=u||s,d,p=i;if(i instanceof Date)d=new Date(i.getTime());else if(typeof i!="string"&&i.toFixed!==void 0)d=new Date(i);else if(typeof i=="string"){var y=o||(e||$e).dateFormat,C=String(i).trim();if(C==="today")d=new Date,c=!0;else if(e&&e.parseDate)d=e.parseDate(i,y);else if(/Z$/.test(C)||/GMT$/.test(C))d=new Date(i);else{for(var v=void 0,w=[],O=0,L=0,H="";O<y.length;O++){var J=y[O],U=J==="\\",le=y[O-1]==="\\"||U;if(Ae[J]&&!le){H+=Ae[J];var pe=new RegExp(H).exec(i);pe&&(v=!0)&&w[J!=="Y"?"push":"unshift"]({fn:Ss[J],val:pe[++L]})}else U||(H+=".")}d=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),w.forEach(function(be){var Q=be.fn,We=be.val;return d=Q(d,We,h)||d}),d=v?d:void 0}}if(!(d instanceof Date&&!isNaN(d.getTime()))){e.errorHandler(new Error("Invalid date provided: "+p));return}return c===!0&&d.setHours(0,0,0,0),d}}};function re(r,t,e){return e===void 0&&(e=!0),e!==!1?new Date(r.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):r.getTime()-t.getTime()}var ks=function(r,t,e){return r>Math.min(t,e)&&r<Math.max(t,e)},Ht=function(r,t,e){return r*3600+t*60+e},Os=function(r){var t=Math.floor(r/3600),e=(r-t*3600)/60;return[t,e,r-t*3600-e*60]},As={DAY:864e5};function Bt(r){var t=r.defaultHour,e=r.defaultMinute,n=r.defaultSeconds;if(r.minDate!==void 0){var s=r.minDate.getHours(),i=r.minDate.getMinutes(),o=r.minDate.getSeconds();t<s&&(t=s),t===s&&e<i&&(e=i),t===s&&e===i&&n<o&&(n=r.minDate.getSeconds())}if(r.maxDate!==void 0){var c=r.maxDate.getHours(),u=r.maxDate.getMinutes();t=Math.min(t,c),t===c&&(e=Math.min(u,e)),t===c&&e===u&&(n=r.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:n}}typeof Object.assign!="function"&&(Object.assign=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!r)throw TypeError("Cannot convert undefined or null to object");for(var n=function(c){c&&Object.keys(c).forEach(function(u){return r[u]=c[u]})},s=0,i=t;s<i.length;s++){var o=i[s];n(o)}return r});var G=globalThis&&globalThis.__assign||function(){return G=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},G.apply(this,arguments)},Pn=globalThis&&globalThis.__spreadArrays||function(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),s=0,t=0;t<e;t++)for(var i=arguments[t],o=0,c=i.length;o<c;o++,s++)n[s]=i[o];return n},xs=300;function Ms(r,t){var e={config:G(G({},$e),q.defaultConfig),l10n:nt};e.parseDate=Kt({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=w,e._setHoursFromDate=y,e._positionCalendar=at,e.changeMonth=ge,e.changeYear=it,e.clear=Ke,e.close=qn,e.onMouseOver=ot,e._createElement=j,e.createDay=pe,e.destroy=Wn,e.isEnabled=Te,e.jumpToDate=H,e.updateValue=me,e.open=Vn,e.redraw=gn,e.set=er,e.setDate=tr,e.toggle=sr;function n(){e.utils={getDaysInMonth:function(a,l){return a===void 0&&(a=e.currentMonth),l===void 0&&(l=e.currentYear),a===1&&(l%4===0&&l%100!==0||l%400===0)?29:e.l10n.daysInMonth[a]}}}function s(){e.element=e.input=r,e.isOpen=!1,Qn(),pn(),rr(),nr(),n(),e.isMobile||le(),L(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&y(e.config.noCalendar?e.latestSelectedDateObj:void 0),me(!1)),c();var a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&a&&at(),$("onReady")}function i(){var a;return((a=e.calendarContainer)===null||a===void 0?void 0:a.getRootNode()).activeElement||document.activeElement}function o(a){return a.bind(e)}function c(){var a=e.config;a.weekNumbers===!1&&a.showMonths===1||a.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var l=(e.days.offsetWidth+1)*a.showMonths;e.daysContainer.style.width=l+"px",e.calendarContainer.style.width=l+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function u(a){if(e.selectedDates.length===0){var l=e.config.minDate===void 0||re(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),f=Bt(e.config);l.setHours(f.hours,f.minutes,f.seconds,l.getMilliseconds()),e.selectedDates=[l],e.latestSelectedDateObj=l}a!==void 0&&a.type!=="blur"&&lr(a);var m=e._input.value;p(),me(),e._input.value!==m&&e._debouncedChange()}function h(a,l){return a%12+12*ae(l===e.l10n.amPM[1])}function d(a){switch(a%24){case 0:case 12:return 12;default:return a%12}}function p(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var a=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,l=(parseInt(e.minuteElement.value,10)||0)%60,f=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(a=h(a,e.amPM.textContent));var m=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&re(e.latestSelectedDateObj,e.config.minDate,!0)===0,b=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&re(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var D=Ht(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),A=Ht(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),E=Ht(a,l,f);if(E>A&&E<D){var M=Os(D);a=M[0],l=M[1],f=M[2]}}else{if(b){var T=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;a=Math.min(a,T.getHours()),a===T.getHours()&&(l=Math.min(l,T.getMinutes())),l===T.getMinutes()&&(f=Math.min(f,T.getSeconds()))}if(m){var S=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;a=Math.max(a,S.getHours()),a===S.getHours()&&l<S.getMinutes()&&(l=S.getMinutes()),l===S.getMinutes()&&(f=Math.max(f,S.getSeconds()))}}C(a,l,f)}}function y(a){var l=a||e.latestSelectedDateObj;l&&l instanceof Date&&C(l.getHours(),l.getMinutes(),l.getSeconds())}function C(a,l,f){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(a%24,l,f||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=ee(e.config.time_24hr?a:(12+a)%12+12*ae(a%12===0)),e.minuteElement.value=ee(l),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[ae(a>=12)]),e.secondElement!==void 0&&(e.secondElement.value=ee(f)))}function v(a){var l=ne(a),f=parseInt(l.value)+(a.delta||0);(f/1e3>1||a.key==="Enter"&&!/[^\d]/.test(f.toString()))&&it(f)}function w(a,l,f,m){if(l instanceof Array)return l.forEach(function(b){return w(a,b,f,m)});if(a instanceof Array)return a.forEach(function(b){return w(b,l,f,m)});a.addEventListener(l,f,m),e._handlers.push({remove:function(){return a.removeEventListener(l,f,m)}})}function O(){$("onChange")}function L(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(f){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+f+"]"),function(m){return w(m,"click",e[f])})}),e.isMobile){ir();return}var a=Mn(Gn,50);if(e._debouncedChange=Mn(O,xs),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&w(e.daysContainer,"mouseover",function(f){e.config.mode==="range"&&ot(ne(f))}),w(e._input,"keydown",dn),e.calendarContainer!==void 0&&w(e.calendarContainer,"keydown",dn),!e.config.inline&&!e.config.static&&w(window,"resize",a),window.ontouchstart!==void 0?w(window.document,"touchstart",Et):w(window.document,"mousedown",Et),w(window.document,"focus",Et,{capture:!0}),e.config.clickOpens===!0&&(w(e._input,"focus",e.open),w(e._input,"click",e.open)),e.daysContainer!==void 0&&(w(e.monthNav,"click",ar),w(e.monthNav,["keyup","increment"],v),w(e.daysContainer,"click",mn)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var l=function(f){return ne(f).select()};w(e.timeContainer,["increment"],u),w(e.timeContainer,"blur",u,{capture:!0}),w(e.timeContainer,"click",J),w([e.hourElement,e.minuteElement],["focus","click"],l),e.secondElement!==void 0&&w(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&w(e.amPM,"click",function(f){u(f)})}e.config.allowInput&&w(e._input,"blur",Kn)}function H(a,l){var f=a!==void 0?e.parseDate(a):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),m=e.currentYear,b=e.currentMonth;try{f!==void 0&&(e.currentYear=f.getFullYear(),e.currentMonth=f.getMonth())}catch(D){D.message="Invalid date supplied: "+f,e.config.errorHandler(D)}l&&e.currentYear!==m&&($("onYearChange"),ue()),l&&(e.currentYear!==m||e.currentMonth!==b)&&$("onMonthChange"),e.redraw()}function J(a){var l=ne(a);~l.className.indexOf("arrow")&&U(a,l.classList.contains("arrowUp")?1:-1)}function U(a,l,f){var m=a&&ne(a),b=f||m&&m.parentNode&&m.parentNode.firstChild,D=kt("increment");D.delta=l,b&&b.dispatchEvent(D)}function le(){var a=window.document.createDocumentFragment();if(e.calendarContainer=j("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(a.appendChild(x()),e.innerContainer=j("div","flatpickr-innerContainer"),e.config.weekNumbers){var l=Re(),f=l.weekWrapper,m=l.weekNumbers;e.innerContainer.appendChild(f),e.weekNumbers=m,e.weekWrapper=f}e.rContainer=j("div","flatpickr-rContainer"),e.rContainer.appendChild(z()),e.daysContainer||(e.daysContainer=j("div","flatpickr-days"),e.daysContainer.tabIndex=-1),Ie(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),a.appendChild(e.innerContainer)}e.config.enableTime&&a.appendChild(W()),V(e.calendarContainer,"rangeMode",e.config.mode==="range"),V(e.calendarContainer,"animate",e.config.animate===!0),V(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(a);var b=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!b&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var D=j("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(D,e.element),D.appendChild(e.element),e.altInput&&D.appendChild(e.altInput),D.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function pe(a,l,f,m){var b=Te(l,!0),D=j("span",a,l.getDate().toString());return D.dateObj=l,D.$i=m,D.setAttribute("aria-label",e.formatDate(l,e.config.ariaDateFormat)),a.indexOf("hidden")===-1&&re(l,e.now)===0&&(e.todayDateElem=D,D.classList.add("today"),D.setAttribute("aria-current","date")),b?(D.tabIndex=-1,Ot(l)&&(D.classList.add("selected"),e.selectedDateElem=D,e.config.mode==="range"&&(V(D,"startRange",e.selectedDates[0]&&re(l,e.selectedDates[0],!0)===0),V(D,"endRange",e.selectedDates[1]&&re(l,e.selectedDates[1],!0)===0),a==="nextMonthDay"&&D.classList.add("inRange")))):D.classList.add("flatpickr-disabled"),e.config.mode==="range"&&or(l)&&!Ot(l)&&D.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&a!=="prevMonthDay"&&m%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(l)+"</span>"),$("onDayCreate",D),D}function be(a){a.focus(),e.config.mode==="range"&&ot(a)}function Q(a){for(var l=a>0?0:e.config.showMonths-1,f=a>0?e.config.showMonths:-1,m=l;m!=f;m+=a)for(var b=e.daysContainer.children[m],D=a>0?0:b.children.length-1,A=a>0?b.children.length:-1,E=D;E!=A;E+=a){var M=b.children[E];if(M.className.indexOf("hidden")===-1&&Te(M.dateObj))return M}}function We(a,l){for(var f=a.className.indexOf("Month")===-1?a.dateObj.getMonth():e.currentMonth,m=l>0?e.config.showMonths:-1,b=l>0?1:-1,D=f-e.currentMonth;D!=m;D+=b)for(var A=e.daysContainer.children[D],E=f-e.currentMonth===D?a.$i+l:l<0?A.children.length-1:0,M=A.children.length,T=E;T>=0&&T<M&&T!=(l>0?M:-1);T+=b){var S=A.children[T];if(S.className.indexOf("hidden")===-1&&Te(S.dateObj)&&Math.abs(a.$i-T)>=Math.abs(l))return be(S)}e.changeMonth(b),Ce(Q(b),0)}function Ce(a,l){var f=i(),m=st(f||document.body),b=a!==void 0?a:m?f:e.selectedDateElem!==void 0&&st(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&st(e.todayDateElem)?e.todayDateElem:Q(l>0?1:-1);b===void 0?e._input.focus():m?We(b,l):be(b)}function se(a,l){for(var f=(new Date(a,l,1).getDay()-e.l10n.firstDayOfWeek+7)%7,m=e.utils.getDaysInMonth((l-1+12)%12,a),b=e.utils.getDaysInMonth(l,a),D=window.document.createDocumentFragment(),A=e.config.showMonths>1,E=A?"prevMonthDay hidden":"prevMonthDay",M=A?"nextMonthDay hidden":"nextMonthDay",T=m+1-f,S=0;T<=m;T++,S++)D.appendChild(pe("flatpickr-day "+E,new Date(a,l-1,T),T,S));for(T=1;T<=b;T++,S++)D.appendChild(pe("flatpickr-day",new Date(a,l,T),T,S));for(var F=b+1;F<=42-f&&(e.config.showMonths===1||S%7!==0);F++,S++)D.appendChild(pe("flatpickr-day "+M,new Date(a,l+1,F%b),F,S));var de=j("div","dayContainer");return de.appendChild(D),de}function Ie(){if(e.daysContainer!==void 0){gt(e.daysContainer),e.weekNumbers&&gt(e.weekNumbers);for(var a=document.createDocumentFragment(),l=0;l<e.config.showMonths;l++){var f=new Date(e.currentYear,e.currentMonth,1);f.setMonth(e.currentMonth+l),a.appendChild(se(f.getFullYear(),f.getMonth()))}e.daysContainer.appendChild(a),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&ot()}}function ue(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var a=function(m){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&m<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&m>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var l=0;l<12;l++)if(a(l)){var f=j("option","flatpickr-monthDropdown-month");f.value=new Date(e.currentYear,l).getMonth().toString(),f.textContent=_t(l,e.config.shorthandCurrentMonth,e.l10n),f.tabIndex=-1,e.currentMonth===l&&(f.selected=!0),e.monthsDropdownContainer.appendChild(f)}}}function g(){var a=j("div","flatpickr-month"),l=window.document.createDocumentFragment(),f;e.config.showMonths>1||e.config.monthSelectorType==="static"?f=j("span","cur-month"):(e.monthsDropdownContainer=j("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),w(e.monthsDropdownContainer,"change",function(A){var E=ne(A),M=parseInt(E.value,10);e.changeMonth(M-e.currentMonth),$("onMonthChange")}),ue(),f=e.monthsDropdownContainer);var m=mt("cur-year",{tabindex:"-1"}),b=m.getElementsByTagName("input")[0];b.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&b.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(b.setAttribute("max",e.config.maxDate.getFullYear().toString()),b.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var D=j("div","flatpickr-current-month");return D.appendChild(f),D.appendChild(m),l.appendChild(D),a.appendChild(l),{container:a,yearElement:b,monthElement:f}}function _(){gt(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var a=e.config.showMonths;a--;){var l=g();e.yearElements.push(l.yearElement),e.monthElements.push(l.monthElement),e.monthNav.appendChild(l.container)}e.monthNav.appendChild(e.nextMonthNav)}function x(){return e.monthNav=j("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=j("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=j("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,_(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(a){e.__hidePrevMonthArrow!==a&&(V(e.prevMonthNav,"flatpickr-disabled",a),e.__hidePrevMonthArrow=a)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(a){e.__hideNextMonthArrow!==a&&(V(e.nextMonthNav,"flatpickr-disabled",a),e.__hideNextMonthArrow=a)}}),e.currentYearElement=e.yearElements[0],ct(),e.monthNav}function W(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var a=Bt(e.config);e.timeContainer=j("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var l=j("span","flatpickr-time-separator",":"),f=mt("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=f.getElementsByTagName("input")[0];var m=mt("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=m.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=ee(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?a.hours:d(a.hours)),e.minuteElement.value=ee(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():a.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(f),e.timeContainer.appendChild(l),e.timeContainer.appendChild(m),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var b=mt("flatpickr-second");e.secondElement=b.getElementsByTagName("input")[0],e.secondElement.value=ee(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():a.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(j("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(b)}return e.config.time_24hr||(e.amPM=j("span","flatpickr-am-pm",e.l10n.amPM[ae((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function z(){e.weekdayContainer?gt(e.weekdayContainer):e.weekdayContainer=j("div","flatpickr-weekdays");for(var a=e.config.showMonths;a--;){var l=j("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(l)}return R(),e.weekdayContainer}function R(){if(e.weekdayContainer){var a=e.l10n.firstDayOfWeek,l=Pn(e.l10n.weekdays.shorthand);a>0&&a<l.length&&(l=Pn(l.splice(a,l.length),l.splice(0,a)));for(var f=e.config.showMonths;f--;)e.weekdayContainer.children[f].innerHTML=`
      <span class='flatpickr-weekday'>
        `+l.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Re(){e.calendarContainer.classList.add("hasWeeks");var a=j("div","flatpickr-weekwrapper");a.appendChild(j("span","flatpickr-weekday",e.l10n.weekAbbreviation));var l=j("div","flatpickr-weeks");return a.appendChild(l),{weekWrapper:a,weekNumbers:l}}function ge(a,l){l===void 0&&(l=!0);var f=l?a:a-e.currentMonth;f<0&&e._hidePrevMonthArrow===!0||f>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=f,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,$("onYearChange"),ue()),Ie(),$("onMonthChange"),ct())}function Ke(a,l){if(a===void 0&&(a=!0),l===void 0&&(l=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,l===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var f=Bt(e.config),m=f.hours,b=f.minutes,D=f.seconds;C(m,b,D)}e.redraw(),a&&$("onChange")}function qn(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),$("onClose")}function Wn(){e.config!==void 0&&$("onDestroy");for(var a=e._handlers.length;a--;)e._handlers[a].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var l=e.calendarContainer.parentNode;if(l.lastChild&&l.removeChild(l.lastChild),l.parentNode){for(;l.firstChild;)l.parentNode.insertBefore(l.firstChild,l);l.parentNode.removeChild(l)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(f){try{delete e[f]}catch{}})}function Ge(a){return e.calendarContainer.contains(a)}function Et(a){if(e.isOpen&&!e.config.inline){var l=ne(a),f=Ge(l),m=l===e.input||l===e.altInput||e.element.contains(l)||a.path&&a.path.indexOf&&(~a.path.indexOf(e.input)||~a.path.indexOf(e.altInput)),b=!m&&!f&&!Ge(a.relatedTarget),D=!e.config.ignoredFocusElements.some(function(A){return A.contains(l)});b&&D&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&u(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function it(a){if(!(!a||e.config.minDate&&a<e.config.minDate.getFullYear()||e.config.maxDate&&a>e.config.maxDate.getFullYear())){var l=a,f=e.currentYear!==l;e.currentYear=l||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),f&&(e.redraw(),$("onYearChange"),ue())}}function Te(a,l){var f;l===void 0&&(l=!0);var m=e.parseDate(a,void 0,l);if(e.config.minDate&&m&&re(m,e.config.minDate,l!==void 0?l:!e.minDateHasTime)<0||e.config.maxDate&&m&&re(m,e.config.maxDate,l!==void 0?l:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(m===void 0)return!1;for(var b=!!e.config.enable,D=(f=e.config.enable)!==null&&f!==void 0?f:e.config.disable,A=0,E=void 0;A<D.length;A++){if(E=D[A],typeof E=="function"&&E(m))return b;if(E instanceof Date&&m!==void 0&&E.getTime()===m.getTime())return b;if(typeof E=="string"){var M=e.parseDate(E,void 0,!0);return M&&M.getTime()===m.getTime()?b:!b}else if(typeof E=="object"&&m!==void 0&&E.from&&E.to&&m.getTime()>=E.from.getTime()&&m.getTime()<=E.to.getTime())return b}return!b}function st(a){return e.daysContainer!==void 0?a.className.indexOf("hidden")===-1&&a.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(a):!1}function Kn(a){var l=a.target===e._input,f=e._input.value.trimEnd()!==At();l&&f&&!(a.relatedTarget&&Ge(a.relatedTarget))&&e.setDate(e._input.value,!0,a.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function dn(a){var l=ne(a),f=e.config.wrap?r.contains(l):l===e._input,m=e.config.allowInput,b=e.isOpen&&(!m||!f),D=e.config.inline&&f&&!m;if(a.keyCode===13&&f){if(m)return e.setDate(e._input.value,!0,l===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),l.blur();e.open()}else if(Ge(l)||b||D){var A=!!e.timeContainer&&e.timeContainer.contains(l);switch(a.keyCode){case 13:A?(a.preventDefault(),u(),St()):mn(a);break;case 27:a.preventDefault(),St();break;case 8:case 46:f&&!e.config.allowInput&&(a.preventDefault(),e.clear());break;case 37:case 39:if(!A&&!f){a.preventDefault();var E=i();if(e.daysContainer!==void 0&&(m===!1||E&&st(E))){var M=a.keyCode===39?1:-1;a.ctrlKey?(a.stopPropagation(),ge(M),Ce(Q(1),0)):Ce(void 0,M)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:a.preventDefault();var T=a.keyCode===40?1:-1;e.daysContainer&&l.$i!==void 0||l===e.input||l===e.altInput?a.ctrlKey?(a.stopPropagation(),it(e.currentYear-T),Ce(Q(1),0)):A||Ce(void 0,T*7):l===e.currentYearElement?it(e.currentYear-T):e.config.enableTime&&(!A&&e.hourElement&&e.hourElement.focus(),u(a),e._debouncedChange());break;case 9:if(A){var S=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(te){return te}),F=S.indexOf(l);if(F!==-1){var de=S[F+(a.shiftKey?-1:1)];a.preventDefault(),(de||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(l)&&a.shiftKey&&(a.preventDefault(),e._input.focus());break}}if(e.amPM!==void 0&&l===e.amPM)switch(a.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],p(),me();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],p(),me();break}(f||Ge(l))&&$("onKeyDown",a)}function ot(a,l){if(l===void 0&&(l="flatpickr-day"),!(e.selectedDates.length!==1||a&&(!a.classList.contains(l)||a.classList.contains("flatpickr-disabled")))){for(var f=a?a.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),m=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),b=Math.min(f,e.selectedDates[0].getTime()),D=Math.max(f,e.selectedDates[0].getTime()),A=!1,E=0,M=0,T=b;T<D;T+=As.DAY)Te(new Date(T),!0)||(A=A||T>b&&T<D,T<m&&(!E||T>E)?E=T:T>m&&(!M||T<M)&&(M=T));var S=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+l));S.forEach(function(F){var de=F.dateObj,te=de.getTime(),Ve=E>0&&te<E||M>0&&te>M;if(Ve){F.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Fe){F.classList.remove(Fe)});return}else if(A&&!Ve)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Fe){F.classList.remove(Fe)}),a!==void 0&&(a.classList.add(f<=e.selectedDates[0].getTime()?"startRange":"endRange"),m<f&&te===m?F.classList.add("startRange"):m>f&&te===m&&F.classList.add("endRange"),te>=E&&(M===0||te<=M)&&ks(te,m,f)&&F.classList.add("inRange"))})}}function Gn(){e.isOpen&&!e.config.static&&!e.config.inline&&at()}function Vn(a,l){if(l===void 0&&(l=e._positionElement),e.isMobile===!0){if(a){a.preventDefault();var f=ne(a);f&&f.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),$("onOpen");return}else if(e._input.disabled||e.config.inline)return;var m=e.isOpen;e.isOpen=!0,m||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),$("onOpen"),at(l)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(a===void 0||!e.timeContainer.contains(a.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function hn(a){return function(l){var f=e.config["_"+a+"Date"]=e.parseDate(l,e.config.dateFormat),m=e.config["_"+(a==="min"?"max":"min")+"Date"];f!==void 0&&(e[a==="min"?"minDateHasTime":"maxDateHasTime"]=f.getHours()>0||f.getMinutes()>0||f.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(b){return Te(b)}),!e.selectedDates.length&&a==="min"&&y(f),me()),e.daysContainer&&(gn(),f!==void 0?e.currentYearElement[a]=f.getFullYear().toString():e.currentYearElement.removeAttribute(a),e.currentYearElement.disabled=!!m&&f!==void 0&&m.getFullYear()===f.getFullYear())}}function Qn(){var a=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],l=G(G({},JSON.parse(JSON.stringify(r.dataset||{}))),t),f={};e.config.parseDate=l.parseDate,e.config.formatDate=l.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(S){e.config._enable=yn(S)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(S){e.config._disable=yn(S)}});var m=l.mode==="time";if(!l.dateFormat&&(l.enableTime||m)){var b=q.defaultConfig.dateFormat||$e.dateFormat;f.dateFormat=l.noCalendar||m?"H:i"+(l.enableSeconds?":S":""):b+" H:i"+(l.enableSeconds?":S":"")}if(l.altInput&&(l.enableTime||m)&&!l.altFormat){var D=q.defaultConfig.altFormat||$e.altFormat;f.altFormat=l.noCalendar||m?"h:i"+(l.enableSeconds?":S K":" K"):D+(" h:i"+(l.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:hn("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:hn("max")});var A=function(S){return function(F){e.config[S==="min"?"_minTime":"_maxTime"]=e.parseDate(F,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:A("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:A("max")}),l.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,f,l);for(var E=0;E<a.length;E++)e.config[a[E]]=e.config[a[E]]===!0||e.config[a[E]]==="true";Lt.filter(function(S){return e.config[S]!==void 0}).forEach(function(S){e.config[S]=Ut(e.config[S]||[]).map(o)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var E=0;E<e.config.plugins.length;E++){var M=e.config.plugins[E](e)||{};for(var T in M)Lt.indexOf(T)>-1?e.config[T]=Ut(M[T]).map(o).concat(e.config[T]):typeof l[T]>"u"&&(e.config[T]=M[T])}l.altInputClass||(e.config.altInputClass=fn().className+" "+e.config.altInputClass),$("onParseConfig")}function fn(){return e.config.wrap?r.querySelector("[data-input]"):r}function pn(){typeof e.config.locale!="object"&&typeof q.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=G(G({},q.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?q.l10ns[e.config.locale]:void 0),Ae.D="("+e.l10n.weekdays.shorthand.join("|")+")",Ae.l="("+e.l10n.weekdays.longhand.join("|")+")",Ae.M="("+e.l10n.months.shorthand.join("|")+")",Ae.F="("+e.l10n.months.longhand.join("|")+")",Ae.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var a=G(G({},t),JSON.parse(JSON.stringify(r.dataset||{})));a.time_24hr===void 0&&q.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=zn(e),e.parseDate=Kt({config:e.config,l10n:e.l10n})}function at(a){if(typeof e.config.position=="function")return void e.config.position(e,a);if(e.calendarContainer!==void 0){$("onPreCalendarPosition");var l=a||e._positionElement,f=Array.prototype.reduce.call(e.calendarContainer.children,function(mr,vr){return mr+vr.offsetHeight},0),m=e.calendarContainer.offsetWidth,b=e.config.position.split(" "),D=b[0],A=b.length>1?b[1]:null,E=l.getBoundingClientRect(),M=window.innerHeight-E.bottom,T=D==="above"||D!=="below"&&M<f&&E.top>f,S=window.pageYOffset+E.top+(T?-f-2:l.offsetHeight+2);if(V(e.calendarContainer,"arrowTop",!T),V(e.calendarContainer,"arrowBottom",T),!e.config.inline){var F=window.pageXOffset+E.left,de=!1,te=!1;A==="center"?(F-=(m-E.width)/2,de=!0):A==="right"&&(F-=m-E.width,te=!0),V(e.calendarContainer,"arrowLeft",!de&&!te),V(e.calendarContainer,"arrowCenter",de),V(e.calendarContainer,"arrowRight",te);var Ve=window.document.body.offsetWidth-(window.pageXOffset+E.right),Fe=F+m>window.document.body.offsetWidth,cr=Ve+m>window.document.body.offsetWidth;if(V(e.calendarContainer,"rightMost",Fe),!e.config.static)if(e.calendarContainer.style.top=S+"px",!Fe)e.calendarContainer.style.left=F+"px",e.calendarContainer.style.right="auto";else if(!cr)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=Ve+"px";else{var xt=Xn();if(xt===void 0)return;var ur=window.document.body.offsetWidth,dr=Math.max(0,ur/2-m/2),hr=".flatpickr-calendar.centerMost:before",fr=".flatpickr-calendar.centerMost:after",pr=xt.cssRules.length,gr="{left:"+E.left+"px;right:auto;}";V(e.calendarContainer,"rightMost",!1),V(e.calendarContainer,"centerMost",!0),xt.insertRule(hr+","+fr+gr,pr),e.calendarContainer.style.left=dr+"px",e.calendarContainer.style.right="auto"}}}}function Xn(){for(var a=null,l=0;l<document.styleSheets.length;l++){var f=document.styleSheets[l];if(f.cssRules){try{f.cssRules}catch{continue}a=f;break}}return a??Zn()}function Zn(){var a=document.createElement("style");return document.head.appendChild(a),a.sheet}function gn(){e.config.noCalendar||e.isMobile||(ue(),ct(),Ie())}function St(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function mn(a){a.preventDefault(),a.stopPropagation();var l=function(S){return S.classList&&S.classList.contains("flatpickr-day")&&!S.classList.contains("flatpickr-disabled")&&!S.classList.contains("notAllowed")},f=Jn(ne(a),l);if(f!==void 0){var m=f,b=e.latestSelectedDateObj=new Date(m.dateObj.getTime()),D=(b.getMonth()<e.currentMonth||b.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=m,e.config.mode==="single")e.selectedDates=[b];else if(e.config.mode==="multiple"){var A=Ot(b);A?e.selectedDates.splice(parseInt(A),1):e.selectedDates.push(b)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=b,e.selectedDates.push(b),re(b,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(S,F){return S.getTime()-F.getTime()}));if(p(),D){var E=e.currentYear!==b.getFullYear();e.currentYear=b.getFullYear(),e.currentMonth=b.getMonth(),E&&($("onYearChange"),ue()),$("onMonthChange")}if(ct(),Ie(),me(),!D&&e.config.mode!=="range"&&e.config.showMonths===1?be(m):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var M=e.config.mode==="single"&&!e.config.enableTime,T=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(M||T)&&St()}O()}}var lt={locale:[pn,R],showMonths:[_,c,z],minDate:[H],maxDate:[H],positionElement:[bn],clickOpens:[function(){e.config.clickOpens===!0?(w(e._input,"focus",e.open),w(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function er(a,l){if(a!==null&&typeof a=="object"){Object.assign(e.config,a);for(var f in a)lt[f]!==void 0&&lt[f].forEach(function(m){return m()})}else e.config[a]=l,lt[a]!==void 0?lt[a].forEach(function(m){return m()}):Lt.indexOf(a)>-1&&(e.config[a]=Ut(l));e.redraw(),me(!0)}function vn(a,l){var f=[];if(a instanceof Array)f=a.map(function(m){return e.parseDate(m,l)});else if(a instanceof Date||typeof a=="number")f=[e.parseDate(a,l)];else if(typeof a=="string")switch(e.config.mode){case"single":case"time":f=[e.parseDate(a,l)];break;case"multiple":f=a.split(e.config.conjunction).map(function(m){return e.parseDate(m,l)});break;case"range":f=a.split(e.l10n.rangeSeparator).map(function(m){return e.parseDate(m,l)});break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(a)));e.selectedDates=e.config.allowInvalidPreload?f:f.filter(function(m){return m instanceof Date&&Te(m,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(m,b){return m.getTime()-b.getTime()})}function tr(a,l,f){if(l===void 0&&(l=!1),f===void 0&&(f=e.config.dateFormat),a!==0&&!a||a instanceof Array&&a.length===0)return e.clear(l);vn(a,f),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),H(void 0,l),y(),e.selectedDates.length===0&&e.clear(!1),me(l),l&&$("onChange")}function yn(a){return a.slice().map(function(l){return typeof l=="string"||typeof l=="number"||l instanceof Date?e.parseDate(l,void 0,!0):l&&typeof l=="object"&&l.from&&l.to?{from:e.parseDate(l.from,void 0),to:e.parseDate(l.to,void 0)}:l}).filter(function(l){return l})}function nr(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var a=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);a&&vn(a,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function rr(){if(e.input=fn(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=j(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),bn()}function bn(){e._positionElement=e.config.positionElement||e._input}function ir(){var a=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=j("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=a,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=a==="datetime-local"?"Y-m-d\\TH:i:S":a==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}w(e.mobileInput,"change",function(l){e.setDate(ne(l).value,!1,e.mobileFormatStr),$("onChange"),$("onClose")})}function sr(a){if(e.isOpen===!0)return e.close();e.open(a)}function $(a,l){if(e.config!==void 0){var f=e.config[a];if(f!==void 0&&f.length>0)for(var m=0;f[m]&&m<f.length;m++)f[m](e.selectedDates,e.input.value,e,l);a==="onChange"&&(e.input.dispatchEvent(kt("change")),e.input.dispatchEvent(kt("input")))}}function kt(a){var l=document.createEvent("Event");return l.initEvent(a,!0,!0),l}function Ot(a){for(var l=0;l<e.selectedDates.length;l++){var f=e.selectedDates[l];if(f instanceof Date&&re(f,a)===0)return""+l}return!1}function or(a){return e.config.mode!=="range"||e.selectedDates.length<2?!1:re(a,e.selectedDates[0])>=0&&re(a,e.selectedDates[1])<=0}function ct(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(a,l){var f=new Date(e.currentYear,e.currentMonth,1);f.setMonth(e.currentMonth+l),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[l].textContent=_t(f.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=f.getMonth().toString(),a.value=f.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function At(a){var l=a||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(f){return e.formatDate(f,l)}).filter(function(f,m,b){return e.config.mode!=="range"||e.config.enableTime||b.indexOf(f)===m}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function me(a){a===void 0&&(a=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=At(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=At(e.config.altFormat)),a!==!1&&$("onValueUpdate")}function ar(a){var l=ne(a),f=e.prevMonthNav.contains(l),m=e.nextMonthNav.contains(l);f||m?ge(f?-1:1):e.yearElements.indexOf(l)>=0?l.select():l.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):l.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function lr(a){a.preventDefault();var l=a.type==="keydown",f=ne(a),m=f;e.amPM!==void 0&&f===e.amPM&&(e.amPM.textContent=e.l10n.amPM[ae(e.amPM.textContent===e.l10n.amPM[0])]);var b=parseFloat(m.getAttribute("min")),D=parseFloat(m.getAttribute("max")),A=parseFloat(m.getAttribute("step")),E=parseInt(m.value,10),M=a.delta||(l?a.which===38?1:-1:0),T=E+A*M;if(typeof m.value<"u"&&m.value.length===2){var S=m===e.hourElement,F=m===e.minuteElement;T<b?(T=D+T+ae(!S)+(ae(S)&&ae(!e.amPM)),F&&U(void 0,-1,e.hourElement)):T>D&&(T=m===e.hourElement?T-D-ae(!e.amPM):b,F&&U(void 0,1,e.hourElement)),e.amPM&&S&&(A===1?T+E===23:Math.abs(T-E)>A)&&(e.amPM.textContent=e.l10n.amPM[ae(e.amPM.textContent===e.l10n.amPM[0])]),m.value=ee(T)}}return s(),e}function He(r,t){for(var e=Array.prototype.slice.call(r).filter(function(o){return o instanceof HTMLElement}),n=[],s=0;s<e.length;s++){var i=e[s];try{if(i.getAttribute("data-fp-omit")!==null)continue;i._flatpickr!==void 0&&(i._flatpickr.destroy(),i._flatpickr=void 0),i._flatpickr=Ms(i,t||{}),n.push(i._flatpickr)}catch(o){console.error(o)}}return n.length===1?n[0]:n}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(r){return He(this,r)},HTMLElement.prototype.flatpickr=function(r){return He([this],r)});var q=function(r,t){return typeof r=="string"?He(window.document.querySelectorAll(r),t):r instanceof Node?He([r],t):He(r,t)};q.defaultConfig={};q.l10ns={en:G({},nt),default:G({},nt)};q.localize=function(r){q.l10ns.default=G(G({},q.l10ns.default),r)};q.setDefaults=function(r){q.defaultConfig=G(G({},q.defaultConfig),r)};q.parseDate=Kt({});q.formatDate=zn({});q.compareDates=re;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(r){return He(this,r)});Date.prototype.fp_incr=function(r){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof r=="string"?parseInt(r,10):r))};typeof window<"u"&&(window.flatpickr=q);var Gt={exports:{}};(function(r,t){(function(e,n){n(t)})(In,function(e){var n=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},s={weekdays:{shorthand:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],longhand:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"]},months:{shorthand:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],longhand:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]},rangeSeparator:" até ",time_24hr:!0};n.l10ns.pt=s;var i=n.l10ns;e.Portuguese=s,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})})})(Gt,Gt.exports);var Qs=Gt.exports;function Ps(r){let t,e,n,s,i,o,c=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},r[2],{width:r[0]},{height:r[0]},{fill:r[1]},{class:s=r[3].class}],u={};for(let h=0;h<c.length;h+=1)u=ye(u,c[h]);return{c(){t=xe("svg"),e=xe("path"),n=xe("path"),this.h()},l(h){t=Me(h,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0,fill:!0,class:!0});var d=Pe(t);e=Me(d,"path",{d:!0}),Pe(e).forEach(fe),n=Me(d,"path",{d:!0}),Pe(n).forEach(fe),d.forEach(fe),this.h()},h(){yt(e,"d","M428,224H288a48,48,0,0,1-48-48V36a4,4,0,0,0-4-4H144A64,64,0,0,0,80,96V416a64,64,0,0,0,64,64H368a64,64,0,0,0,64-64V228A4,4,0,0,0,428,224Z"),yt(n,"d","M419.22,188.59,275.41,44.78A2,2,0,0,0,272,46.19V176a16,16,0,0,0,16,16H417.81A2,2,0,0,0,419.22,188.59Z"),Be(t,u)},m(h,d){Zt(h,t,d),bt(t,e),bt(t,n),i||(o=[B(t,"click",r[4]),B(t,"mouseenter",r[5]),B(t,"mouseleave",r[6]),B(t,"mouseover",r[7]),B(t,"mouseout",r[8]),B(t,"blur",r[9]),B(t,"focus",r[10])],i=!0)},p(h,[d]){Be(t,u=en(c,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},d&4&&h[2],d&1&&{width:h[0]},d&1&&{height:h[0]},d&2&&{fill:h[1]},d&8&&s!==(s=h[3].class)&&{class:s}]))},i:Ye,o:Ye,d(h){h&&fe(t),i=!1,tn(o)}}}function js(r,t,e){const n=["size","color"];let s=Je(t,n),{size:i="24"}=t,{color:o="currentColor"}=t;function c(v){Y.call(this,r,v)}function u(v){Y.call(this,r,v)}function h(v){Y.call(this,r,v)}function d(v){Y.call(this,r,v)}function p(v){Y.call(this,r,v)}function y(v){Y.call(this,r,v)}function C(v){Y.call(this,r,v)}return r.$$set=v=>{e(3,t=ye(ye({},t),ze(v))),e(2,s=Je(t,n)),"size"in v&&e(0,i=v.size),"color"in v&&e(1,o=v.color)},t=ze(t),[i,o,s,t,c,u,h,d,p,y,C]}class Is extends Vt{constructor(t){super(),Qt(this,t,js,Ps,Xt,{size:0,color:1})}}function Rs(r){let t,e,n,s,i,o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},r[2],{width:r[0]},{height:r[0]},{fill:r[1]},{class:n=r[3].class}],c={};for(let u=0;u<o.length;u+=1)c=ye(c,o[u]);return{c(){t=xe("svg"),e=xe("path"),this.h()},l(u){t=Me(u,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0,fill:!0,class:!0});var h=Pe(t);e=Me(h,"path",{d:!0}),Pe(e).forEach(fe),h.forEach(fe),this.h()},h(){yt(e,"d","M80,480a16,16,0,0,1-16-16V68.13A24,24,0,0,1,75.9,47.41C88,40.38,112.38,32,160,32c37.21,0,78.83,14.71,115.55,27.68C305.12,70.13,333.05,80,352,80a183.84,183.84,0,0,0,71-14.5,18,18,0,0,1,25,16.58V301.44a20,20,0,0,1-12,18.31c-8.71,3.81-40.51,16.25-84,16.25-24.14,0-54.38-7.14-86.39-14.71C229.63,312.79,192.43,304,160,304c-36.87,0-55.74,5.58-64,9.11V464A16,16,0,0,1,80,480Z"),Be(t,c)},m(u,h){Zt(u,t,h),bt(t,e),s||(i=[B(t,"click",r[4]),B(t,"mouseenter",r[5]),B(t,"mouseleave",r[6]),B(t,"mouseover",r[7]),B(t,"mouseout",r[8]),B(t,"blur",r[9]),B(t,"focus",r[10])],s=!0)},p(u,[h]){Be(t,c=en(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},h&4&&u[2],h&1&&{width:u[0]},h&1&&{height:u[0]},h&2&&{fill:u[1]},h&8&&n!==(n=u[3].class)&&{class:n}]))},i:Ye,o:Ye,d(u){u&&fe(t),s=!1,tn(i)}}}function Fs(r,t,e){const n=["size","color"];let s=Je(t,n),{size:i="24"}=t,{color:o="currentColor"}=t;function c(v){Y.call(this,r,v)}function u(v){Y.call(this,r,v)}function h(v){Y.call(this,r,v)}function d(v){Y.call(this,r,v)}function p(v){Y.call(this,r,v)}function y(v){Y.call(this,r,v)}function C(v){Y.call(this,r,v)}return r.$$set=v=>{e(3,t=ye(ye({},t),ze(v))),e(2,s=Je(t,n)),"size"in v&&e(0,i=v.size),"color"in v&&e(1,o=v.color)},t=ze(t),[i,o,s,t,c,u,h,d,p,y,C]}class Ns extends Vt{constructor(t){super(),Qt(this,t,Fs,Rs,Xt,{size:0,color:1})}}function Ls(r){let t,e,n,s,i,o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},r[2],{width:r[0]},{height:r[0]},{fill:r[1]},{class:n=r[3].class}],c={};for(let u=0;u<o.length;u+=1)c=ye(c,o[u]);return{c(){t=xe("svg"),e=xe("path"),this.h()},l(u){t=Me(u,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0,fill:!0,class:!0});var h=Pe(t);e=Me(h,"path",{d:!0}),Pe(e).forEach(fe),h.forEach(fe),this.h()},h(){yt(e,"d","M449.07,399.08,278.64,82.58c-12.08-22.44-44.26-22.44-56.35,0L51.87,399.08A32,32,0,0,0,80,446.25H420.89A32,32,0,0,0,449.07,399.08Zm-198.6-1.83a20,20,0,1,1,20-20A20,20,0,0,1,250.47,397.25ZM272.19,196.1l-5.74,122a16,16,0,0,1-32,0l-5.74-121.95v0a21.73,21.73,0,0,1,21.5-22.69h.21a21.74,21.74,0,0,1,21.73,22.7Z"),Be(t,c)},m(u,h){Zt(u,t,h),bt(t,e),s||(i=[B(t,"click",r[4]),B(t,"mouseenter",r[5]),B(t,"mouseleave",r[6]),B(t,"mouseover",r[7]),B(t,"mouseout",r[8]),B(t,"blur",r[9]),B(t,"focus",r[10])],s=!0)},p(u,[h]){Be(t,c=en(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},h&4&&u[2],h&1&&{width:u[0]},h&1&&{height:u[0]},h&2&&{fill:u[1]},h&8&&n!==(n=u[3].class)&&{class:n}]))},i:Ye,o:Ye,d(u){u&&fe(t),s=!1,tn(i)}}}function Us(r,t,e){const n=["size","color"];let s=Je(t,n),{size:i="24"}=t,{color:o="currentColor"}=t;function c(v){Y.call(this,r,v)}function u(v){Y.call(this,r,v)}function h(v){Y.call(this,r,v)}function d(v){Y.call(this,r,v)}function p(v){Y.call(this,r,v)}function y(v){Y.call(this,r,v)}function C(v){Y.call(this,r,v)}return r.$$set=v=>{e(3,t=ye(ye({},t),ze(v))),e(2,s=Je(t,n)),"size"in v&&e(0,i=v.size),"color"in v&&e(1,o=v.color)},t=ze(t),[i,o,s,t,c,u,h,d,p,y,C]}class $s extends Vt{constructor(t){super(),Qt(this,t,Us,Ls,Xt,{size:0,color:1})}}const Xs={inaccurate:{title:"Dados Imprecisos",id:"inaccurate",text:"<b>Dados imprecisos.</b> A representação abaixo pode não ser exatamente como foi originalmente no dia.",color:"bg-bad-warning-red/80",icon:$s},exam:{title:"Dia de Prova",id:"exam",text:"<b>Dia de prova.</b> Por ser um dia de prova, o mapa de sala estava completamente fora do padrão.",color:"bg-information-warning-grey",icon:Is},schoolAttacks:{title:"Ataques em Escolas",id:"schoolAttacks",text:"<b>Ataques em escolas?</b> Nesse dia, havia rumores por conta do aniversário de Columbine.",color:"bg-information-warning-grey",icon:yr},chairRevolution:{title:"Revolução das Cadeiras",id:"chairRevolution",text:"<b>Revolução das Cadeiras</b> O Davi e o Lucas inventaram de criar uma nova fileira e a galera apoiou.",color:"bg-information-warning-grey",icon:Ns}};export{Rr as a,zs as b,Er as c,Sr as d,qs as e,Ws as f,Gs as g,Ks as h,Js as i,q as j,_r as k,wr as l,Dr as m,Cr as n,Qs as p,Vs as s,Xs as t};
