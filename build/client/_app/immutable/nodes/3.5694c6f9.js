import{S as Le,i as ze,s as Te,C as mn,D as cn,E as dn,m as g,h as c,n as d,p as te,F as na,b as B,G as o,H as X,I as Ns,J as q,K as ra,L as aa,M as sa,N as _e,e as la,o as Ws,_ as Gs,k as _,l as p,V as fn,$ as Zs,a0 as Qs,w as hn,T as oa,a as E,c as C,a1 as Js,a2 as Ks,q as w,r as D,u as x,j as Ys,a3 as Xs,a4 as $s,y as F,W as xs,z as L,A as z,g as P,d as S,f as Mn,B as T,v as Rn,a5 as Fn,a6 as Ln}from"../chunks/index.b87f7290.js";import{g as el,s as tl}from"../chunks/pt.46270c0d.js";import{D as ye}from"../chunks/datetime.c484f364.js";import{g as gn,a as Us,b as nl,c as al,d as sl,e as ll,f as rl}from"../chunks/tags.b24d4422.js";import{s as Es,F as zn,a as Tn,b as rs,S as os}from"../chunks/SortController.0f145d82.js";import{B as ve}from"../chunks/Button.6ca16e21.js";function ol(a){let e,n,s,t,l,r,i=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},a[2],{width:a[0]},{height:a[0]},{fill:a[1]},{class:t=a[3].class}],u={};for(let m=0;m<i.length;m+=1)u=mn(u,i[m]);return{c(){e=cn("svg"),n=cn("polyline"),s=cn("line"),this.h()},l(m){e=dn(m,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0,fill:!0,class:!0});var b=g(e);n=dn(b,"polyline",{points:!0,style:!0}),g(n).forEach(c),s=dn(b,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),g(s).forEach(c),b.forEach(c),this.h()},h(){d(n,"points","112 244 256 100 400 244"),te(n,"fill","none"),te(n,"stroke",a[1]),te(n,"stroke-linecap","round"),te(n,"stroke-linejoin","round"),te(n,"stroke-width","48px"),d(s,"x1","256"),d(s,"y1","120"),d(s,"x2","256"),d(s,"y2","412"),te(s,"fill","none"),te(s,"stroke",a[1]),te(s,"stroke-linecap","round"),te(s,"stroke-linejoin","round"),te(s,"stroke-width","48px"),na(e,u)},m(m,b){B(m,e,b),o(e,n),o(e,s),l||(r=[X(e,"click",a[4]),X(e,"mouseenter",a[5]),X(e,"mouseleave",a[6]),X(e,"mouseover",a[7]),X(e,"mouseout",a[8]),X(e,"blur",a[9]),X(e,"focus",a[10])],l=!0)},p(m,[b]){b&2&&te(n,"stroke",m[1]),b&2&&te(s,"stroke",m[1]),na(e,u=Ns(i,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},b&4&&m[2],b&1&&{width:m[0]},b&1&&{height:m[0]},b&2&&{fill:m[1]},b&8&&t!==(t=m[3].class)&&{class:t}]))},i:q,o:q,d(m){m&&c(e),l=!1,ra(r)}}}function il(a,e,n){const s=["size","color"];let t=aa(e,s),{size:l="24"}=e,{color:r="currentColor"}=e;function i(h){_e.call(this,a,h)}function u(h){_e.call(this,a,h)}function m(h){_e.call(this,a,h)}function b(h){_e.call(this,a,h)}function y(h){_e.call(this,a,h)}function V(h){_e.call(this,a,h)}function A(h){_e.call(this,a,h)}return a.$$set=h=>{n(3,e=mn(mn({},e),sa(h))),n(2,t=aa(e,s)),"size"in h&&n(0,l=h.size),"color"in h&&n(1,r=h.color)},e=sa(e),[l,r,t,e,i,u,m,b,y,V,A]}class ia extends Le{constructor(e){super(),ze(this,e,il,ol,Te,{size:0,color:1})}}function ul(a){let e,n,s,t,l,r,i=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},a[2],{width:a[0]},{height:a[0]},{fill:a[1]},{class:t=a[3].class}],u={};for(let m=0;m<i.length;m+=1)u=mn(u,i[m]);return{c(){e=cn("svg"),n=cn("circle"),s=cn("path"),this.h()},l(m){e=dn(m,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0,fill:!0,class:!0});var b=g(e);n=dn(b,"circle",{cx:!0,cy:!0,r:!0}),g(n).forEach(c),s=dn(b,"path",{d:!0}),g(s).forEach(c),b.forEach(c),this.h()},h(){d(n,"cx","256"),d(n,"cy","256"),d(n,"r","64"),d(s,"d","M490.84,238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349,110.55,302,96,255.66,96c-42.52,0-84.33,12.15-124.27,36.11C90.66,156.54,53.76,192.23,21.71,238.18a31.92,31.92,0,0,0-.64,35.54c26.41,41.33,60.4,76.14,98.28,100.65C162,402,207.9,416,255.66,416c46.71,0,93.81-14.43,136.2-41.72,38.46-24.77,72.72-59.66,99.08-100.92A32.2,32.2,0,0,0,490.84,238.6ZM256,352a96,96,0,1,1,96-96A96.11,96.11,0,0,1,256,352Z"),na(e,u)},m(m,b){B(m,e,b),o(e,n),o(e,s),l||(r=[X(e,"click",a[4]),X(e,"mouseenter",a[5]),X(e,"mouseleave",a[6]),X(e,"mouseover",a[7]),X(e,"mouseout",a[8]),X(e,"blur",a[9]),X(e,"focus",a[10])],l=!0)},p(m,[b]){na(e,u=Ns(i,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},b&4&&m[2],b&1&&{width:m[0]},b&1&&{height:m[0]},b&2&&{fill:m[1]},b&8&&t!==(t=m[3].class)&&{class:t}]))},i:q,o:q,d(m){m&&c(e),l=!1,ra(r)}}}function fl(a,e,n){const s=["size","color"];let t=aa(e,s),{size:l="24"}=e,{color:r="currentColor"}=e;function i(h){_e.call(this,a,h)}function u(h){_e.call(this,a,h)}function m(h){_e.call(this,a,h)}function b(h){_e.call(this,a,h)}function y(h){_e.call(this,a,h)}function V(h){_e.call(this,a,h)}function A(h){_e.call(this,a,h)}return a.$$set=h=>{n(3,e=mn(mn({},e),sa(h))),n(2,t=aa(e,s)),"size"in h&&n(0,l=h.size),"color"in h&&n(1,r=h.color)},e=sa(e),[l,r,t,e,i,u,m,b,y,V,A]}class cl extends Le{constructor(e){super(),ze(this,e,fl,ul,Te,{size:0,color:1})}}const dl=a=>a.replace(/-_$/g,"").replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z])(?=[a-z])/g,"$1-$2").toLowerCase(),ml=(a,e)=>{const s=a.getBoundingClientRect().width+2,t=window.getComputedStyle(a),l=parseInt(t.getPropertyValue("padding-left"),10),r=parseInt(t.getPropertyValue("padding-right"),10),i=l+r,u=s-i;return Math.round(Math.min(e,u||e))},hl=a=>{const e=a.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},gl={left:"right",right:"left",top:"bottom",bottom:"top"};function Cs(a){let e,n,s=!a[10]&&Is(a);return{c(){e=_("div"),s&&s.c(),this.h()},l(t){e=p(t,"DIV",{class:!0,style:!0});var l=g(e);s&&s.l(l),l.forEach(c),this.h()},h(){d(e,"class",n="tooltip animation-"+a[8]+" "+a[0]+" "+a[4]+" svelte-1b37eoe"),te(e,"min-width",a[7]+"px"),te(e,"max-width",a[3]+"px"),te(e,"text-align",a[2]),fn(e,"show",a[9]),fn(e,"arrowless",!a[5])},m(t,l){B(t,e,l),s&&s.m(e,null),a[16](e)},p(t,l){t[10]?s&&(s.d(1),s=null):s?s.p(t,l):(s=Is(t),s.c(),s.m(e,null)),l&273&&n!==(n="tooltip animation-"+t[8]+" "+t[0]+" "+t[4]+" svelte-1b37eoe")&&d(e,"class",n),l&128&&te(e,"min-width",t[7]+"px"),l&8&&te(e,"max-width",t[3]+"px"),l&4&&te(e,"text-align",t[2]),l&785&&fn(e,"show",t[9]),l&305&&fn(e,"arrowless",!t[5])},d(t){t&&c(e),s&&s.d(),a[16](null)}}}function Is(a){let e,n;return{c(){e=new Zs(!1),n=la(),this.h()},l(s){e=Qs(s,!1),n=la(),this.h()},h(){e.a=n},m(s,t){e.m(a[1],s,t),B(s,n,t)},p(s,t){t&2&&e.p(s[1])},d(s){s&&c(n),s&&e.d()}}}function _l(a){let e,n=a[1]&&Cs(a);return{c(){n&&n.c(),e=la()},l(s){n&&n.l(s),e=la()},m(s,t){n&&n.m(s,t),B(s,e,t)},p(s,[t]){s[1]?n?n.p(s,t):(n=Cs(s),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:q,o:q,d(s){n&&n.d(s),s&&c(e)}}}function pl(a,e,n){let s,{action:t="hover"}=e,{content:l=""}=e,{align:r="left"}=e,{position:i="top"}=e,{maxWidth:u=200}=e,{style:m=null}=e,{theme:b=""}=e,{animation:y=""}=e,{arrow:V=!0}=e,{autoPosition:A=!1}=e,{show:h=!1}=e,k=null,$=0,H=null,N=null,U=!1;const O=y?200:0;Ws(()=>{if(k!==null&&(s&&!H&&(H=new l.component({target:k,props:{action:t,...l.props}})),n(7,$=ml(k,u)),m&&typeof m=="object"))for(let I in m){const j=dl(I),Q=m[I];k.style.setProperty(`--tooltip-${j}`,Q)}A&&!hl(k)&&n(0,i=gl[i]),y&&n(8,N=y),setTimeout(()=>n(9,U=!0),O)}),Gs(()=>{H&&(H.$destroy(),H=null)});function R(I){hn[I?"unshift":"push"](()=>{k=I,n(6,k)})}return a.$$set=I=>{"action"in I&&n(11,t=I.action),"content"in I&&n(1,l=I.content),"align"in I&&n(2,r=I.align),"position"in I&&n(0,i=I.position),"maxWidth"in I&&n(3,u=I.maxWidth),"style"in I&&n(12,m=I.style),"theme"in I&&n(4,b=I.theme),"animation"in I&&n(13,y=I.animation),"arrow"in I&&n(5,V=I.arrow),"autoPosition"in I&&n(14,A=I.autoPosition),"show"in I&&n(15,h=I.show)},a.$$.update=()=>{a.$$.dirty&2&&n(10,s=typeof l=="object"),a.$$.dirty&32832&&(k&&h?setTimeout(()=>n(9,U=!0),O):n(9,U=!1))},[i,l,r,u,b,V,k,$,N,U,s,t,m,y,A,h,R]}class vl extends Le{constructor(e){super(),ze(this,e,pl,_l,Te,{action:11,content:1,align:2,position:0,maxWidth:3,style:12,theme:4,animation:13,arrow:5,autoPosition:14,show:15})}}const bl=vl,kl=(a,e)=>{let n=null,s=a.getAttribute("title"),t=(e==null?void 0:e.action)||a.getAttribute("action")||"hover";s&&(a.removeAttribute("title"),e={content:s,...e});const l=()=>{n?i():r()},r=()=>{n||(n=new bl({target:a,props:e}))},i=()=>{n&&(n.$destroy(),n=null)},u=()=>{a!==null&&(m(),t==="click"&&a.addEventListener("click",l),t==="hover"&&(a.addEventListener("mouseenter",r),a.addEventListener("mouseleave",i)))},m=()=>{a!==null&&(a.removeEventListener("click",l),a.removeEventListener("mouseenter",r),a.removeEventListener("mouseleave",i))};return u(),a.style.position="relative",e.show&&r(),{destroy(){m(),s&&a.setAttribute("title",s)}}};function ys(a,e,n){const s=a.slice();return s[5]=e[n],s[7]=n,s}function Ps(a){let e,n,s,t,l,r,i;return{c(){e=_("a"),n=_("div"),t=E(),this.h()},l(u){e=p(u,"A",{href:!0});var m=g(e);n=p(m,"DIV",{class:!0,index:!0}),g(n).forEach(c),t=C(m),m.forEach(c),this.h()},h(){d(n,"class","w-4 h-4 rounded-sm bg-neutral-600 svelte-12mwdq7"),d(n,"index",a[7]),fn(n,"streakTracked",a[1].includes(a[5])),d(e,"href",l=a[2](a[5]))},m(u,m){B(u,e,m),o(e,n),o(e,t),r||(i=Js(s=kl.call(null,n,{style:a[4],content:a[3](a[5]),maxWidth:1e3,position:a[7]>=65?"left":"right"})),r=!0)},p(u,m){a=u,s&&Ks(s.update)&&m&1&&s.update.call(null,{style:a[4],content:a[3](a[5]),maxWidth:1e3,position:a[7]>=65?"left":"right"}),m&3&&fn(n,"streakTracked",a[1].includes(a[5])),m&1&&l!==(l=a[2](a[5]))&&d(e,"href",l)},d(u){u&&c(e),r=!1,i()}}}function wl(a){let e,n=a[0],s=[];for(let t=0;t<n.length;t+=1)s[t]=Ps(ys(a,n,t));return{c(){e=_("div");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=p(t,"DIV",{class:!0});var l=g(e);for(let r=0;r<s.length;r+=1)s[r].l(l);l.forEach(c),this.h()},h(){d(e,"class","grid grid-rows-5 grid-flow-col justify-items-center gap-1")},m(t,l){B(t,e,l);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p(t,[l]){if(l&31){n=t[0];let r;for(r=0;r<n.length;r+=1){const i=ys(t,n,r);s[r]?s[r].p(i,l):(s[r]=Ps(i),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}},i:q,o:q,d(t){t&&c(e),oa(s,t)}}}function Dl(a,e,n){let{daysPossible:s=[]}=e,{daysTracked:t=[]}=e;function l(u){return`/dia/${ye.fromISO(u).toFormat("dd-MM")}`}function r(u){return ye.fromISO(u).setLocale("pt-BR").toLocaleString({day:"numeric",month:"long",weekday:"long"})}const i={opacity:"0.8",fontSize:"0.8rem",fontFamily:"Inter, sans-serif",arrowSize:"5px",padding:"8px",borderRadius:"0.5rem"};return a.$$set=u=>{"daysPossible"in u&&n(0,s=u.daysPossible),"daysTracked"in u&&n(1,t=u.daysTracked)},[s,t,l,r,i]}class $l extends Le{constructor(e){super(),ze(this,e,Dl,wl,Te,{daysPossible:0,daysTracked:1})}}function El(a){let e,n,s=a[1].length+"",t,l,r=a[1].length>1?"dias":"dia",i,u,m,b,y,V,A;return{c(){e=_("div"),n=_("h6"),t=w(s),l=E(),i=w(r),u=E(),m=_("div"),b=w("no "),y=_("a"),V=w("mesmo lugar"),this.h()},l(h){e=p(h,"DIV",{class:!0});var k=g(e);n=p(k,"H6",{class:!0});var $=g(n);t=D($,s),l=C($),i=D($,r),$.forEach(c),u=C(k),m=p(k,"DIV",{class:!0});var H=g(m);b=D(H,"no "),y=p(H,"A",{href:!0,class:!0});var N=g(y);V=D(N,"mesmo lugar"),N.forEach(c),H.forEach(c),k.forEach(c),this.h()},h(){d(n,"class","text-3xl font-medium text-white"),d(y,"href",A=gn(a[1][0].day,a[0])),d(y,"class","underline"),d(m,"class","mb-1 text-sm font-normal leading-none text-neutral-400"),d(e,"class","flex flex-col gap-0.5 text-center")},m(h,k){B(h,e,k),o(e,n),o(n,t),o(n,l),o(n,i),o(e,u),o(e,m),o(m,b),o(m,y),o(y,V)},p(h,[k]){k&2&&s!==(s=h[1].length+"")&&x(t,s),k&2&&r!==(r=h[1].length>1?"dias":"dia")&&x(i,r),k&3&&A!==(A=gn(h[1][0].day,h[0]))&&d(y,"href",A)},i:q,o:q,d(h){h&&c(e)}}}function Cl(a,e,n){let s,t,{allClassroomMapData:l}=e,{studentID:r}=e,{invertDeskCounting:i}=e,{compensate:u}=e;return a.$$set=m=>{"allClassroomMapData"in m&&n(2,l=m.allClassroomMapData),"studentID"in m&&n(0,r=m.studentID),"invertDeskCounting"in m&&n(3,i=m.invertDeskCounting),"compensate"in m&&n(4,u=m.compensate)},a.$$.update=()=>{a.$$.dirty&29&&n(5,s=Us(l,r,i,u)),a.$$.dirty&32&&n(1,t=s.at(-1))},[r,t,l,i,u,s]}class Il extends Le{constructor(e){super(),ze(this,e,Cl,El,Te,{allClassroomMapData:2,studentID:0,invertDeskCounting:3,compensate:4})}}var js={exports:{}};(function(a){a.exports=e;function e(n){if(!(this instanceof e))return new e(n);this._canvas=n=typeof n=="string"?document.getElementById(n):n,this._ctx=n.getContext("2d"),this._width=n.width,this._height=n.height,this._max=1,this._data=[]}e.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(n){return this._data=n,this},max:function(n){return this._max=n,this},add:function(n){return this._data.push(n),this},clear:function(){return this._data=[],this},radius:function(n,s){s=s===void 0?15:s;var t=this._circle=this._createCanvas(),l=t.getContext("2d"),r=this._r=n+s;return t.width=t.height=r*2,l.shadowOffsetX=l.shadowOffsetY=r*2,l.shadowBlur=s,l.shadowColor="black",l.beginPath(),l.arc(-r,-r,n,0,Math.PI*2,!0),l.closePath(),l.fill(),this},resize:function(){this._width=this._canvas.width,this._height=this._canvas.height},gradient:function(n){var s=this._createCanvas(),t=s.getContext("2d"),l=t.createLinearGradient(0,0,0,256);s.width=1,s.height=256;for(var r in n)l.addColorStop(+r,n[r]);return t.fillStyle=l,t.fillRect(0,0,1,256),this._grad=t.getImageData(0,0,1,256).data,this},draw:function(n){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var s=this._ctx;s.clearRect(0,0,this._width,this._height);for(var t=0,l=this._data.length,r;t<l;t++)r=this._data[t],s.globalAlpha=Math.max(r[2]/this._max,n===void 0?.05:n),s.drawImage(this._circle,r[0]-this._r,r[1]-this._r);var i=s.getImageData(0,0,this._width,this._height);return this._colorize(i.data,this._grad),s.putImageData(i,0,0),this},_colorize:function(n,s){for(var t=0,l=n.length,r;t<l;t+=4)r=n[t+3]*4,r&&(n[t]=s[r],n[t+1]=s[r+1],n[t+2]=s[r+2])},_createCanvas:function(){return typeof document<"u"?document.createElement("canvas"):new this._canvas.constructor}}})(js);var yl=js.exports;const Pl=el(yl);function Sl(a){let e,n,s;return{c(){e=_("canvas"),this.h()},l(t){e=p(t,"CANVAS",{class:!0,id:!0,width:!0,height:!0}),g(e).forEach(c),this.h()},h(){d(e,"class",n=`border-neutral-400 border-2 ${a[0]?"bg-neutral-200":""}`),d(e,"id","heatmap"),d(e,"width","180"),d(e,"height",s=a[1]*32)},m(t,l){B(t,e,l)},p(t,[l]){l&1&&n!==(n=`border-neutral-400 border-2 ${t[0]?"bg-neutral-200":""}`)&&d(e,"class",n),l&2&&s!==(s=t[1]*32)&&d(e,"height",s)},i:q,o:q,d(t){t&&c(e)}}}function Vl(a,e,n){let s,t,l,r,i,u,{allClassroomMapData:m}=e,{studentID:b}=e,{invertDeskCounting:y}=e,{compensate:V}=e,{background:A}=e;function h(){const k=Pl("heatmap");k.data(u),k.max(i),k.radius(25,10),k.draw()}return Ws(h),Ys(h),a.$$set=k=>{"allClassroomMapData"in k&&n(2,m=k.allClassroomMapData),"studentID"in k&&n(3,b=k.studentID),"invertDeskCounting"in k&&n(4,y=k.invertDeskCounting),"compensate"in k&&n(5,V=k.compensate),"background"in k&&n(0,A=k.background)},a.$$.update=()=>{a.$$.dirty&4&&n(8,s=m.filter(k=>k.columns.length===5)),a.$$.dirty&256&&n(9,t=s.map(k=>k.columns[0].length)),a.$$.dirty&512&&n(1,l=Math.max(...t)),a.$$.dirty&314&&n(7,r=nl(s,b,y,V?l:-1).filter(({position:k})=>k[0]>-1)),a.$$.dirty&128&&(i=Math.max(...r.map(k=>k.frequency))),a.$$.dirty&128&&n(6,u=r.map(({position:k,frequency:$})=>[...k.map(H=>(H+1)*30),$]))},[A,l,m,b,y,V,u,r,s,t]}class Al extends Le{constructor(e){super(),ze(this,e,Vl,Sl,Te,{allClassroomMapData:2,studentID:3,invertDeskCounting:4,compensate:5,background:0})}}function Ss(a,e,n){const s=a.slice();return s[6]=e[n],s}function Vs(a){let e,n,s,t,l,r=ye.fromISO(a[6][0].day).toFormat("dd/MM")+"",i,u,m=ye.fromISO(a[6].at(-1).day).toFormat("dd/MM")+"",b,y,V,A=`${a[6][0].position[0]+1}ª fileira, ${a[6][0].position[1]+1}ª cadeira`,h,k,$,H=a[0].name+"",N,U,O,R,I,j,Q=a[6].length+"",J,ne,G=a[6].length>1?"dias":"dia",ae,se,pe;return{c(){e=_("li"),n=_("div"),s=E(),t=_("time"),l=w("de "),i=w(r),u=w(" a "),b=w(m),y=E(),V=_("h6"),h=w(A),k=E(),$=_("p"),N=w(H),U=w(" sentou "),O=_("a"),R=w("nesta posição"),j=w(" por "),J=w(Q),ne=E(),ae=w(G),se=w("."),pe=E(),this.h()},l(K){e=p(K,"LI",{class:!0});var W=g(e);n=p(W,"DIV",{class:!0}),g(n).forEach(c),s=C(W),t=p(W,"TIME",{class:!0});var Ce=g(t);l=D(Ce,"de "),i=D(Ce,r),u=D(Ce," a "),b=D(Ce,m),Ce.forEach(c),y=C(W),V=p(W,"H6",{class:!0});var lt=g(V);h=D(lt,A),lt.forEach(c),k=C(W),$=p(W,"P",{class:!0});var Z=g($);N=D(Z,H),U=D(Z," sentou "),O=p(Z,"A",{href:!0,class:!0});var Ie=g(O);R=D(Ie,"nesta posição"),Ie.forEach(c),j=D(Z," por "),J=D(Z,Q),ne=C(Z),ae=D(Z,G),se=D(Z,"."),Z.forEach(c),pe=C(W),W.forEach(c),this.h()},h(){d(n,"class","absolute w-3 h-3 bg-neutral-700 rounded-full mt-1.5 -left-1.5 border border-neutral-800"),d(t,"class","mb-1 text-sm font-normal leading-none text-neutral-400"),d(V,"class","text-lg font-medium text-white"),d(O,"href",I=gn(a[6][0].day,a[0].id)),d(O,"class","underline"),d($,"class","text-neutral-300"),d(e,"class","ml-4")},m(K,W){B(K,e,W),o(e,n),o(e,s),o(e,t),o(t,l),o(t,i),o(t,u),o(t,b),o(e,y),o(e,V),o(V,h),o(e,k),o(e,$),o($,N),o($,U),o($,O),o(O,R),o($,j),o($,J),o($,ne),o($,ae),o($,se),o(e,pe)},p(K,W){W&2&&r!==(r=ye.fromISO(K[6][0].day).toFormat("dd/MM")+"")&&x(i,r),W&2&&m!==(m=ye.fromISO(K[6].at(-1).day).toFormat("dd/MM")+"")&&x(b,m),W&2&&A!==(A=`${K[6][0].position[0]+1}ª fileira, ${K[6][0].position[1]+1}ª cadeira`)&&x(h,A),W&1&&H!==(H=K[0].name+"")&&x(N,H),W&3&&I!==(I=gn(K[6][0].day,K[0].id))&&d(O,"href",I),W&2&&Q!==(Q=K[6].length+"")&&x(J,Q),W&2&&G!==(G=K[6].length>1?"dias":"dia")&&x(ae,G)},d(K){K&&c(e)}}}function Ml(a){let e,n,s=a[1].filter(As),t=[];for(let l=0;l<s.length;l+=1)t[l]=Vs(Ss(a,s,l));return{c(){e=_("div"),n=_("ol");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=p(l,"DIV",{class:!0});var r=g(e);n=p(r,"OL",{class:!0});var i=g(n);for(let u=0;u<t.length;u+=1)t[u].l(i);i.forEach(c),r.forEach(c),this.h()},h(){d(n,"class","relative border-l border-neutral-700 grid grid-flow-row gap-6"),d(e,"class","max-h-[25rem] overflow-y-auto p-1")},m(l,r){B(l,e,r),o(e,n);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(n,null)},p(l,[r]){if(r&3){s=l[1].filter(As);let i;for(i=0;i<s.length;i+=1){const u=Ss(l,s,i);t[i]?t[i].p(u,r):(t[i]=Vs(u),t[i].c(),t[i].m(n,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=s.length}},i:q,o:q,d(l){l&&c(e),oa(t,l)}}}const As=a=>a.length>0;function Rl(a,e,n){let s,{allClassroomMapData:t}=e,{student:l}=e,{invertDeskCounting:r}=e,{compensate:i}=e,{sort:u}=e;return a.$$set=m=>{"allClassroomMapData"in m&&n(2,t=m.allClassroomMapData),"student"in m&&n(0,l=m.student),"invertDeskCounting"in m&&n(3,r=m.invertDeskCounting),"compensate"in m&&n(4,i=m.compensate),"sort"in m&&n(5,u=m.sort)},a.$$.update=()=>{a.$$.dirty&61&&n(1,s=Us(t,l.id,r,i,u))},[l,s,t,r,i,u]}class Fl extends Le{constructor(e){super(),ze(this,e,Rl,Ml,Te,{allClassroomMapData:2,student:0,invertDeskCounting:3,compensate:4,sort:5})}}function Ms(a,e,n){const s=a.slice();return s[4]=e[n],s[6]=n,s}function Rs(a,e,n){const s=a.slice();return s[7]=e[n],s}function Fs(a){let e,n,s=a[3](a[7].day)+"",t,l;return{c(){e=_("li"),n=_("a"),t=w(s),this.h()},l(r){e=p(r,"LI",{});var i=g(e);n=p(i,"A",{href:!0});var u=g(n);t=D(u,s),u.forEach(c),i.forEach(c),this.h()},h(){d(n,"href",l=gn(a[7].day,a[2]))},m(r,i){B(r,e,i),o(e,n),o(n,t)},p(r,i){i&2&&s!==(s=r[3](r[7].day)+"")&&x(t,s),i&6&&l!==(l=gn(r[7].day,r[2]))&&d(n,"href",l)},d(r){r&&c(e)}}}function Ls(a){let e,n,s,t,l,r,i=a[4]+"",u,m,b,y,V=a[1][a[6]],A=[];for(let h=0;h<V.length;h+=1)A[h]=Fs(Rs(a,V,h));return{c(){e=_("div"),n=_("li"),s=E(),t=_("details"),l=_("summary"),r=_("span"),u=w(i),m=E(),b=_("ol");for(let h=0;h<A.length;h+=1)A[h].c();y=E(),this.h()},l(h){e=p(h,"DIV",{class:!0});var k=g(e);n=p(k,"LI",{class:!0}),g(n).forEach(c),s=C(k),t=p(k,"DETAILS",{class:!0});var $=g(t);l=p($,"SUMMARY",{});var H=g(l);r=p(H,"SPAN",{class:!0});var N=g(r);u=D(N,i),N.forEach(c),H.forEach(c),m=C($),b=p($,"OL",{class:!0});var U=g(b);for(let O=0;O<A.length;O+=1)A[O].l(U);U.forEach(c),$.forEach(c),y=C(k),k.forEach(c),this.h()},h(){d(n,"class","marker:font-bold text-right w-7"),d(r,"class","cursor-pointer"),d(b,"class","list-disc list-inside pl-5"),d(t,"class","inline-block ml-2"),d(e,"class","flex flex-row")},m(h,k){B(h,e,k),o(e,n),o(e,s),o(e,t),o(t,l),o(l,r),o(r,u),o(t,m),o(t,b);for(let $=0;$<A.length;$+=1)A[$]&&A[$].m(b,null);o(e,y)},p(h,k){if(k&1&&i!==(i=h[4]+"")&&x(u,i),k&14){V=h[1][h[6]];let $;for($=0;$<V.length;$+=1){const H=Rs(h,V,$);A[$]?A[$].p(H,k):(A[$]=Fs(H),A[$].c(),A[$].m(b,null))}for(;$<A.length;$+=1)A[$].d(1);A.length=V.length}},d(h){h&&c(e),oa(A,h)}}}function Ll(a){let e,n,s=a[0],t=[];for(let l=0;l<s.length;l+=1)t[l]=Ls(Ms(a,s,l));return{c(){e=_("div"),n=_("ol");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=p(l,"DIV",{class:!0});var r=g(e);n=p(r,"OL",{class:!0});var i=g(n);for(let u=0;u<t.length;u+=1)t[u].l(i);i.forEach(c),r.forEach(c),this.h()},h(){d(n,"class","list-decimal list-inside"),d(e,"class","max-h-60 overflow-y-scroll")},m(l,r){B(l,e,r),o(e,n);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(n,null)},p(l,[r]){if(r&15){s=l[0];let i;for(i=0;i<s.length;i+=1){const u=Ms(l,s,i);t[i]?t[i].p(u,r):(t[i]=Ls(u),t[i].c(),t[i].m(n,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=s.length}},i:q,o:q,d(l){l&&c(e),oa(t,l)}}}function zl(a,e,n){let{summaries:s}=e,{content:t}=e,{studentID:l}=e;function r(i){return ye.fromISO(i).setLocale("pt-BR").toLocaleString({day:"numeric",month:"long",weekday:"long"})}return a.$$set=i=>{"summaries"in i&&n(0,s=i.summaries),"content"in i&&n(1,t=i.content),"studentID"in i&&n(2,l=i.studentID)},[s,t,l,r]}class zs extends Le{constructor(e){super(),ze(this,e,zl,Ll,Te,{summaries:0,content:1,studentID:2})}}function Tl(a){let e;return{c(){e=w("Falha ao gerar controlador de visualização.")},l(n){e=D(n,"Falha ao gerar controlador de visualização.")},m(n,s){B(n,e,s)},p:q,d(n){n&&c(e)}}}function Ol(a){return{c:q,l:q,m:q,p:q,d:q}}function ql(a){let e,n,s,t,l,r,i,u,m,b,y,V,A,h,k,$,H,N,U,O,R;return{c(){e=_("div"),n=_("label"),s=w("Dados"),t=E(),l=_("div"),r=_("input"),i=E(),u=_("label"),m=w("Compensar diferenças de cadeiras (recomendado)"),b=E(),y=_("div"),V=_("label"),A=w("Gráficos"),h=E(),k=_("div"),$=_("input"),H=E(),N=_("label"),U=w("Inserir fundo no mapa de calor"),this.h()},l(I){e=p(I,"DIV",{class:!0});var j=g(e);n=p(j,"LABEL",{for:!0,class:!0});var Q=g(n);s=D(Q,"Dados"),Q.forEach(c),t=C(j),l=p(j,"DIV",{class:!0});var J=g(l);r=p(J,"INPUT",{type:!0,id:!0,class:!0}),i=C(J),u=p(J,"LABEL",{for:!0,class:!0});var ne=g(u);m=D(ne,"Compensar diferenças de cadeiras (recomendado)"),ne.forEach(c),J.forEach(c),j.forEach(c),b=C(I),y=p(I,"DIV",{class:!0});var G=g(y);V=p(G,"LABEL",{for:!0,class:!0});var ae=g(V);A=D(ae,"Gráficos"),ae.forEach(c),h=C(G),k=p(G,"DIV",{class:!0});var se=g(k);$=p(se,"INPUT",{type:!0,id:!0,class:!0}),H=C(se),N=p(se,"LABEL",{for:!0,class:!0});var pe=g(N);U=D(pe,"Inserir fundo no mapa de calor"),pe.forEach(c),se.forEach(c),G.forEach(c),this.h()},h(){d(n,"for","order"),d(n,"class","text-sm text-neutral-300"),d(r,"type","checkbox"),d(r,"id","compensate"),d(r,"class","cursor-pointer"),d(u,"for","compensate"),d(u,"class","cursor-pointer"),d(l,"class","flex flex-row gap-2"),d(e,"class","flex flex-col gap-0.5"),d(V,"for","order"),d(V,"class","text-sm text-neutral-300"),d($,"type","checkbox"),d($,"id","background"),d($,"class","cursor-pointer"),d(N,"for","background"),d(N,"class","cursor-pointer"),d(k,"class","flex flex-row gap-2"),d(y,"class","flex flex-col gap-0.5")},m(I,j){B(I,e,j),o(e,n),o(n,s),o(e,t),o(e,l),o(l,r),r.checked=a[0],o(l,i),o(l,u),o(u,m),B(I,b,j),B(I,y,j),o(y,V),o(V,A),o(y,h),o(y,k),o(k,$),$.checked=a[1],o(k,H),o(k,N),o(N,U),O||(R=[X(r,"change",a[3]),X($,"change",a[4])],O=!0)},p(I,j){j&1&&(r.checked=I[0]),j&2&&($.checked=I[1])},d(I){I&&c(e),I&&c(b),I&&c(y),O=!1,ra(R)}}}function Bl(a){let e,n,s;function t(i,u){return i[2]==="heatmap"?ql:i[2]==="graph"?Ol:Tl}let l=t(a),r=l(a);return{c(){e=_("div"),r.c(),this.h()},l(i){e=p(i,"DIV",{class:!0});var u=g(e);r.l(u),u.forEach(c),this.h()},h(){d(e,"class","flex flex-col gap-1 mt-1")},m(i,u){B(i,e,u),r.m(e,null),s=!0},p(i,[u]){l===(l=t(i))&&r?r.p(i,u):(r.d(1),r=l(i),r&&(r.c(),r.m(e,null)))},i(i){s||(Xs(()=>{s&&(n||(n=$s(e,Es,{axis:"y",duration:300},!0)),n.run(1))}),s=!0)},o(i){n||(n=$s(e,Es,{axis:"y",duration:300},!1)),n.run(0),s=!1},d(i){i&&c(e),r.d(),i&&n&&n.end()}}}function Hl(a,e,n){let{type:s=""}=e,{compensate:t=!0}=e,{background:l=!1}=e;function r(){t=this.checked,n(0,t)}function i(){l=this.checked,n(1,l)}return a.$$set=u=>{"type"in u&&n(2,s=u.type),"compensate"in u&&n(0,t=u.compensate),"background"in u&&n(1,l=u.background)},[t,l,s,r,i]}class Nl extends Le{constructor(e){super(),ze(this,e,Hl,Bl,Te,{type:2,compensate:0,background:1})}}function Wl(a){let e,n,s;return e=new zn({props:{size:"1.2rem",class:"focus:outline-none",tabindex:"-1"}}),{c(){F(e.$$.fragment),n=w(" Filtrar")},l(t){L(e.$$.fragment,t),n=D(t," Filtrar")},m(t,l){z(e,t,l),B(t,n,l),s=!0},p:q,i(t){s||(P(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){T(e,t),t&&c(n)}}}function Ul(a){let e,n,s;return e=new ia({props:{size:"1.2rem",class:`focus:outline-none transition-all ${a[3].positionStreak?"":"rotate-180"}`,tabindex:"-1"}}),{c(){F(e.$$.fragment),n=w(" Direção da Fila")},l(t){L(e.$$.fragment,t),n=D(t," Direção da Fila")},m(t,l){z(e,t,l),B(t,n,l),s=!0},p(t,l){const r={};l[0]&8&&(r.class=`focus:outline-none transition-all ${t[3].positionStreak?"":"rotate-180"}`),e.$set(r)},i(t){s||(P(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){T(e,t),t&&c(n)}}}function Ts(a){let e,n;return e=new Tn({}),e.$on("filterChanged",a[22]),{c(){F(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,t){z(e,s,t),n=!0},p:q,i(s){n||(P(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){T(e,s)}}}function jl(a){let e,n,s;return e=new zn({props:{size:"1.2rem",class:"focus:outline-none",tabindex:"-1"}}),{c(){F(e.$$.fragment),n=w(" Filtrar")},l(t){L(e.$$.fragment,t),n=D(t," Filtrar")},m(t,l){z(e,t,l),B(t,n,l),s=!0},p:q,i(t){s||(P(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){T(e,t),t&&c(n)}}}function Gl(a){let e,n,s;return e=new cl({props:{size:"1.2rem",class:"focus:outline-none",tabindex:"-1"}}),{c(){F(e.$$.fragment),n=w(" Visualizar")},l(t){L(e.$$.fragment,t),n=D(t," Visualizar")},m(t,l){z(e,t,l),B(t,n,l),s=!0},p:q,i(t){s||(P(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){T(e,t),t&&c(n)}}}function Zl(a){let e,n,s;return e=new ia({props:{size:"1.2rem",class:`focus:outline-none transition-all ${a[3].heatmap?"":"rotate-180"}`,tabindex:"-1"}}),{c(){F(e.$$.fragment),n=w(" Direção da Fila")},l(t){L(e.$$.fragment,t),n=D(t," Direção da Fila")},m(t,l){z(e,t,l),B(t,n,l),s=!0},p(t,l){const r={};l[0]&8&&(r.class=`focus:outline-none transition-all ${t[3].heatmap?"":"rotate-180"}`),e.$set(r)},i(t){s||(P(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){T(e,t),t&&c(n)}}}function Ql(a){let e,n,s,t;function l(u){a[27](u)}function r(u){a[28](u)}let i={type:"heatmap"};return a[6]!==void 0&&(i.compensate=a[6]),a[7]!==void 0&&(i.background=a[7]),e=new Nl({props:i}),hn.push(()=>Fn(e,"compensate",l)),hn.push(()=>Fn(e,"background",r)),e.$on("sortChanged",a[29]),{c(){F(e.$$.fragment)},l(u){L(e.$$.fragment,u)},m(u,m){z(e,u,m),t=!0},p(u,m){const b={};!n&&m[0]&64&&(n=!0,b.compensate=u[6],Ln(()=>n=!1)),!s&&m[0]&128&&(s=!0,b.background=u[7],Ln(()=>s=!1)),e.$set(b)},i(u){t||(P(e.$$.fragment,u),t=!0)},o(u){S(e.$$.fragment,u),t=!1},d(u){T(e,u)}}}function Jl(a){let e,n;return e=new Tn({}),e.$on("filterChanged",a[26]),{c(){F(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,t){z(e,s,t),n=!0},p:q,i(s){n||(P(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){T(e,s)}}}function Kl(a){let e,n,s;return e=new zn({props:{size:"1.2rem",class:"focus:outline-none",tabindex:"-1"}}),{c(){F(e.$$.fragment),n=w(" Filtrar")},l(t){L(e.$$.fragment,t),n=D(t," Filtrar")},m(t,l){z(e,t,l),B(t,n,l),s=!0},p:q,i(t){s||(P(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){T(e,t),t&&c(n)}}}function Yl(a){let e,n,s;return e=new rs({props:{size:"1.2rem",class:"focus:outline-none",tabindex:"-1"}}),{c(){F(e.$$.fragment),n=w(" Ordenar")},l(t){L(e.$$.fragment,t),n=D(t," Ordenar")},m(t,l){z(e,t,l),B(t,n,l),s=!0},p:q,i(t){s||(P(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){T(e,t),t&&c(n)}}}function Xl(a){let e,n,s;return e=new ia({props:{size:"1.2rem",class:`focus:outline-none transition-all ${a[3].timeline?"":"rotate-180"}`,tabindex:"-1"}}),{c(){F(e.$$.fragment),n=w(" Direção da Fila")},l(t){L(e.$$.fragment,t),n=D(t," Direção da Fila")},m(t,l){z(e,t,l),B(t,n,l),s=!0},p(t,l){const r={};l[0]&8&&(r.class=`focus:outline-none transition-all ${t[3].timeline?"":"rotate-180"}`),e.$set(r)},i(t){s||(P(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){T(e,t),t&&c(n)}}}function xl(a){let e,n,s;function t(r){a[34](r)}let l={sortOptions:[{id:"chronology",label:"Cronológica"},{id:"days",label:"Quantidade de Dias"},{id:"rows",label:"Fileiras"},{id:"desks",label:"Cadeiras"}]};return a[2].timeline!==void 0&&(l.sort=a[2].timeline),e=new os({props:l}),hn.push(()=>Fn(e,"sort",t)),{c(){F(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,i){z(e,r,i),s=!0},p(r,i){const u={};!n&&i[0]&4&&(n=!0,u.sort=r[2].timeline,Ln(()=>n=!1)),e.$set(u)},i(r){s||(P(e.$$.fragment,r),s=!0)},o(r){S(e.$$.fragment,r),s=!1},d(r){T(e,r)}}}function er(a){let e,n;return e=new Tn({}),e.$on("filterChanged",a[33]),{c(){F(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,t){z(e,s,t),n=!0},p:q,i(s){n||(P(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){T(e,s)}}}function tr(a){let e,n,s;return e=new zn({props:{size:"1.2rem",class:"focus:outline-none",tabindex:"-1"}}),{c(){F(e.$$.fragment),n=w(" Filtrar")},l(t){L(e.$$.fragment,t),n=D(t," Filtrar")},m(t,l){z(e,t,l),B(t,n,l),s=!0},p:q,i(t){s||(P(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){T(e,t),t&&c(n)}}}function nr(a){let e,n,s;return e=new rs({props:{size:"1.2rem",class:"focus:outline-none",tabindex:"-1"}}),{c(){F(e.$$.fragment),n=w(" Ordenar")},l(t){L(e.$$.fragment,t),n=D(t," Ordenar")},m(t,l){z(e,t,l),B(t,n,l),s=!0},p:q,i(t){s||(P(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){T(e,t),t&&c(n)}}}function ar(a){let e,n,s;return e=new ia({props:{size:"1.2rem",class:`focus:outline-none transition-all ${a[3].positionRanking?"":"rotate-180"}`,tabindex:"-1"}}),{c(){F(e.$$.fragment),n=w(" Direção da Fila")},l(t){L(e.$$.fragment,t),n=D(t," Direção da Fila")},m(t,l){z(e,t,l),B(t,n,l),s=!0},p(t,l){const r={};l[0]&8&&(r.class=`focus:outline-none transition-all ${t[3].positionRanking?"":"rotate-180"}`),e.$set(r)},i(t){s||(P(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){T(e,t),t&&c(n)}}}function sr(a){let e,n,s;function t(r){a[39](r)}let l={};return a[2].positionRanking!==void 0&&(l.sort=a[2].positionRanking),e=new os({props:l}),hn.push(()=>Fn(e,"sort",t)),{c(){F(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,i){z(e,r,i),s=!0},p(r,i){const u={};!n&&i[0]&4&&(n=!0,u.sort=r[2].positionRanking,Ln(()=>n=!1)),e.$set(u)},i(r){s||(P(e.$$.fragment,r),s=!0)},o(r){S(e.$$.fragment,r),s=!1},d(r){T(e,r)}}}function lr(a){let e,n;return e=new Tn({}),e.$on("filterChanged",a[38]),{c(){F(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,t){z(e,s,t),n=!0},p:q,i(s){n||(P(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){T(e,s)}}}function rr(a){let e,n,s;return e=new zn({props:{size:"1.2rem",class:"focus:outline-none",tabindex:"-1"}}),{c(){F(e.$$.fragment),n=w(" Filtrar")},l(t){L(e.$$.fragment,t),n=D(t," Filtrar")},m(t,l){z(e,t,l),B(t,n,l),s=!0},p:q,i(t){s||(P(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){T(e,t),t&&c(n)}}}function or(a){let e,n,s;return e=new rs({props:{size:"1.2rem",class:"focus:outline-none",tabindex:"-1"}}),{c(){F(e.$$.fragment),n=w(" Ordenar")},l(t){L(e.$$.fragment,t),n=D(t," Ordenar")},m(t,l){z(e,t,l),B(t,n,l),s=!0},p:q,i(t){s||(P(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){T(e,t),t&&c(n)}}}function ir(a){let e,n,s;function t(r){a[43](r)}let l={sortOptions:[{id:"days",label:"Quantidade de Dias"},{id:"weekday",label:"Dia da Semana"}]};return a[2].absencesPerDay!==void 0&&(l.sort=a[2].absencesPerDay),e=new os({props:l}),hn.push(()=>Fn(e,"sort",t)),{c(){F(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,i){z(e,r,i),s=!0},p(r,i){const u={};!n&&i[0]&4&&(n=!0,u.sort=r[2].absencesPerDay,Ln(()=>n=!1)),e.$set(u)},i(r){s||(P(e.$$.fragment,r),s=!0)},o(r){S(e.$$.fragment,r),s=!1},d(r){T(e,r)}}}function ur(a){let e,n;return e=new Tn({}),e.$on("filterChanged",a[42]),{c(){F(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,t){z(e,s,t),n=!0},p:q,i(s){n||(P(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){T(e,s)}}}function fr(a){let e,n,s,t,l,r,i=a[0].student.name+"",u,m,b,y,V,A=a[14].toFormat("dd/MM")+"",h,k,$,H,N,U,O,R=a[15].toFormat("dd/MM")+"",I,j,Q,J,ne,G,ae,se=a[10].includes(a[11].id)?"?":a[16].attendances[a[4]]+`${a[4]==="percentage"?"%":""}`,pe,K,W,Ce,lt,Z,Ie,Mt=a[10].includes(a[11].id)?"?":a[16].absences[a[4]]+`${a[4]==="percentage"?"%":""}`,qt,_n,rt,pn,vn,ot,bn,kn,Bt,wn,ee,be,it,M,Rt,ke,Ft,Oe=a[0].student.name+"",Lt,qe,Dn,Ht,Nt,zt,ua,Pe,Tt,Wt,fa,ca,ut,da,$n=a[0].student.name+"",On,ma,ha,Be,ft,He,ga,Ne,_a,pa,ct,va,we,Ut,ba,ka,Se,wa,En=a[0].student.name+"",qn,Da,$a,Ea,Ca,We,Ve,Ue,Ia,je,ya,Ge,Pa,le,re,Sa,jt,dt,Va,Ae,Ot,Gt,Aa,Ma,mt,Ra,Cn=a[0].student.name+"",Bn,Fa,La,Ze,Me,Qe,za,Je,Ta,Ke,Oa,oe,ie,qa,ht,Ba,De,Zt,Ha,Na,gt,Wa,In=a[0].student.name+"",Hn,Ua,ja,Ye,Re,Xe,Ga,xe,Za,et,Qa,ue,fe,Ja,_t,Ka,$e,Qt,Ya,Xa,pt,xa,yn=a[0].student.name+"",Nn,es,ts,tt,vt,nt,ns,at,as,ce,de,ss,bt,he,ls,is;document.title=e=a[0].student.name+" no Mapa de Sala",zt=new $l({props:{daysPossible:a[12],daysTracked:a[13]}}),He=new ve({props:{moreClasses:a[5].positionStreak==="filter"?"!bg-neutral-700":"",$$slots:{default:[Wl]},$$scope:{ctx:a}}}),He.$on("click",a[20]),Ne=new ve({props:{$$slots:{default:[Ul]},$$scope:{ctx:a}}}),Ne.$on("click",a[21]);let Y=a[5].positionStreak==="filter"&&Ts(a);ct=new Il({props:{allClassroomMapData:a[1].positionStreak,studentID:a[11].id,invertDeskCounting:a[3].positionStreak,compensate:!1}}),Ue=new ve({props:{moreClasses:a[5].heatmap==="filter"?"!bg-neutral-700":"",$$slots:{default:[jl]},$$scope:{ctx:a}}}),Ue.$on("click",a[23]),je=new ve({props:{moreClasses:a[5].heatmap==="view"?"!bg-neutral-700":"",$$slots:{default:[Gl]},$$scope:{ctx:a}}}),je.$on("click",a[24]),Ge=new ve({props:{$$slots:{default:[Zl]},$$scope:{ctx:a}}}),Ge.$on("click",a[25]);const us=[Jl,Ql],kt=[];function fs(f,v){return f[5].heatmap==="filter"?0:f[5].heatmap==="view"?1:-1}~(le=fs(a))&&(re=kt[le]=us[le](a)),dt=new Al({props:{allClassroomMapData:a[1].heatmap,studentID:a[11].id,invertDeskCounting:a[3].heatmap,compensate:a[6],background:a[7]}}),Qe=new ve({props:{moreClasses:a[5].timeline==="filter"?"!bg-neutral-700":"",$$slots:{default:[Kl]},$$scope:{ctx:a}}}),Qe.$on("click",a[30]),Je=new ve({props:{moreClasses:a[5].timeline==="sort"?"!bg-neutral-700":"",$$slots:{default:[Yl]},$$scope:{ctx:a}}}),Je.$on("click",a[31]),Ke=new ve({props:{$$slots:{default:[Xl]},$$scope:{ctx:a}}}),Ke.$on("click",a[32]);const cs=[er,xl],wt=[];function ds(f,v){return f[5].timeline==="filter"?0:f[5].timeline==="sort"?1:-1}~(oe=ds(a))&&(ie=wt[oe]=cs[oe](a)),ht=new Fl({props:{allClassroomMapData:a[1].timeline,student:a[11],invertDeskCounting:a[3].timeline,compensate:!1,sort:a[2].timeline}}),Xe=new ve({props:{moreClasses:a[5].positionRanking==="filter"?"!bg-neutral-700":"",$$slots:{default:[tr]},$$scope:{ctx:a}}}),Xe.$on("click",a[35]),xe=new ve({props:{moreClasses:a[5].positionRanking==="sort"?"!bg-neutral-700":"",$$slots:{default:[nr]},$$scope:{ctx:a}}}),xe.$on("click",a[36]),et=new ve({props:{$$slots:{default:[ar]},$$scope:{ctx:a}}}),et.$on("click",a[37]);const ms=[lr,sr],Dt=[];function hs(f,v){return f[5].positionRanking==="filter"?0:f[5].positionRanking==="sort"?1:-1}~(ue=hs(a))&&(fe=Dt[ue]=ms[ue](a)),_t=new zs({props:{studentID:a[11].id,summaries:a[9].map(Os),content:a[9].map(qs)}}),nt=new ve({props:{moreClasses:a[5].absencesPerDay==="filter"?"!bg-neutral-700":"",$$slots:{default:[rr]},$$scope:{ctx:a}}}),nt.$on("click",a[40]),at=new ve({props:{moreClasses:a[5].absencesPerDay==="sort"?"!bg-neutral-700":"",$$slots:{default:[or]},$$scope:{ctx:a}}}),at.$on("click",a[41]);const gs=[ur,ir],$t=[];function _s(f,v){return f[5].absencesPerDay==="filter"?0:f[5].absencesPerDay==="sort"?1:-1}return~(ce=_s(a))&&(de=$t[ce]=gs[ce](a)),bt=new zs({props:{summaries:a[8].map(Bs),content:a[8].map(Hs)}}),{c(){n=_("meta"),t=E(),l=_("div"),r=_("h2"),u=w(i),m=E(),b=_("div"),y=_("div"),V=_("div"),h=w(A),k=E(),$=_("div"),H=w("Primeira Aparição"),N=E(),U=_("div"),O=_("div"),I=w(R),j=E(),Q=_("div"),J=w("Última Aparição"),ne=E(),G=_("div"),ae=_("div"),pe=w(se),K=E(),W=_("div"),Ce=w("Presenças"),lt=E(),Z=_("div"),Ie=_("div"),qt=w(Mt),_n=E(),rt=_("div"),pn=w("Faltas"),vn=E(),ot=_("span"),bn=w("Nenhum dos dados desta página são precisos e não devem ser usados como parâmetro."),kn=E(),Bt=_("hr"),wn=E(),ee=_("div"),be=_("div"),it=_("h5"),M=w("Sequência de Presença"),Rt=E(),ke=_("span"),Ft=w("Acompanhe e visualize a sequência de presença de "),Lt=w(Oe),qe=w(" ao longo do tempo."),Dn=E(),Ht=_("div"),Nt=_("div"),F(zt.$$.fragment),ua=E(),Pe=_("div"),Tt=_("div"),Wt=_("h5"),fa=w("Sequência de Posição"),ca=E(),ut=_("span"),da=w("Veja há quantos dias "),On=w($n),ma=w(" está sentando no mesmo lugar."),ha=E(),Be=_("div"),ft=_("div"),F(He.$$.fragment),ga=E(),F(Ne.$$.fragment),_a=E(),Y&&Y.c(),pa=E(),F(ct.$$.fragment),va=E(),we=_("div"),Ut=_("h5"),ba=w("Mapa de Calor"),ka=E(),Se=_("span"),wa=w("Observe visualmente as áreas mais frequentemente ocupadas por "),qn=w(En),Da=w("."),$a=_("br"),Ea=w("Dias com mais ou menos de 5 filas são desconsiderados do mapa de calor."),Ca=E(),We=_("div"),Ve=_("div"),F(Ue.$$.fragment),Ia=E(),F(je.$$.fragment),ya=E(),F(Ge.$$.fragment),Pa=E(),re&&re.c(),Sa=E(),jt=_("div"),F(dt.$$.fragment),Va=E(),Ae=_("div"),Ot=_("div"),Gt=_("h5"),Aa=w("Linha do Tempo"),Ma=E(),mt=_("span"),Ra=w("Períodos em que "),Bn=w(Cn),Fa=w(" se manteve em um lugar."),La=E(),Ze=_("div"),Me=_("div"),F(Qe.$$.fragment),za=E(),F(Je.$$.fragment),Ta=E(),F(Ke.$$.fragment),Oa=E(),ie&&ie.c(),qa=E(),F(ht.$$.fragment),Ba=E(),De=_("div"),Zt=_("h5"),Ha=w("Ranking de Posição"),Na=E(),gt=_("span"),Wa=w("Quantas vezes "),Hn=w(In),Ua=w(" sentou em diferentes lugares no mapa de sala."),ja=E(),Ye=_("div"),Re=_("div"),F(Xe.$$.fragment),Ga=E(),F(xe.$$.fragment),Za=E(),F(et.$$.fragment),Qa=E(),fe&&fe.c(),Ja=E(),F(_t.$$.fragment),Ka=E(),$e=_("div"),Qt=_("h5"),Ya=w("Faltas por Dia"),Xa=E(),pt=_("span"),xa=w("Os dias da semana em que "),Nn=w(yn),es=w(" faltou mais."),ts=E(),tt=_("div"),vt=_("div"),F(nt.$$.fragment),ns=E(),F(at.$$.fragment),as=E(),de&&de.c(),ss=E(),F(bt.$$.fragment),this.h()},l(f){const v=xs("svelte-qwd9sp",document.head);n=p(v,"META",{name:!0,content:!0}),v.forEach(c),t=C(f),l=p(f,"DIV",{class:!0});var ge=g(l);r=p(ge,"H2",{class:!0});var Pn=g(r);u=D(Pn,i),Pn.forEach(c),m=C(ge),b=p(ge,"DIV",{class:!0});var Ee=g(b);y=p(Ee,"DIV",{class:!0});var Et=g(y);V=p(Et,"DIV",{class:!0});var Jt=g(V);h=D(Jt,A),Jt.forEach(c),k=C(Et),$=p(Et,"DIV",{class:!0});var Sn=g($);H=D(Sn,"Primeira Aparição"),Sn.forEach(c),Et.forEach(c),N=C(Ee),U=p(Ee,"DIV",{class:!0});var Ct=g(U);O=p(Ct,"DIV",{class:!0});var It=g(O);I=D(It,R),It.forEach(c),j=C(Ct),Q=p(Ct,"DIV",{class:!0});var Kt=g(Q);J=D(Kt,"Última Aparição"),Kt.forEach(c),Ct.forEach(c),ne=C(Ee),G=p(Ee,"DIV",{class:!0});var yt=g(G);ae=p(yt,"DIV",{class:!0});var Vn=g(ae);pe=D(Vn,se),Vn.forEach(c),K=C(yt),W=p(yt,"DIV",{class:!0});var Yt=g(W);Ce=D(Yt,"Presenças"),Yt.forEach(c),yt.forEach(c),lt=C(Ee),Z=p(Ee,"DIV",{class:!0});var st=g(Z);Ie=p(st,"DIV",{class:!0});var Xt=g(Ie);qt=D(Xt,Mt),Xt.forEach(c),_n=C(st),rt=p(st,"DIV",{class:!0});var xt=g(rt);pn=D(xt,"Faltas"),xt.forEach(c),st.forEach(c),Ee.forEach(c),vn=C(ge),ot=p(ge,"SPAN",{class:!0});var An=g(ot);bn=D(An,"Nenhum dos dados desta página são precisos e não devem ser usados como parâmetro."),An.forEach(c),kn=C(ge),Bt=p(ge,"HR",{class:!0}),wn=C(ge),ee=p(ge,"DIV",{class:!0});var me=g(ee);be=p(me,"DIV",{class:!0});var Fe=g(be);it=p(Fe,"H5",{class:!0});var en=g(it);M=D(en,"Sequência de Presença"),en.forEach(c),Rt=C(Fe),ke=p(Fe,"SPAN",{class:!0});var Pt=g(ke);Ft=D(Pt,"Acompanhe e visualize a sequência de presença de "),Lt=D(Pt,Oe),qe=D(Pt," ao longo do tempo."),Pt.forEach(c),Dn=C(Fe),Ht=p(Fe,"DIV",{class:!0});var tn=g(Ht);Nt=p(tn,"DIV",{class:!0});var nn=g(Nt);L(zt.$$.fragment,nn),nn.forEach(c),tn.forEach(c),Fe.forEach(c),ua=C(me),Pe=p(me,"DIV",{class:!0});var an=g(Pe);Tt=p(an,"DIV",{});var Wn=g(Tt);Wt=p(Wn,"H5",{class:!0});var ps=g(Wt);fa=D(ps,"Sequência de Posição"),ps.forEach(c),ca=C(Wn),ut=p(Wn,"SPAN",{class:!0});var Un=g(ut);da=D(Un,"Veja há quantos dias "),On=D(Un,$n),ma=D(Un," está sentando no mesmo lugar."),Un.forEach(c),Wn.forEach(c),ha=C(an),Be=p(an,"DIV",{class:!0});var jn=g(Be);ft=p(jn,"DIV",{class:!0});var Gn=g(ft);L(He.$$.fragment,Gn),ga=C(Gn),L(Ne.$$.fragment,Gn),Gn.forEach(c),_a=C(jn),Y&&Y.l(jn),jn.forEach(c),pa=C(an),L(ct.$$.fragment,an),an.forEach(c),va=C(me),we=p(me,"DIV",{class:!0});var St=g(we);Ut=p(St,"H5",{class:!0});var vs=g(Ut);ba=D(vs,"Mapa de Calor"),vs.forEach(c),ka=C(St),Se=p(St,"SPAN",{class:!0});var sn=g(Se);wa=D(sn,"Observe visualmente as áreas mais frequentemente ocupadas por "),qn=D(sn,En),Da=D(sn,"."),$a=p(sn,"BR",{}),Ea=D(sn,"Dias com mais ou menos de 5 filas são desconsiderados do mapa de calor."),sn.forEach(c),Ca=C(St),We=p(St,"DIV",{class:!0});var Zn=g(We);Ve=p(Zn,"DIV",{class:!0});var ln=g(Ve);L(Ue.$$.fragment,ln),Ia=C(ln),L(je.$$.fragment,ln),ya=C(ln),L(Ge.$$.fragment,ln),ln.forEach(c),Pa=C(Zn),re&&re.l(Zn),Zn.forEach(c),Sa=C(St),jt=p(St,"DIV",{class:!0});var bs=g(jt);L(dt.$$.fragment,bs),bs.forEach(c),St.forEach(c),Va=C(me),Ae=p(me,"DIV",{class:!0});var rn=g(Ae);Ot=p(rn,"DIV",{});var Qn=g(Ot);Gt=p(Qn,"H5",{class:!0});var ks=g(Gt);Aa=D(ks,"Linha do Tempo"),ks.forEach(c),Ma=C(Qn),mt=p(Qn,"SPAN",{class:!0});var Jn=g(mt);Ra=D(Jn,"Períodos em que "),Bn=D(Jn,Cn),Fa=D(Jn," se manteve em um lugar."),Jn.forEach(c),Qn.forEach(c),La=C(rn),Ze=p(rn,"DIV",{class:!0});var Kn=g(Ze);Me=p(Kn,"DIV",{class:!0});var on=g(Me);L(Qe.$$.fragment,on),za=C(on),L(Je.$$.fragment,on),Ta=C(on),L(Ke.$$.fragment,on),on.forEach(c),Oa=C(Kn),ie&&ie.l(Kn),Kn.forEach(c),qa=C(rn),L(ht.$$.fragment,rn),rn.forEach(c),Ba=C(me),De=p(me,"DIV",{class:!0});var Vt=g(De);Zt=p(Vt,"H5",{class:!0});var ws=g(Zt);Ha=D(ws,"Ranking de Posição"),ws.forEach(c),Na=C(Vt),gt=p(Vt,"SPAN",{class:!0});var Yn=g(gt);Wa=D(Yn,"Quantas vezes "),Hn=D(Yn,In),Ua=D(Yn," sentou em diferentes lugares no mapa de sala."),Yn.forEach(c),ja=C(Vt),Ye=p(Vt,"DIV",{class:!0});var Xn=g(Ye);Re=p(Xn,"DIV",{class:!0});var un=g(Re);L(Xe.$$.fragment,un),Ga=C(un),L(xe.$$.fragment,un),Za=C(un),L(et.$$.fragment,un),un.forEach(c),Qa=C(Xn),fe&&fe.l(Xn),Xn.forEach(c),Ja=C(Vt),L(_t.$$.fragment,Vt),Vt.forEach(c),Ka=C(me),$e=p(me,"DIV",{class:!0});var At=g($e);Qt=p(At,"H5",{class:!0});var Ds=g(Qt);Ya=D(Ds,"Faltas por Dia"),Ds.forEach(c),Xa=C(At),pt=p(At,"SPAN",{class:!0});var xn=g(pt);xa=D(xn,"Os dias da semana em que "),Nn=D(xn,yn),es=D(xn," faltou mais."),xn.forEach(c),ts=C(At),tt=p(At,"DIV",{class:!0});var ea=g(tt);vt=p(ea,"DIV",{class:!0});var ta=g(vt);L(nt.$$.fragment,ta),ns=C(ta),L(at.$$.fragment,ta),ta.forEach(c),as=C(ea),de&&de.l(ea),ea.forEach(c),ss=C(At),L(bt.$$.fragment,At),At.forEach(c),me.forEach(c),ge.forEach(c),this.h()},h(){d(n,"name","description"),d(n,"content",s=`Veja dados interessantes sobre ${a[0].student.name}! Tem a primeira e última aparição, presenças, faltas, mapa de calor e outras bobagens.`),d(r,"class","text-center text-3xl font-bold m-4"),d(V,"class","text-xl font-semibold"),d($,"class","text-sm text-neutral-500"),d(y,"class","flex flex-col items-center text-center"),d(O,"class","text-xl font-semibold"),d(Q,"class","text-sm text-neutral-500"),d(U,"class","flex flex-col items-center text-center"),d(ae,"class","text-xl font-semibold"),d(W,"class","text-sm text-neutral-500"),d(G,"class","flex flex-col items-center text-center cursor-pointer"),d(Ie,"class","text-xl font-semibold"),d(rt,"class","text-sm text-neutral-500"),d(Z,"class","flex flex-col items-center text-center cursor-pointer"),d(b,"class","grid grid-cols-4 gap-4 items-center max-w-xl mx-auto p-4 rounded-xl bg-neutral-800"),d(ot,"class","text-sm text-neutral-500 block text-center m-4"),d(Bt,"class","my-4 border-neutral-500"),d(it,"class","text-center font-bold text-xl"),d(ke,"class","text-sm text-neutral-500 block text-center m-1"),d(Nt,"class","container my-3 max-w-0"),d(Ht,"class","overflow-x-auto"),d(be,"class","bg-neutral-800 rounded-xl p-4"),d(Wt,"class","text-center font-bold text-xl"),d(ut,"class","text-sm text-neutral-500 block text-center m-1"),d(ft,"class","grid grid-rows-2 grid-cols-1 sm:grid-cols-2 sm:grid-rows-1 gap-1.5"),d(Be,"class","my-2 md:mx-auto bg-neutral-850 p-1.5 rounded-xl"),d(Pe,"class","bg-neutral-800 rounded-xl p-4"),d(Ut,"class","text-center font-bold text-xl"),d(Se,"class","text-sm text-neutral-500 block text-center m-1"),d(Ve,"class","grid grid-rows-3 grid-cols-1 sm:grid-cols-3 sm:grid-rows-1 gap-1.5"),d(We,"class","my-2 md:mx-auto bg-neutral-850 p-1.5 rounded-xl"),d(jt,"class","flex justify-center"),d(we,"class","bg-neutral-800 rounded-xl p-4"),d(Gt,"class","text-center font-bold text-xl"),d(mt,"class","text-sm text-neutral-500 block text-center m-1"),d(Me,"class","grid grid-rows-3 grid-cols-1 sm:grid-cols-3 sm:grid-rows-1 gap-1.5"),d(Ze,"class","my-2 md:mx-auto bg-neutral-850 p-1.5 rounded-xl"),d(Ae,"class","bg-neutral-800 rounded-xl p-4"),d(Zt,"class","text-center font-bold text-xl"),d(gt,"class","text-sm text-neutral-500 block text-center m-1"),d(Re,"class","grid grid-rows-3 grid-cols-1 sm:grid-cols-3 sm:grid-rows-1 gap-1.5"),d(Ye,"class","my-2 md:mx-auto bg-neutral-850 p-1.5 rounded-xl"),d(De,"class","bg-neutral-800 rounded-xl p-4"),d(Qt,"class","text-center font-bold text-xl"),d(pt,"class","text-sm text-neutral-500 block text-center m-1"),d(vt,"class","grid grid-rows-2 grid-cols-1 sm:grid-cols-2 sm:grid-rows-1 gap-1.5"),d(tt,"class","my-2 md:mx-auto bg-neutral-850 p-1.5 rounded-xl"),d($e,"class","bg-neutral-800 rounded-xl p-4"),d(ee,"class","grid md:grid-cols-2 gap-4"),d(l,"class","container mx-auto max-w-7xl px-4")},m(f,v){o(document.head,n),B(f,t,v),B(f,l,v),o(l,r),o(r,u),o(l,m),o(l,b),o(b,y),o(y,V),o(V,h),o(y,k),o(y,$),o($,H),o(b,N),o(b,U),o(U,O),o(O,I),o(U,j),o(U,Q),o(Q,J),o(b,ne),o(b,G),o(G,ae),o(ae,pe),o(G,K),o(G,W),o(W,Ce),o(b,lt),o(b,Z),o(Z,Ie),o(Ie,qt),o(Z,_n),o(Z,rt),o(rt,pn),o(l,vn),o(l,ot),o(ot,bn),o(l,kn),o(l,Bt),o(l,wn),o(l,ee),o(ee,be),o(be,it),o(it,M),o(be,Rt),o(be,ke),o(ke,Ft),o(ke,Lt),o(ke,qe),o(be,Dn),o(be,Ht),o(Ht,Nt),z(zt,Nt,null),o(ee,ua),o(ee,Pe),o(Pe,Tt),o(Tt,Wt),o(Wt,fa),o(Tt,ca),o(Tt,ut),o(ut,da),o(ut,On),o(ut,ma),o(Pe,ha),o(Pe,Be),o(Be,ft),z(He,ft,null),o(ft,ga),z(Ne,ft,null),o(Be,_a),Y&&Y.m(Be,null),o(Pe,pa),z(ct,Pe,null),o(ee,va),o(ee,we),o(we,Ut),o(Ut,ba),o(we,ka),o(we,Se),o(Se,wa),o(Se,qn),o(Se,Da),o(Se,$a),o(Se,Ea),o(we,Ca),o(we,We),o(We,Ve),z(Ue,Ve,null),o(Ve,Ia),z(je,Ve,null),o(Ve,ya),z(Ge,Ve,null),o(We,Pa),~le&&kt[le].m(We,null),o(we,Sa),o(we,jt),z(dt,jt,null),o(ee,Va),o(ee,Ae),o(Ae,Ot),o(Ot,Gt),o(Gt,Aa),o(Ot,Ma),o(Ot,mt),o(mt,Ra),o(mt,Bn),o(mt,Fa),o(Ae,La),o(Ae,Ze),o(Ze,Me),z(Qe,Me,null),o(Me,za),z(Je,Me,null),o(Me,Ta),z(Ke,Me,null),o(Ze,Oa),~oe&&wt[oe].m(Ze,null),o(Ae,qa),z(ht,Ae,null),o(ee,Ba),o(ee,De),o(De,Zt),o(Zt,Ha),o(De,Na),o(De,gt),o(gt,Wa),o(gt,Hn),o(gt,Ua),o(De,ja),o(De,Ye),o(Ye,Re),z(Xe,Re,null),o(Re,Ga),z(xe,Re,null),o(Re,Za),z(et,Re,null),o(Ye,Qa),~ue&&Dt[ue].m(Ye,null),o(De,Ja),z(_t,De,null),o(ee,Ka),o(ee,$e),o($e,Qt),o(Qt,Ya),o($e,Xa),o($e,pt),o(pt,xa),o(pt,Nn),o(pt,es),o($e,ts),o($e,tt),o(tt,vt),z(nt,vt,null),o(vt,ns),z(at,vt,null),o(tt,as),~ce&&$t[ce].m(tt,null),o($e,ss),z(bt,$e,null),he=!0,ls||(is=[X(G,"click",a[17]),X(G,"keydown",a[17]),X(Z,"click",a[17]),X(Z,"keydown",a[17])],ls=!0)},p(f,v){(!he||v[0]&1)&&e!==(e=f[0].student.name+" no Mapa de Sala")&&(document.title=e),(!he||v[0]&1&&s!==(s=`Veja dados interessantes sobre ${f[0].student.name}! Tem a primeira e última aparição, presenças, faltas, mapa de calor e outras bobagens.`))&&d(n,"content",s),(!he||v[0]&1)&&i!==(i=f[0].student.name+"")&&x(u,i),(!he||v[0]&16)&&se!==(se=f[10].includes(f[11].id)?"?":f[16].attendances[f[4]]+`${f[4]==="percentage"?"%":""}`)&&x(pe,se),(!he||v[0]&16)&&Mt!==(Mt=f[10].includes(f[11].id)?"?":f[16].absences[f[4]]+`${f[4]==="percentage"?"%":""}`)&&x(qt,Mt),(!he||v[0]&1)&&Oe!==(Oe=f[0].student.name+"")&&x(Lt,Oe),(!he||v[0]&1)&&$n!==($n=f[0].student.name+"")&&x(On,$n);const ge={};v[0]&32&&(ge.moreClasses=f[5].positionStreak==="filter"?"!bg-neutral-700":""),v[1]&131072&&(ge.$$scope={dirty:v,ctx:f}),He.$set(ge);const Pn={};v[0]&8|v[1]&131072&&(Pn.$$scope={dirty:v,ctx:f}),Ne.$set(Pn),f[5].positionStreak==="filter"?Y?(Y.p(f,v),v[0]&32&&P(Y,1)):(Y=Ts(f),Y.c(),P(Y,1),Y.m(Be,null)):Y&&(Rn(),S(Y,1,1,()=>{Y=null}),Mn());const Ee={};v[0]&2&&(Ee.allClassroomMapData=f[1].positionStreak),v[0]&8&&(Ee.invertDeskCounting=f[3].positionStreak),ct.$set(Ee),(!he||v[0]&1)&&En!==(En=f[0].student.name+"")&&x(qn,En);const Et={};v[0]&32&&(Et.moreClasses=f[5].heatmap==="filter"?"!bg-neutral-700":""),v[1]&131072&&(Et.$$scope={dirty:v,ctx:f}),Ue.$set(Et);const Jt={};v[0]&32&&(Jt.moreClasses=f[5].heatmap==="view"?"!bg-neutral-700":""),v[1]&131072&&(Jt.$$scope={dirty:v,ctx:f}),je.$set(Jt);const Sn={};v[0]&8|v[1]&131072&&(Sn.$$scope={dirty:v,ctx:f}),Ge.$set(Sn);let Ct=le;le=fs(f),le===Ct?~le&&kt[le].p(f,v):(re&&(Rn(),S(kt[Ct],1,1,()=>{kt[Ct]=null}),Mn()),~le?(re=kt[le],re?re.p(f,v):(re=kt[le]=us[le](f),re.c()),P(re,1),re.m(We,null)):re=null);const It={};v[0]&2&&(It.allClassroomMapData=f[1].heatmap),v[0]&8&&(It.invertDeskCounting=f[3].heatmap),v[0]&64&&(It.compensate=f[6]),v[0]&128&&(It.background=f[7]),dt.$set(It),(!he||v[0]&1)&&Cn!==(Cn=f[0].student.name+"")&&x(Bn,Cn);const Kt={};v[0]&32&&(Kt.moreClasses=f[5].timeline==="filter"?"!bg-neutral-700":""),v[1]&131072&&(Kt.$$scope={dirty:v,ctx:f}),Qe.$set(Kt);const yt={};v[0]&32&&(yt.moreClasses=f[5].timeline==="sort"?"!bg-neutral-700":""),v[1]&131072&&(yt.$$scope={dirty:v,ctx:f}),Je.$set(yt);const Vn={};v[0]&8|v[1]&131072&&(Vn.$$scope={dirty:v,ctx:f}),Ke.$set(Vn);let Yt=oe;oe=ds(f),oe===Yt?~oe&&wt[oe].p(f,v):(ie&&(Rn(),S(wt[Yt],1,1,()=>{wt[Yt]=null}),Mn()),~oe?(ie=wt[oe],ie?ie.p(f,v):(ie=wt[oe]=cs[oe](f),ie.c()),P(ie,1),ie.m(Ze,null)):ie=null);const st={};v[0]&2&&(st.allClassroomMapData=f[1].timeline),v[0]&8&&(st.invertDeskCounting=f[3].timeline),v[0]&4&&(st.sort=f[2].timeline),ht.$set(st),(!he||v[0]&1)&&In!==(In=f[0].student.name+"")&&x(Hn,In);const Xt={};v[0]&32&&(Xt.moreClasses=f[5].positionRanking==="filter"?"!bg-neutral-700":""),v[1]&131072&&(Xt.$$scope={dirty:v,ctx:f}),Xe.$set(Xt);const xt={};v[0]&32&&(xt.moreClasses=f[5].positionRanking==="sort"?"!bg-neutral-700":""),v[1]&131072&&(xt.$$scope={dirty:v,ctx:f}),xe.$set(xt);const An={};v[0]&8|v[1]&131072&&(An.$$scope={dirty:v,ctx:f}),et.$set(An);let me=ue;ue=hs(f),ue===me?~ue&&Dt[ue].p(f,v):(fe&&(Rn(),S(Dt[me],1,1,()=>{Dt[me]=null}),Mn()),~ue?(fe=Dt[ue],fe?fe.p(f,v):(fe=Dt[ue]=ms[ue](f),fe.c()),P(fe,1),fe.m(Ye,null)):fe=null);const Fe={};v[0]&512&&(Fe.summaries=f[9].map(Os)),v[0]&512&&(Fe.content=f[9].map(qs)),_t.$set(Fe),(!he||v[0]&1)&&yn!==(yn=f[0].student.name+"")&&x(Nn,yn);const en={};v[0]&32&&(en.moreClasses=f[5].absencesPerDay==="filter"?"!bg-neutral-700":""),v[1]&131072&&(en.$$scope={dirty:v,ctx:f}),nt.$set(en);const Pt={};v[0]&32&&(Pt.moreClasses=f[5].absencesPerDay==="sort"?"!bg-neutral-700":""),v[1]&131072&&(Pt.$$scope={dirty:v,ctx:f}),at.$set(Pt);let tn=ce;ce=_s(f),ce===tn?~ce&&$t[ce].p(f,v):(de&&(Rn(),S($t[tn],1,1,()=>{$t[tn]=null}),Mn()),~ce?(de=$t[ce],de?de.p(f,v):(de=$t[ce]=gs[ce](f),de.c()),P(de,1),de.m(tt,null)):de=null);const nn={};v[0]&256&&(nn.summaries=f[8].map(Bs)),v[0]&256&&(nn.content=f[8].map(Hs)),bt.$set(nn)},i(f){he||(P(zt.$$.fragment,f),P(He.$$.fragment,f),P(Ne.$$.fragment,f),P(Y),P(ct.$$.fragment,f),P(Ue.$$.fragment,f),P(je.$$.fragment,f),P(Ge.$$.fragment,f),P(re),P(dt.$$.fragment,f),P(Qe.$$.fragment,f),P(Je.$$.fragment,f),P(Ke.$$.fragment,f),P(ie),P(ht.$$.fragment,f),P(Xe.$$.fragment,f),P(xe.$$.fragment,f),P(et.$$.fragment,f),P(fe),P(_t.$$.fragment,f),P(nt.$$.fragment,f),P(at.$$.fragment,f),P(de),P(bt.$$.fragment,f),he=!0)},o(f){S(zt.$$.fragment,f),S(He.$$.fragment,f),S(Ne.$$.fragment,f),S(Y),S(ct.$$.fragment,f),S(Ue.$$.fragment,f),S(je.$$.fragment,f),S(Ge.$$.fragment,f),S(re),S(dt.$$.fragment,f),S(Qe.$$.fragment,f),S(Je.$$.fragment,f),S(Ke.$$.fragment,f),S(ie),S(ht.$$.fragment,f),S(Xe.$$.fragment,f),S(xe.$$.fragment,f),S(et.$$.fragment,f),S(fe),S(_t.$$.fragment,f),S(nt.$$.fragment,f),S(at.$$.fragment,f),S(de),S(bt.$$.fragment,f),he=!1},d(f){c(n),f&&c(t),f&&c(l),T(zt),T(He),T(Ne),Y&&Y.d(),T(ct),T(Ue),T(je),T(Ge),~le&&kt[le].d(),T(dt),T(Qe),T(Je),T(Ke),~oe&&wt[oe].d(),T(ht),T(Xe),T(xe),T(et),~ue&&Dt[ue].d(),T(_t),T(nt),T(at),~ce&&$t[ce].d(),T(bt),ls=!1,ra(is)}}}const Os=({position:a})=>a,qs=({days:a})=>a,Bs=({dayOfWeek:a})=>a,Hs=({days:a})=>a;function cr(a,e,n){let s,t;const l=["e6d34ef4-babc-4223-a3e3-82002b1462da"];let{data:r}=e,{student:i,allClassroomMapData:u,allDays:m}=r,b={positionStreak:u,heatmap:u,timeline:u,positionRanking:u,absencesPerDay:u},{attendances:y,absences:V}=al(u,i.id);const A=y[0],h=ye.fromISO(A),k=y.at(-1),$=ye.fromISO(k);i.left&&(V=V.filter(M=>ye.fromISO(M)<=$)),i.late&&(V=V.filter(M=>ye.fromISO(M)>=h));const H=sl(y,V);let N="number";function U(){n(4,N=N==="number"?"percentage":"number")}let O={positionRanking:{type:"days",direction:"decrescent"},timeline:{type:"chronology",direction:"increscent"},absencesPerDay:{type:"days",direction:"decrescent"}},R={positionStreak:"",heatmap:"",timeline:"",positionRanking:"",absencesPerDay:""},I={positionStreak:!1,heatmap:!1,timeline:!1,positionRanking:!1,absencesPerDay:!1},j=!0,Q=!1;async function J(M,Rt){var Lt;let ke=tl.from("classroomMap").select();const Ft=(Lt=Rt.day)==null?void 0:Lt.map(qe=>qe==null?void 0:qe.toISODate());Ft.length===2&&(ke=ke.gte("day",Ft[0]).lte("day",Ft[1]).order("day"));let{data:Oe}=await ke;Rt.tags.length>0&&(Oe=Oe.filter(({tags:qe})=>!Rt.tags.some(Dn=>qe.includes(Dn.id)))),n(1,b[M]=Oe,b)}function ne(M){n(3,I[M]=I[M]!==!0,I),n(5,R[M]="",R)}const G=()=>n(5,R.positionStreak=R.positionStreak!="filter"?"filter":"",R),ae=()=>ne("positionStreak"),se=M=>J("positionStreak",M.detail.filter),pe=()=>n(5,R.heatmap=R.heatmap!="filter"?"filter":"",R),K=()=>n(5,R.heatmap=R.heatmap!="view"?"view":"",R),W=()=>ne("heatmap"),Ce=M=>J("heatmap",M.detail.filter);function lt(M){j=M,n(6,j)}function Z(M){Q=M,n(7,Q)}const Ie=M=>J("heatmap",M.detail.sort),Mt=()=>n(5,R.timeline=R.timeline!="filter"?"filter":"",R),qt=()=>n(5,R.timeline=R.timeline!="sort"?"sort":"",R),_n=()=>ne("timeline"),rt=M=>J("timeline",M.detail.filter);function pn(M){a.$$.not_equal(O.timeline,M)&&(O.timeline=M,n(2,O))}const vn=()=>n(5,R.positionRanking=R.positionRanking!="filter"?"filter":"",R),ot=()=>n(5,R.positionRanking=R.positionRanking!="sort"?"sort":"",R),bn=()=>ne("positionRanking"),kn=M=>J("positionRanking",M.detail.filter);function Bt(M){a.$$.not_equal(O.positionRanking,M)&&(O.positionRanking=M,n(2,O))}const wn=()=>n(5,R.absencesPerDay=R.absencesPerDay!="filter"?"filter":"",R),ee=()=>n(5,R.absencesPerDay=R.absencesPerDay!="sort"?"sort":"",R),be=M=>J("absencesPerDay",M.detail.filter);function it(M){a.$$.not_equal(O.absencesPerDay,M)&&(O.absencesPerDay=M,n(2,O))}return a.$$set=M=>{"data"in M&&n(0,r=M.data)},a.$$.update=()=>{a.$$.dirty[0]&14&&n(9,s=ll(b.positionRanking,i.id,I.positionRanking,O.positionRanking).filter(({position:M})=>!M.startsWith("0ª"))),a.$$.dirty[0]&6&&n(8,t=rl(b.absencesPerDay,i,O.absencesPerDay))},[r,b,O,I,N,R,j,Q,t,s,l,i,m,y,h,$,H,U,J,ne,G,ae,se,pe,K,W,Ce,lt,Z,Ie,Mt,qt,_n,rt,pn,vn,ot,bn,kn,Bt,wn,ee,be,it]}class vr extends Le{constructor(e){super(),ze(this,e,cr,fr,Te,{data:0},null,[-1,-1])}}export{vr as component};
