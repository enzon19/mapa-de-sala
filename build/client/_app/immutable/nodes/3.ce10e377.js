import{S as Me,i as Se,s as Ve,C as Gt,D as Ut,E as jt,m as _,h as u,n as f,p as Y,F as hn,b as F,G as o,H as Q,I as ja,J as q,K as kn,L as gn,M as _n,N as de,k as p,l as v,V as Wt,o as Ga,_ as Ya,$ as Xa,e as pn,a0 as xa,w as nn,T as wn,a as C,c as $,a1 as el,a2 as tl,q as y,r as M,u as ve,j as nl,a3 as al,a4 as Va,y as L,W as ll,z as T,A as z,g as V,d as A,f as dn,B as O,v as mn,a5 as vn,a6 as bn}from"../chunks/index.b87f7290.js";import{g as Za,a as sl,b as rl,c as ol,d as il,e as cl,s as ul}from"../chunks/tags.c645b6ab.js";import{D as se}from"../chunks/datetime.7428e89c.js";import{s as Aa,F as Dn,a as En,b as Qa,S as Ja}from"../chunks/SortController.9276eb37.js";import{B as we}from"../chunks/Button.6ca16e21.js";function fl(l){let e,n,a,t,s,r,i=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},l[2],{width:l[0]},{height:l[0]},{fill:l[1]},{class:t=l[3].class}],c={};for(let d=0;d<i.length;d+=1)c=Gt(c,i[d]);return{c(){e=Ut("svg"),n=Ut("polyline"),a=Ut("line"),this.h()},l(d){e=jt(d,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0,fill:!0,class:!0});var h=_(e);n=jt(h,"polyline",{points:!0,style:!0}),_(n).forEach(u),a=jt(h,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),_(a).forEach(u),h.forEach(u),this.h()},h(){f(n,"points","112 244 256 100 400 244"),Y(n,"fill","none"),Y(n,"stroke",l[1]),Y(n,"stroke-linecap","round"),Y(n,"stroke-linejoin","round"),Y(n,"stroke-width","48px"),f(a,"x1","256"),f(a,"y1","120"),f(a,"x2","256"),f(a,"y2","412"),Y(a,"fill","none"),Y(a,"stroke",l[1]),Y(a,"stroke-linecap","round"),Y(a,"stroke-linejoin","round"),Y(a,"stroke-width","48px"),hn(e,c)},m(d,h){F(d,e,h),o(e,n),o(e,a),s||(r=[Q(e,"click",l[4]),Q(e,"mouseenter",l[5]),Q(e,"mouseleave",l[6]),Q(e,"mouseover",l[7]),Q(e,"mouseout",l[8]),Q(e,"blur",l[9]),Q(e,"focus",l[10])],s=!0)},p(d,[h]){h&2&&Y(n,"stroke",d[1]),h&2&&Y(a,"stroke",d[1]),hn(e,c=ja(i,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},h&4&&d[2],h&1&&{width:d[0]},h&1&&{height:d[0]},h&2&&{fill:d[1]},h&8&&t!==(t=d[3].class)&&{class:t}]))},i:q,o:q,d(d){d&&u(e),s=!1,kn(r)}}}function dl(l,e,n){const a=["size","color"];let t=gn(e,a),{size:s="24"}=e,{color:r="currentColor"}=e;function i(g){de.call(this,l,g)}function c(g){de.call(this,l,g)}function d(g){de.call(this,l,g)}function h(g){de.call(this,l,g)}function S(g){de.call(this,l,g)}function I(g){de.call(this,l,g)}function E(g){de.call(this,l,g)}return l.$$set=g=>{n(3,e=Gt(Gt({},e),_n(g))),n(2,t=gn(e,a)),"size"in g&&n(0,s=g.size),"color"in g&&n(1,r=g.color)},e=_n(e),[s,r,t,e,i,c,d,h,S,I,E]}class In extends Me{constructor(e){super(),Se(this,e,dl,fl,Ve,{size:0,color:1})}}function ml(l){let e,n,a,t,s,r,i=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},l[2],{width:l[0]},{height:l[0]},{fill:l[1]},{class:t=l[3].class}],c={};for(let d=0;d<i.length;d+=1)c=Gt(c,i[d]);return{c(){e=Ut("svg"),n=Ut("circle"),a=Ut("path"),this.h()},l(d){e=jt(d,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0,fill:!0,class:!0});var h=_(e);n=jt(h,"circle",{cx:!0,cy:!0,r:!0}),_(n).forEach(u),a=jt(h,"path",{d:!0}),_(a).forEach(u),h.forEach(u),this.h()},h(){f(n,"cx","256"),f(n,"cy","256"),f(n,"r","64"),f(a,"d","M490.84,238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349,110.55,302,96,255.66,96c-42.52,0-84.33,12.15-124.27,36.11C90.66,156.54,53.76,192.23,21.71,238.18a31.92,31.92,0,0,0-.64,35.54c26.41,41.33,60.4,76.14,98.28,100.65C162,402,207.9,416,255.66,416c46.71,0,93.81-14.43,136.2-41.72,38.46-24.77,72.72-59.66,99.08-100.92A32.2,32.2,0,0,0,490.84,238.6ZM256,352a96,96,0,1,1,96-96A96.11,96.11,0,0,1,256,352Z"),hn(e,c)},m(d,h){F(d,e,h),o(e,n),o(e,a),s||(r=[Q(e,"click",l[4]),Q(e,"mouseenter",l[5]),Q(e,"mouseleave",l[6]),Q(e,"mouseover",l[7]),Q(e,"mouseout",l[8]),Q(e,"blur",l[9]),Q(e,"focus",l[10])],s=!0)},p(d,[h]){hn(e,c=ja(i,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 512 512"},h&4&&d[2],h&1&&{width:d[0]},h&1&&{height:d[0]},h&2&&{fill:d[1]},h&8&&t!==(t=d[3].class)&&{class:t}]))},i:q,o:q,d(d){d&&u(e),s=!1,kn(r)}}}function hl(l,e,n){const a=["size","color"];let t=gn(e,a),{size:s="24"}=e,{color:r="currentColor"}=e;function i(g){de.call(this,l,g)}function c(g){de.call(this,l,g)}function d(g){de.call(this,l,g)}function h(g){de.call(this,l,g)}function S(g){de.call(this,l,g)}function I(g){de.call(this,l,g)}function E(g){de.call(this,l,g)}return l.$$set=g=>{n(3,e=Gt(Gt({},e),_n(g))),n(2,t=gn(e,a)),"size"in g&&n(0,s=g.size),"color"in g&&n(1,r=g.color)},e=_n(e),[s,r,t,e,i,c,d,h,S,I,E]}class gl extends Me{constructor(e){super(),Se(this,e,hl,ml,Ve,{size:0,color:1})}}const _l=l=>l.replace(/-_$/g,"").replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z])(?=[a-z])/g,"$1-$2").toLowerCase(),pl=(l,e)=>{const a=l.getBoundingClientRect().width+2,t=window.getComputedStyle(l),s=parseInt(t.getPropertyValue("padding-left"),10),r=parseInt(t.getPropertyValue("padding-right"),10),i=s+r,c=a-i;return Math.round(Math.min(e,c||e))},vl=l=>{const e=l.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},bl={left:"right",right:"left",top:"bottom",bottom:"top"};function Pa(l){let e,n;return{c(){e=new Xa(!1),n=pn(),this.h()},l(a){e=xa(a,!1),n=pn(),this.h()},h(){e.a=n},m(a,t){e.m(l[1],a,t),F(a,n,t)},p(a,t){t&2&&e.p(a[1])},d(a){a&&u(n),a&&e.d()}}}function kl(l){let e,n,a=!l[10]&&Pa(l);return{c(){e=p("div"),a&&a.c(),this.h()},l(t){e=v(t,"DIV",{class:!0,style:!0});var s=_(e);a&&a.l(s),s.forEach(u),this.h()},h(){f(e,"class",n="tooltip animation-"+l[8]+" "+l[0]+" "+l[4]+" svelte-1gb9ply"),Y(e,"min-width",l[7]+"px"),Y(e,"max-width",l[3]+"px"),Y(e,"text-align",l[2]),Wt(e,"show",l[9]),Wt(e,"arrowless",!l[5])},m(t,s){F(t,e,s),a&&a.m(e,null),l[14](e)},p(t,[s]){t[10]?a&&(a.d(1),a=null):a?a.p(t,s):(a=Pa(t),a.c(),a.m(e,null)),s&273&&n!==(n="tooltip animation-"+t[8]+" "+t[0]+" "+t[4]+" svelte-1gb9ply")&&f(e,"class",n),s&128&&Y(e,"min-width",t[7]+"px"),s&8&&Y(e,"max-width",t[3]+"px"),s&4&&Y(e,"text-align",t[2]),s&785&&Wt(e,"show",t[9]),s&305&&Wt(e,"arrowless",!t[5])},i:q,o:q,d(t){t&&u(e),a&&a.d(),l[14](null)}}}function wl(l,e,n){let a,{content:t=""}=e,{align:s="left"}=e,{position:r="top"}=e,{maxWidth:i=200}=e,{style:c=null}=e,{theme:d=""}=e,{animation:h=""}=e,{arrow:S=!0}=e,{autoPosition:I=!1}=e,E=null,g=0,b=null,k=null,B=!1;Ga(()=>{const w=h?200:0;if(E!==null&&(a&&!b&&(b=new t.component({target:E,props:t.props})),n(7,g=pl(E,i)),c&&typeof c=="object"))for(let N in c){const re=_l(N),H=c[N];E.style.setProperty(`--tooltip-${re}`,H)}I&&!vl(E)&&n(0,r=bl[r]),h&&n(8,k=h),setTimeout(()=>n(9,B=!0),w)}),Ya(()=>{b&&(b.$destroy(),b=null)});function R(w){nn[w?"unshift":"push"](()=>{E=w,n(6,E)})}return l.$$set=w=>{"content"in w&&n(1,t=w.content),"align"in w&&n(2,s=w.align),"position"in w&&n(0,r=w.position),"maxWidth"in w&&n(3,i=w.maxWidth),"style"in w&&n(11,c=w.style),"theme"in w&&n(4,d=w.theme),"animation"in w&&n(12,h=w.animation),"arrow"in w&&n(5,S=w.arrow),"autoPosition"in w&&n(13,I=w.autoPosition)},l.$$.update=()=>{l.$$.dirty&2&&n(10,a=typeof t=="object")},[r,t,s,i,d,S,E,g,k,B,a,c,h,I,R]}class Dl extends Me{constructor(e){super(),Se(this,e,wl,kl,Ve,{content:1,align:2,position:0,maxWidth:3,style:11,theme:4,animation:12,arrow:5,autoPosition:13})}}const El=Dl,Il=(l,e)=>{let n=null,a=l.getAttribute("title");a&&(l.removeAttribute("title"),e={content:a,...e});const t=()=>{n||(n=new El({target:l,props:e}))},s=()=>{n&&(n.$destroy(),n=null)};return l.addEventListener("mouseenter",t),l.addEventListener("mouseleave",s),l.style.position="relative",{destroy(){l.removeEventListener("mouseenter",t),l.removeEventListener("mouseleave",s),a&&l.setAttribute("title",a)}}};function Ra(l,e,n){const a=l.slice();return a[5]=e[n],a[7]=n,a}function Fa(l){let e,n,a,t,s,r,i;return{c(){e=p("a"),n=p("div"),t=C(),this.h()},l(c){e=v(c,"A",{href:!0});var d=_(e);n=v(d,"DIV",{class:!0,index:!0}),_(n).forEach(u),t=$(d),d.forEach(u),this.h()},h(){f(n,"class","w-4 h-4 rounded-sm bg-neutral-600 svelte-12mwdq7"),f(n,"index",l[7]),Wt(n,"streakTracked",l[1].includes(l[5])),f(e,"href",s=l[2](l[5]))},m(c,d){F(c,e,d),o(e,n),o(e,t),r||(i=el(a=Il.call(null,n,{style:l[4],content:l[3](l[5]),maxWidth:1e3,position:l[7]>=65?"left":"right"})),r=!0)},p(c,d){l=c,a&&tl(a.update)&&d&1&&a.update.call(null,{style:l[4],content:l[3](l[5]),maxWidth:1e3,position:l[7]>=65?"left":"right"}),d&3&&Wt(n,"streakTracked",l[1].includes(l[5])),d&1&&s!==(s=l[2](l[5]))&&f(e,"href",s)},d(c){c&&u(e),r=!1,i()}}}function Cl(l){let e,n=l[0],a=[];for(let t=0;t<n.length;t+=1)a[t]=Fa(Ra(l,n,t));return{c(){e=p("div");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=v(t,"DIV",{class:!0});var s=_(e);for(let r=0;r<a.length;r+=1)a[r].l(s);s.forEach(u),this.h()},h(){f(e,"class","grid grid-rows-5 grid-flow-col justify-items-center gap-1")},m(t,s){F(t,e,s);for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(e,null)},p(t,[s]){if(s&31){n=t[0];let r;for(r=0;r<n.length;r+=1){const i=Ra(t,n,r);a[r]?a[r].p(i,s):(a[r]=Fa(i),a[r].c(),a[r].m(e,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=n.length}},i:q,o:q,d(t){t&&u(e),wn(a,t)}}}function $l(l,e,n){let{daysPossible:a=[]}=e,{daysTracked:t=[]}=e;function s(c){return`/dia/${se.fromISO(c).toFormat("dd-MM")}`}function r(c){return se.fromISO(c).setLocale("pt-BR").toLocaleString({day:"numeric",month:"long",weekday:"long"})}const i={opacity:"0.8",fontSize:"0.8rem",fontFamily:"Inter, sans-serif",arrowSize:"5px",padding:"8px",borderRadius:"0.5rem"};return l.$$set=c=>{"daysPossible"in c&&n(0,a=c.daysPossible),"daysTracked"in c&&n(1,t=c.daysTracked)},[a,t,s,r,i]}class yl extends Me{constructor(e){super(),Se(this,e,$l,Cl,Ve,{daysPossible:0,daysTracked:1})}}function Ml(l){let e,n,a=l[1].length+"",t,s,r=l[1].length>1?"dias":"dia",i,c,d,h,S,I,E;return{c(){e=p("div"),n=p("h6"),t=y(a),s=C(),i=y(r),c=C(),d=p("div"),h=y("no "),S=p("a"),I=y("mesmo lugar"),this.h()},l(g){e=v(g,"DIV",{class:!0});var b=_(e);n=v(b,"H6",{class:!0});var k=_(n);t=M(k,a),s=$(k),i=M(k,r),k.forEach(u),c=$(b),d=v(b,"DIV",{class:!0});var B=_(d);h=M(B,"no "),S=v(B,"A",{href:!0,class:!0});var R=_(S);I=M(R,"mesmo lugar"),R.forEach(u),B.forEach(u),b.forEach(u),this.h()},h(){f(n,"class","text-3xl font-medium text-white"),f(S,"href",E="/dia/"+se.fromISO(l[1][0].day).toFormat("dd-MM")),f(S,"class","underline"),f(d,"class","mb-1 text-sm font-normal leading-none text-neutral-400"),f(e,"class","flex flex-col gap-0.5 text-center")},m(g,b){F(g,e,b),o(e,n),o(n,t),o(n,s),o(n,i),o(e,c),o(e,d),o(d,h),o(d,S),o(S,I)},p(g,b){b&2&&a!==(a=g[1].length+"")&&ve(t,a),b&2&&r!==(r=g[1].length>1?"dias":"dia")&&ve(i,r),b&2&&E!==(E="/dia/"+se.fromISO(g[1][0].day).toFormat("dd-MM"))&&f(S,"href",E)},d(g){g&&u(e)}}}function Sl(l){let e,n,a,t,s,r,i,c,d,h,S;return{c(){e=p("div"),n=y("Este dado está bloqueado para certas pessoas 😜"),a=C(),t=p("div"),s=p("h6"),r=y("0 dias"),i=C(),c=p("div"),d=y("no "),h=p("a"),S=y("mesmo lugar"),this.h()},l(I){e=v(I,"DIV",{class:!0});var E=_(e);n=M(E,"Este dado está bloqueado para certas pessoas 😜"),E.forEach(u),a=$(I),t=v(I,"DIV",{class:!0});var g=_(t);s=v(g,"H6",{class:!0});var b=_(s);r=M(b,"0 dias"),b.forEach(u),i=$(g),c=v(g,"DIV",{class:!0});var k=_(c);d=M(k,"no "),h=v(k,"A",{href:!0,class:!0});var B=_(h);S=M(B,"mesmo lugar"),B.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){f(e,"class","text-center"),f(s,"class","text-3xl font-medium text-white blur-md"),f(h,"href",""),f(h,"class","underline"),f(c,"class","mb-1 text-sm font-normal leading-none text-neutral-400 blur-sm"),f(t,"class","flex flex-col gap-0.5 text-center")},m(I,E){F(I,e,E),o(e,n),F(I,a,E),F(I,t,E),o(t,s),o(s,r),o(t,i),o(t,c),o(c,d),o(c,h),o(h,S)},p:q,d(I){I&&u(e),I&&u(a),I&&u(t)}}}function Vl(l){let e;function n(s,r){return s[0]?Sl:Ml}let a=n(l),t=a(l);return{c(){t.c(),e=pn()},l(s){t.l(s),e=pn()},m(s,r){t.m(s,r),F(s,e,r)},p(s,[r]){a===(a=n(s))&&t?t.p(s,r):(t.d(1),t=a(s),t&&(t.c(),t.m(e.parentNode,e)))},i:q,o:q,d(s){t.d(s),s&&u(e)}}}function Al(l,e,n){let a,t,{allClassroomMapData:s}=e,{studentID:r}=e,{invertDeskCounting:i}=e,{compensate:c}=e,{blocked:d=r=="9e4d2a2e-b3a8-494a-b841-849217fee970"}=e;return l.$$set=h=>{"allClassroomMapData"in h&&n(2,s=h.allClassroomMapData),"studentID"in h&&n(3,r=h.studentID),"invertDeskCounting"in h&&n(4,i=h.invertDeskCounting),"compensate"in h&&n(5,c=h.compensate),"blocked"in h&&n(0,d=h.blocked)},l.$$.update=()=>{l.$$.dirty&60&&n(6,a=Za(s,r,i,c)),l.$$.dirty&64&&n(1,t=a.at(-1))},[d,t,s,r,i,c,a]}class Pl extends Me{constructor(e){super(),Se(this,e,Al,Vl,Ve,{allClassroomMapData:2,studentID:3,invertDeskCounting:4,compensate:5,blocked:0})}}var Ka={exports:{}};(function(l){l.exports=e;function e(n){if(!(this instanceof e))return new e(n);this._canvas=n=typeof n=="string"?document.getElementById(n):n,this._ctx=n.getContext("2d"),this._width=n.width,this._height=n.height,this._max=1,this._data=[]}e.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(n){return this._data=n,this},max:function(n){return this._max=n,this},add:function(n){return this._data.push(n),this},clear:function(){return this._data=[],this},radius:function(n,a){a=a===void 0?15:a;var t=this._circle=this._createCanvas(),s=t.getContext("2d"),r=this._r=n+a;return t.width=t.height=r*2,s.shadowOffsetX=s.shadowOffsetY=r*2,s.shadowBlur=a,s.shadowColor="black",s.beginPath(),s.arc(-r,-r,n,0,Math.PI*2,!0),s.closePath(),s.fill(),this},resize:function(){this._width=this._canvas.width,this._height=this._canvas.height},gradient:function(n){var a=this._createCanvas(),t=a.getContext("2d"),s=t.createLinearGradient(0,0,0,256);a.width=1,a.height=256;for(var r in n)s.addColorStop(+r,n[r]);return t.fillStyle=s,t.fillRect(0,0,1,256),this._grad=t.getImageData(0,0,1,256).data,this},draw:function(n){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var a=this._ctx;a.clearRect(0,0,this._width,this._height);for(var t=0,s=this._data.length,r;t<s;t++)r=this._data[t],a.globalAlpha=Math.max(r[2]/this._max,n===void 0?.05:n),a.drawImage(this._circle,r[0]-this._r,r[1]-this._r);var i=a.getImageData(0,0,this._width,this._height);return this._colorize(i.data,this._grad),a.putImageData(i,0,0),this},_colorize:function(n,a){for(var t=0,s=n.length,r;t<s;t+=4)r=n[t+3]*4,r&&(n[t]=a[r],n[t+1]=a[r+1],n[t+2]=a[r+2])},_createCanvas:function(){return typeof document<"u"?document.createElement("canvas"):new this._canvas.constructor}}})(Ka);var Rl=Ka.exports;const Fl=sl(Rl);function Ll(l){let e,n,a;return{c(){e=p("canvas"),this.h()},l(t){e=v(t,"CANVAS",{class:!0,id:!0,width:!0,height:!0}),_(e).forEach(u),this.h()},h(){f(e,"class",n=`border-neutral-400 border-2 ${l[0]?"bg-neutral-200":""}`),f(e,"id","heatmap"),f(e,"width","180"),f(e,"height",a=l[1]*32)},m(t,s){F(t,e,s)},p(t,[s]){s&1&&n!==(n=`border-neutral-400 border-2 ${t[0]?"bg-neutral-200":""}`)&&f(e,"class",n),s&2&&a!==(a=t[1]*32)&&f(e,"height",a)},i:q,o:q,d(t){t&&u(e)}}}function Tl(l,e,n){let a,t,s,r,i,c,{allClassroomMapData:d}=e,{studentID:h}=e,{invertDeskCounting:S}=e,{compensate:I}=e,{background:E}=e;function g(){const b=Fl("heatmap");b.data(c),b.max(i),b.radius(25,10),b.draw()}return Ga(g),nl(g),l.$$set=b=>{"allClassroomMapData"in b&&n(2,d=b.allClassroomMapData),"studentID"in b&&n(3,h=b.studentID),"invertDeskCounting"in b&&n(4,S=b.invertDeskCounting),"compensate"in b&&n(5,I=b.compensate),"background"in b&&n(0,E=b.background)},l.$$.update=()=>{l.$$.dirty&4&&n(8,a=d.filter(b=>b.columns.length===5)),l.$$.dirty&256&&n(9,t=a.map(b=>b.columns[0].length)),l.$$.dirty&512&&n(1,s=Math.max(...t)),l.$$.dirty&314&&n(7,r=rl(a,h,S,I?s:-1).filter(({position:b})=>b[0]>-1)),l.$$.dirty&128&&(i=Math.max(...r.map(b=>b.frequency))),l.$$.dirty&128&&n(6,c=r.map(({position:b,frequency:k})=>[...b.map(B=>(B+1)*30),k]))},[E,s,d,h,S,I,c,r,a,t]}class zl extends Me{constructor(e){super(),Se(this,e,Tl,Ll,Ve,{allClassroomMapData:2,studentID:3,invertDeskCounting:4,compensate:5,background:0})}}function La(l,e,n){const a=l.slice();return a[6]=e[n],a}function Ta(l){let e,n,a,t,s,r=se.fromISO(l[6][0].day).toFormat("dd/MM")+"",i,c,d=se.fromISO(l[6].at(-1).day).toFormat("dd/MM")+"",h,S,I,E=`${l[6][0].position[0]+1}ª fileira, ${l[6][0].position[1]+1}ª cadeira`,g,b,k,B,R,w,N,re,H=l[6].length+"",U,J,X=l[6].length>1?"dias":"dia",me,G,oe;return{c(){e=p("li"),n=p("div"),a=C(),t=p("time"),s=y("de "),i=y(r),c=y(" a "),h=y(d),S=C(),I=p("h6"),g=y(E),b=C(),k=p("p"),B=y("Você sentou "),R=p("a"),w=y("nesta posição"),re=y(" por "),U=y(H),J=C(),me=y(X),G=y("."),oe=C(),this.h()},l(j){e=v(j,"LI",{class:!0});var W=_(e);n=v(W,"DIV",{class:!0}),_(n).forEach(u),a=$(W),t=v(W,"TIME",{class:!0});var be=_(t);s=M(be,"de "),i=M(be,r),c=M(be," a "),h=M(be,d),be.forEach(u),S=$(W),I=v(W,"H6",{class:!0});var ke=_(I);g=M(ke,E),ke.forEach(u),b=$(W),k=v(W,"P",{class:!0});var ie=_(k);B=M(ie,"Você sentou "),R=v(ie,"A",{href:!0,class:!0});var Ke=_(R);w=M(Ke,"nesta posição"),Ke.forEach(u),re=M(ie," por "),U=M(ie,H),J=$(ie),me=M(ie,X),G=M(ie,"."),ie.forEach(u),oe=$(W),W.forEach(u),this.h()},h(){f(n,"class","absolute w-3 h-3 bg-neutral-700 rounded-full mt-1.5 -left-1.5 border border-neutral-800"),f(t,"class","mb-1 text-sm font-normal leading-none text-neutral-400"),f(I,"class","text-lg font-medium text-white"),f(R,"href",N="/dia/"+se.fromISO(l[6][0].day).toFormat("dd-MM")),f(R,"class","underline"),f(k,"class","text-neutral-300"),f(e,"class","ml-4")},m(j,W){F(j,e,W),o(e,n),o(e,a),o(e,t),o(t,s),o(t,i),o(t,c),o(t,h),o(e,S),o(e,I),o(I,g),o(e,b),o(e,k),o(k,B),o(k,R),o(R,w),o(k,re),o(k,U),o(k,J),o(k,me),o(k,G),o(e,oe)},p(j,W){W&1&&r!==(r=se.fromISO(j[6][0].day).toFormat("dd/MM")+"")&&ve(i,r),W&1&&d!==(d=se.fromISO(j[6].at(-1).day).toFormat("dd/MM")+"")&&ve(h,d),W&1&&E!==(E=`${j[6][0].position[0]+1}ª fileira, ${j[6][0].position[1]+1}ª cadeira`)&&ve(g,E),W&1&&N!==(N="/dia/"+se.fromISO(j[6][0].day).toFormat("dd-MM"))&&f(R,"href",N),W&1&&H!==(H=j[6].length+"")&&ve(U,H),W&1&&X!==(X=j[6].length>1?"dias":"dia")&&ve(me,X)},d(j){j&&u(e)}}}function Ol(l){let e,n,a=l[0].filter(za),t=[];for(let s=0;s<a.length;s+=1)t[s]=Ta(La(l,a,s));return{c(){e=p("div"),n=p("ol");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=v(s,"DIV",{class:!0});var r=_(e);n=v(r,"OL",{class:!0});var i=_(n);for(let c=0;c<t.length;c+=1)t[c].l(i);i.forEach(u),r.forEach(u),this.h()},h(){f(n,"class","relative border-l border-neutral-700 grid grid-flow-row gap-6"),f(e,"class","max-h-90 overflow-y-auto p-1")},m(s,r){F(s,e,r),o(e,n);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(n,null)},p(s,[r]){if(r&1){a=s[0].filter(za);let i;for(i=0;i<a.length;i+=1){const c=La(s,a,i);t[i]?t[i].p(c,r):(t[i]=Ta(c),t[i].c(),t[i].m(n,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=a.length}},i:q,o:q,d(s){s&&u(e),wn(t,s)}}}const za=l=>l.length>0;function ql(l,e,n){let a,{allClassroomMapData:t}=e,{studentID:s}=e,{invertDeskCounting:r}=e,{compensate:i}=e,{sort:c}=e;return l.$$set=d=>{"allClassroomMapData"in d&&n(1,t=d.allClassroomMapData),"studentID"in d&&n(2,s=d.studentID),"invertDeskCounting"in d&&n(3,r=d.invertDeskCounting),"compensate"in d&&n(4,i=d.compensate),"sort"in d&&n(5,c=d.sort)},l.$$.update=()=>{l.$$.dirty&62&&n(0,a=Za(t,s,r,i,c))},[a,t,s,r,i,c]}class Bl extends Me{constructor(e){super(),Se(this,e,ql,Ol,Ve,{allClassroomMapData:1,studentID:2,invertDeskCounting:3,compensate:4,sort:5})}}function Oa(l,e,n){const a=l.slice();return a[4]=e[n],a[6]=n,a}function qa(l,e,n){const a=l.slice();return a[7]=e[n],a}function Ba(l){let e,n,a=l[3](l[7].day)+"",t,s;return{c(){e=p("li"),n=p("a"),t=y(a),this.h()},l(r){e=v(r,"LI",{});var i=_(e);n=v(i,"A",{href:!0});var c=_(n);t=M(c,a),c.forEach(u),i.forEach(u),this.h()},h(){f(n,"href",s=l[2](l[7].day))},m(r,i){F(r,e,i),o(e,n),o(n,t)},p(r,i){i&2&&a!==(a=r[3](r[7].day)+"")&&ve(t,a),i&2&&s!==(s=r[2](r[7].day))&&f(n,"href",s)},d(r){r&&u(e)}}}function Ha(l){let e,n,a,t,s,r,i=l[4]+"",c,d,h,S,I=l[1][l[6]],E=[];for(let g=0;g<I.length;g+=1)E[g]=Ba(qa(l,I,g));return{c(){e=p("div"),n=p("li"),a=C(),t=p("details"),s=p("summary"),r=p("span"),c=y(i),d=C(),h=p("ol");for(let g=0;g<E.length;g+=1)E[g].c();S=C(),this.h()},l(g){e=v(g,"DIV",{class:!0});var b=_(e);n=v(b,"LI",{class:!0}),_(n).forEach(u),a=$(b),t=v(b,"DETAILS",{class:!0});var k=_(t);s=v(k,"SUMMARY",{});var B=_(s);r=v(B,"SPAN",{class:!0});var R=_(r);c=M(R,i),R.forEach(u),B.forEach(u),d=$(k),h=v(k,"OL",{class:!0});var w=_(h);for(let N=0;N<E.length;N+=1)E[N].l(w);w.forEach(u),k.forEach(u),S=$(b),b.forEach(u),this.h()},h(){f(n,"class","marker:font-bold text-right w-7"),f(r,"class","cursor-pointer"),f(h,"class","list-disc list-inside pl-5"),f(t,"class","inline-block ml-2"),f(e,"class","flex flex-row")},m(g,b){F(g,e,b),o(e,n),o(e,a),o(e,t),o(t,s),o(s,r),o(r,c),o(t,d),o(t,h);for(let k=0;k<E.length;k+=1)E[k]&&E[k].m(h,null);o(e,S)},p(g,b){if(b&1&&i!==(i=g[4]+"")&&ve(c,i),b&14){I=g[1][g[6]];let k;for(k=0;k<I.length;k+=1){const B=qa(g,I,k);E[k]?E[k].p(B,b):(E[k]=Ba(B),E[k].c(),E[k].m(h,null))}for(;k<E.length;k+=1)E[k].d(1);E.length=I.length}},d(g){g&&u(e),wn(E,g)}}}function Hl(l){let e,n,a=l[0],t=[];for(let s=0;s<a.length;s+=1)t[s]=Ha(Oa(l,a,s));return{c(){e=p("div"),n=p("ol");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=v(s,"DIV",{class:!0});var r=_(e);n=v(r,"OL",{class:!0});var i=_(n);for(let c=0;c<t.length;c+=1)t[c].l(i);i.forEach(u),r.forEach(u),this.h()},h(){f(n,"class","list-decimal list-inside"),f(e,"class","max-h-60 overflow-y-scroll")},m(s,r){F(s,e,r),o(e,n);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(n,null)},p(s,[r]){if(r&15){a=s[0];let i;for(i=0;i<a.length;i+=1){const c=Oa(s,a,i);t[i]?t[i].p(c,r):(t[i]=Ha(c),t[i].c(),t[i].m(n,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=a.length}},i:q,o:q,d(s){s&&u(e),wn(t,s)}}}function Nl(l,e,n){let{summaries:a}=e,{content:t}=e;function s(i){return`/dia/${se.fromISO(i).toFormat("dd-MM")}`}function r(i){return se.fromISO(i).setLocale("pt-BR").toLocaleString({day:"numeric",month:"long",weekday:"long"})}return l.$$set=i=>{"summaries"in i&&n(0,a=i.summaries),"content"in i&&n(1,t=i.content)},[a,t,s,r]}class Wl extends Me{constructor(e){super(),Se(this,e,Nl,Hl,Ve,{summaries:0,content:1})}}function Ul(l){let e;return{c(){e=y("Falha ao gerar controlador de visualização.")},l(n){e=M(n,"Falha ao gerar controlador de visualização.")},m(n,a){F(n,e,a)},p:q,d(n){n&&u(e)}}}function jl(l){return{c:q,l:q,m:q,p:q,d:q}}function Gl(l){let e,n,a,t,s,r,i,c,d,h,S,I,E,g,b,k,B,R,w,N,re;return{c(){e=p("div"),n=p("label"),a=y("Dados"),t=C(),s=p("div"),r=p("input"),i=C(),c=p("label"),d=y("Compensar diferenças de cadeiras (recomendado)"),h=C(),S=p("div"),I=p("label"),E=y("Gráficos"),g=C(),b=p("div"),k=p("input"),B=C(),R=p("label"),w=y("Inserir fundo no mapa de calor"),this.h()},l(H){e=v(H,"DIV",{class:!0});var U=_(e);n=v(U,"LABEL",{for:!0,class:!0});var J=_(n);a=M(J,"Dados"),J.forEach(u),t=$(U),s=v(U,"DIV",{class:!0});var X=_(s);r=v(X,"INPUT",{type:!0,id:!0,class:!0}),i=$(X),c=v(X,"LABEL",{for:!0,class:!0});var me=_(c);d=M(me,"Compensar diferenças de cadeiras (recomendado)"),me.forEach(u),X.forEach(u),U.forEach(u),h=$(H),S=v(H,"DIV",{class:!0});var G=_(S);I=v(G,"LABEL",{for:!0,class:!0});var oe=_(I);E=M(oe,"Gráficos"),oe.forEach(u),g=$(G),b=v(G,"DIV",{class:!0});var j=_(b);k=v(j,"INPUT",{type:!0,id:!0,class:!0}),B=$(j),R=v(j,"LABEL",{for:!0,class:!0});var W=_(R);w=M(W,"Inserir fundo no mapa de calor"),W.forEach(u),j.forEach(u),G.forEach(u),this.h()},h(){f(n,"for","order"),f(n,"class","text-sm text-neutral-300"),f(r,"type","checkbox"),f(r,"id","compensate"),f(r,"class","cursor-pointer"),f(c,"for","compensate"),f(c,"class","cursor-pointer"),f(s,"class","flex flex-row gap-2"),f(e,"class","flex flex-col gap-0.5"),f(I,"for","order"),f(I,"class","text-sm text-neutral-300"),f(k,"type","checkbox"),f(k,"id","background"),f(k,"class","cursor-pointer"),f(R,"for","background"),f(R,"class","cursor-pointer"),f(b,"class","flex flex-row gap-2"),f(S,"class","flex flex-col gap-0.5")},m(H,U){F(H,e,U),o(e,n),o(n,a),o(e,t),o(e,s),o(s,r),r.checked=l[0],o(s,i),o(s,c),o(c,d),F(H,h,U),F(H,S,U),o(S,I),o(I,E),o(S,g),o(S,b),o(b,k),k.checked=l[1],o(b,B),o(b,R),o(R,w),N||(re=[Q(r,"change",l[3]),Q(k,"change",l[4])],N=!0)},p(H,U){U&1&&(r.checked=H[0]),U&2&&(k.checked=H[1])},d(H){H&&u(e),H&&u(h),H&&u(S),N=!1,kn(re)}}}function Zl(l){let e,n,a;function t(i,c){return i[2]==="heatmap"?Gl:i[2]==="graph"?jl:Ul}let s=t(l),r=s(l);return{c(){e=p("div"),r.c(),this.h()},l(i){e=v(i,"DIV",{class:!0});var c=_(e);r.l(c),c.forEach(u),this.h()},h(){f(e,"class","flex flex-col gap-1 mt-1")},m(i,c){F(i,e,c),r.m(e,null),a=!0},p(i,[c]){s===(s=t(i))&&r?r.p(i,c):(r.d(1),r=s(i),r&&(r.c(),r.m(e,null)))},i(i){a||(al(()=>{a&&(n||(n=Va(e,Aa,{axis:"y",duration:300},!0)),n.run(1))}),a=!0)},o(i){n||(n=Va(e,Aa,{axis:"y",duration:300},!1)),n.run(0),a=!1},d(i){i&&u(e),r.d(),i&&n&&n.end()}}}function Ql(l,e,n){let{type:a=""}=e,{compensate:t=!0}=e,{background:s=!1}=e;function r(){t=this.checked,n(0,t)}function i(){s=this.checked,n(1,s)}return l.$$set=c=>{"type"in c&&n(2,a=c.type),"compensate"in c&&n(0,t=c.compensate),"background"in c&&n(1,s=c.background)},[t,s,a,r,i]}class Jl extends Me{constructor(e){super(),Se(this,e,Ql,Zl,Ve,{type:2,compensate:0,background:1})}}function Kl(l){let e,n,a;return e=new Dn({props:{size:"1.2rem",class:"focus:outline-none",tabindex:"-1"}}),{c(){L(e.$$.fragment),n=y(" Filtrar")},l(t){T(e.$$.fragment,t),n=M(t," Filtrar")},m(t,s){z(e,t,s),F(t,n,s),a=!0},p:q,i(t){a||(V(e.$$.fragment,t),a=!0)},o(t){A(e.$$.fragment,t),a=!1},d(t){O(e,t),t&&u(n)}}}function Yl(l){let e,n,a;return e=new In({props:{size:"1.2rem",class:`focus:outline-none transition-all ${l[3].positionStreak?"":"rotate-180"}`,tabindex:"-1"}}),{c(){L(e.$$.fragment),n=y(" Direção da Fila")},l(t){T(e.$$.fragment,t),n=M(t," Direção da Fila")},m(t,s){z(e,t,s),F(t,n,s),a=!0},p(t,s){const r={};s[0]&8&&(r.class=`focus:outline-none transition-all ${t[3].positionStreak?"":"rotate-180"}`),e.$set(r)},i(t){a||(V(e.$$.fragment,t),a=!0)},o(t){A(e.$$.fragment,t),a=!1},d(t){O(e,t),t&&u(n)}}}function Na(l){let e,n;return e=new En({}),e.$on("filterChanged",l[20]),{c(){L(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,t){z(e,a,t),n=!0},p:q,i(a){n||(V(e.$$.fragment,a),n=!0)},o(a){A(e.$$.fragment,a),n=!1},d(a){O(e,a)}}}function Xl(l){let e,n,a;return e=new Dn({props:{size:"1.2rem",class:"focus:outline-none",tabindex:"-1"}}),{c(){L(e.$$.fragment),n=y(" Filtrar")},l(t){T(e.$$.fragment,t),n=M(t," Filtrar")},m(t,s){z(e,t,s),F(t,n,s),a=!0},p:q,i(t){a||(V(e.$$.fragment,t),a=!0)},o(t){A(e.$$.fragment,t),a=!1},d(t){O(e,t),t&&u(n)}}}function xl(l){let e,n,a;return e=new gl({props:{size:"1.2rem",class:"focus:outline-none",tabindex:"-1"}}),{c(){L(e.$$.fragment),n=y(" Visualizar")},l(t){T(e.$$.fragment,t),n=M(t," Visualizar")},m(t,s){z(e,t,s),F(t,n,s),a=!0},p:q,i(t){a||(V(e.$$.fragment,t),a=!0)},o(t){A(e.$$.fragment,t),a=!1},d(t){O(e,t),t&&u(n)}}}function es(l){let e,n,a;return e=new In({props:{size:"1.2rem",class:`focus:outline-none transition-all ${l[3].heatmap?"":"rotate-180"}`,tabindex:"-1"}}),{c(){L(e.$$.fragment),n=y(" Direção da Fila")},l(t){T(e.$$.fragment,t),n=M(t," Direção da Fila")},m(t,s){z(e,t,s),F(t,n,s),a=!0},p(t,s){const r={};s[0]&8&&(r.class=`focus:outline-none transition-all ${t[3].heatmap?"":"rotate-180"}`),e.$set(r)},i(t){a||(V(e.$$.fragment,t),a=!0)},o(t){A(e.$$.fragment,t),a=!1},d(t){O(e,t),t&&u(n)}}}function ts(l){let e,n,a,t;function s(c){l[25](c)}function r(c){l[26](c)}let i={type:"heatmap"};return l[6]!==void 0&&(i.compensate=l[6]),l[7]!==void 0&&(i.background=l[7]),e=new Jl({props:i}),nn.push(()=>vn(e,"compensate",s)),nn.push(()=>vn(e,"background",r)),e.$on("sortChanged",l[27]),{c(){L(e.$$.fragment)},l(c){T(e.$$.fragment,c)},m(c,d){z(e,c,d),t=!0},p(c,d){const h={};!n&&d[0]&64&&(n=!0,h.compensate=c[6],bn(()=>n=!1)),!a&&d[0]&128&&(a=!0,h.background=c[7],bn(()=>a=!1)),e.$set(h)},i(c){t||(V(e.$$.fragment,c),t=!0)},o(c){A(e.$$.fragment,c),t=!1},d(c){O(e,c)}}}function ns(l){let e,n;return e=new En({}),e.$on("filterChanged",l[24]),{c(){L(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,t){z(e,a,t),n=!0},p:q,i(a){n||(V(e.$$.fragment,a),n=!0)},o(a){A(e.$$.fragment,a),n=!1},d(a){O(e,a)}}}function as(l){let e,n,a;return e=new Dn({props:{size:"1.2rem",class:"focus:outline-none",tabindex:"-1"}}),{c(){L(e.$$.fragment),n=y(" Filtrar")},l(t){T(e.$$.fragment,t),n=M(t," Filtrar")},m(t,s){z(e,t,s),F(t,n,s),a=!0},p:q,i(t){a||(V(e.$$.fragment,t),a=!0)},o(t){A(e.$$.fragment,t),a=!1},d(t){O(e,t),t&&u(n)}}}function ls(l){let e,n,a;return e=new Qa({props:{size:"1.2rem",class:"focus:outline-none",tabindex:"-1"}}),{c(){L(e.$$.fragment),n=y(" Ordenar")},l(t){T(e.$$.fragment,t),n=M(t," Ordenar")},m(t,s){z(e,t,s),F(t,n,s),a=!0},p:q,i(t){a||(V(e.$$.fragment,t),a=!0)},o(t){A(e.$$.fragment,t),a=!1},d(t){O(e,t),t&&u(n)}}}function ss(l){let e,n,a;return e=new In({props:{size:"1.2rem",class:`focus:outline-none transition-all ${l[3].timeline?"":"rotate-180"}`,tabindex:"-1"}}),{c(){L(e.$$.fragment),n=y(" Direção da Fila")},l(t){T(e.$$.fragment,t),n=M(t," Direção da Fila")},m(t,s){z(e,t,s),F(t,n,s),a=!0},p(t,s){const r={};s[0]&8&&(r.class=`focus:outline-none transition-all ${t[3].timeline?"":"rotate-180"}`),e.$set(r)},i(t){a||(V(e.$$.fragment,t),a=!0)},o(t){A(e.$$.fragment,t),a=!1},d(t){O(e,t),t&&u(n)}}}function rs(l){let e,n,a;function t(r){l[32](r)}let s={sortOptions:[{id:"chronology",label:"Cronológica"},{id:"days",label:"Quantidade de Dias"},{id:"rows",label:"Fileiras"},{id:"desks",label:"Cadeiras"}]};return l[2].timeline!==void 0&&(s.sort=l[2].timeline),e=new Ja({props:s}),nn.push(()=>vn(e,"sort",t)),{c(){L(e.$$.fragment)},l(r){T(e.$$.fragment,r)},m(r,i){z(e,r,i),a=!0},p(r,i){const c={};!n&&i[0]&4&&(n=!0,c.sort=r[2].timeline,bn(()=>n=!1)),e.$set(c)},i(r){a||(V(e.$$.fragment,r),a=!0)},o(r){A(e.$$.fragment,r),a=!1},d(r){O(e,r)}}}function os(l){let e,n;return e=new En({}),e.$on("filterChanged",l[31]),{c(){L(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,t){z(e,a,t),n=!0},p:q,i(a){n||(V(e.$$.fragment,a),n=!0)},o(a){A(e.$$.fragment,a),n=!1},d(a){O(e,a)}}}function is(l){let e,n,a;return e=new Dn({props:{size:"1.2rem",class:"focus:outline-none",tabindex:"-1"}}),{c(){L(e.$$.fragment),n=y(" Filtrar")},l(t){T(e.$$.fragment,t),n=M(t," Filtrar")},m(t,s){z(e,t,s),F(t,n,s),a=!0},p:q,i(t){a||(V(e.$$.fragment,t),a=!0)},o(t){A(e.$$.fragment,t),a=!1},d(t){O(e,t),t&&u(n)}}}function cs(l){let e,n,a;return e=new Qa({props:{size:"1.2rem",class:"focus:outline-none",tabindex:"-1"}}),{c(){L(e.$$.fragment),n=y(" Ordenar")},l(t){T(e.$$.fragment,t),n=M(t," Ordenar")},m(t,s){z(e,t,s),F(t,n,s),a=!0},p:q,i(t){a||(V(e.$$.fragment,t),a=!0)},o(t){A(e.$$.fragment,t),a=!1},d(t){O(e,t),t&&u(n)}}}function us(l){let e,n,a;return e=new In({props:{size:"1.2rem",class:`focus:outline-none transition-all ${l[3].positionRanking?"":"rotate-180"}`,tabindex:"-1"}}),{c(){L(e.$$.fragment),n=y(" Direção da Fila")},l(t){T(e.$$.fragment,t),n=M(t," Direção da Fila")},m(t,s){z(e,t,s),F(t,n,s),a=!0},p(t,s){const r={};s[0]&8&&(r.class=`focus:outline-none transition-all ${t[3].positionRanking?"":"rotate-180"}`),e.$set(r)},i(t){a||(V(e.$$.fragment,t),a=!0)},o(t){A(e.$$.fragment,t),a=!1},d(t){O(e,t),t&&u(n)}}}function fs(l){let e,n,a;function t(r){l[37](r)}let s={};return l[2].positionRanking!==void 0&&(s.sort=l[2].positionRanking),e=new Ja({props:s}),nn.push(()=>vn(e,"sort",t)),{c(){L(e.$$.fragment)},l(r){T(e.$$.fragment,r)},m(r,i){z(e,r,i),a=!0},p(r,i){const c={};!n&&i[0]&4&&(n=!0,c.sort=r[2].positionRanking,bn(()=>n=!1)),e.$set(c)},i(r){a||(V(e.$$.fragment,r),a=!0)},o(r){A(e.$$.fragment,r),a=!1},d(r){O(e,r)}}}function ds(l){let e,n;return e=new En({}),e.$on("filterChanged",l[36]),{c(){L(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,t){z(e,a,t),n=!0},p:q,i(a){n||(V(e.$$.fragment,a),n=!0)},o(a){A(e.$$.fragment,a),n=!1},d(a){O(e,a)}}}function ms(l){let e,n,a,t,s,r,i=l[0].student.name+"",c,d,h,S,I,E=l[12].toFormat("dd/MM")+"",g,b,k,B,R,w,N,re=l[13].toFormat("dd/MM")+"",H,U,J,X,me,G,oe,j=l[14].attendances[l[4]]+`${l[4]==="percentage"?"%":""}`,W,be,ke,ie,Ke,he,Ye,_t=l[14].absences[l[4]]+`${l[4]==="percentage"?"%":""}`,wt,Zt,Xe,Qt,Jt,xe,Kt,P,et,pt,K,ce,Ae,Pe,Yt,Dt,Cn,$n,Et,It,vt,yn,De,bt,Ct,Mn,Sn,$t,Vn,An,Re,tt,Fe,Pn,Le,Rn,Fn,nt,Ln,ge,yt,Tn,zn,at,On,qn,Bn,Hn,Te,Ee,ze,Nn,Oe,Wn,qe,Un,x,ee,jn,Mt,lt,Gn,Ie,kt,St,Zn,Qn,Vt,Jn,Kn,Be,Ce,He,Yn,Ne,Xn,We,xn,te,ne,ea,st,ta,_e,At,na,aa,Pt,la,sa,Ue,$e,je,ra,Ge,oa,Ze,ia,ae,le,ca,rt,Qe,ua,fa;document.title=e=l[0].student.name+" no Mapa de Sala",vt=new yl({props:{daysPossible:l[10],daysTracked:l[11]}}),Fe=new we({props:{moreClasses:l[5].positionStreak==="filter"?"!bg-neutral-700":"",$$slots:{default:[Kl]},$$scope:{ctx:l}}}),Fe.$on("click",l[18]),Le=new we({props:{$$slots:{default:[Yl]},$$scope:{ctx:l}}}),Le.$on("click",l[19]);let Z=l[5].positionStreak==="filter"&&Na(l);nt=new Pl({props:{allClassroomMapData:l[1].positionStreak,studentID:l[9].id,invertDeskCounting:l[3].positionStreak,compensate:!1}}),ze=new we({props:{moreClasses:l[5].heatmap==="filter"?"!bg-neutral-700":"",$$slots:{default:[Xl]},$$scope:{ctx:l}}}),ze.$on("click",l[21]),Oe=new we({props:{moreClasses:l[5].heatmap==="view"?"!bg-neutral-700":"",$$slots:{default:[xl]},$$scope:{ctx:l}}}),Oe.$on("click",l[22]),qe=new we({props:{$$slots:{default:[es]},$$scope:{ctx:l}}}),qe.$on("click",l[23]);const da=[ns,ts],ot=[];function ma(m,D){return m[5].heatmap==="filter"?0:m[5].heatmap==="view"?1:-1}~(x=ma(l))&&(ee=ot[x]=da[x](l)),lt=new zl({props:{allClassroomMapData:l[1].heatmap,studentID:l[9].id,invertDeskCounting:l[3].heatmap,compensate:l[6],background:l[7]}}),He=new we({props:{moreClasses:l[5].timeline==="filter"?"!bg-neutral-700":"",$$slots:{default:[as]},$$scope:{ctx:l}}}),He.$on("click",l[28]),Ne=new we({props:{moreClasses:l[5].timeline==="sort"?"!bg-neutral-700":"",$$slots:{default:[ls]},$$scope:{ctx:l}}}),Ne.$on("click",l[29]),We=new we({props:{$$slots:{default:[ss]},$$scope:{ctx:l}}}),We.$on("click",l[30]);const ha=[os,rs],it=[];function ga(m,D){return m[5].timeline==="filter"?0:m[5].timeline==="sort"?1:-1}~(te=ga(l))&&(ne=it[te]=ha[te](l)),st=new Bl({props:{allClassroomMapData:l[1].timeline,studentID:l[9].id,invertDeskCounting:l[3].timeline,compensate:!1,sort:l[2].timeline}}),je=new we({props:{moreClasses:l[5].positionRanking==="filter"?"!bg-neutral-700":"",$$slots:{default:[is]},$$scope:{ctx:l}}}),je.$on("click",l[33]),Ge=new we({props:{moreClasses:l[5].positionRanking==="sort"?"!bg-neutral-700":"",$$slots:{default:[cs]},$$scope:{ctx:l}}}),Ge.$on("click",l[34]),Ze=new we({props:{$$slots:{default:[us]},$$scope:{ctx:l}}}),Ze.$on("click",l[35]);const _a=[ds,fs],ct=[];function pa(m,D){return m[5].positionRanking==="filter"?0:m[5].positionRanking==="sort"?1:-1}return~(ae=pa(l))&&(le=ct[ae]=_a[ae](l)),rt=new Wl({props:{summaries:l[8].map(Wa),content:l[8].map(Ua)}}),{c(){n=p("meta"),t=C(),s=p("div"),r=p("h2"),c=y(i),d=C(),h=p("div"),S=p("div"),I=p("div"),g=y(E),b=C(),k=p("div"),B=y("Primeira Aparição"),R=C(),w=p("div"),N=p("div"),H=y(re),U=C(),J=p("div"),X=y("Última Aparição"),me=C(),G=p("div"),oe=p("div"),W=y(j),be=C(),ke=p("div"),ie=y("Presenças"),Ke=C(),he=p("div"),Ye=p("div"),wt=y(_t),Zt=C(),Xe=p("div"),Qt=y("Faltas"),Jt=C(),xe=p("span"),Kt=y("Nenhum dos dados desta página são precisos e não devem ser usados como parâmetro."),P=C(),et=p("hr"),pt=C(),K=p("div"),ce=p("div"),Ae=p("h5"),Pe=y("Sequência de Presença"),Yt=C(),Dt=p("span"),Cn=y("Acompanhe e visualize sua sequência de presença ao longo do tempo."),$n=C(),Et=p("div"),It=p("div"),L(vt.$$.fragment),yn=C(),De=p("div"),bt=p("div"),Ct=p("h5"),Mn=y("Sequência de Posição"),Sn=C(),$t=p("span"),Vn=y("Veja há quantos dias você está sentando no mesmo lugar."),An=C(),Re=p("div"),tt=p("div"),L(Fe.$$.fragment),Pn=C(),L(Le.$$.fragment),Rn=C(),Z&&Z.c(),Fn=C(),L(nt.$$.fragment),Ln=C(),ge=p("div"),yt=p("h5"),Tn=y("Mapa de Calor"),zn=C(),at=p("span"),On=y("Observe visualmente as áreas mais frequentemente ocupadas por você."),qn=p("br"),Bn=y("Dias com mais ou menos de 5 filas são desconsiderados do mapa de calor."),Hn=C(),Te=p("div"),Ee=p("div"),L(ze.$$.fragment),Nn=C(),L(Oe.$$.fragment),Wn=C(),L(qe.$$.fragment),Un=C(),ee&&ee.c(),jn=C(),Mt=p("div"),L(lt.$$.fragment),Gn=C(),Ie=p("div"),kt=p("div"),St=p("h5"),Zn=y("Linha do Tempo"),Qn=C(),Vt=p("span"),Jn=y("Períodos em que você se manteve em um lugar."),Kn=C(),Be=p("div"),Ce=p("div"),L(He.$$.fragment),Yn=C(),L(Ne.$$.fragment),Xn=C(),L(We.$$.fragment),xn=C(),ne&&ne.c(),ea=C(),L(st.$$.fragment),ta=C(),_e=p("div"),At=p("h5"),na=y("Ranking de Posição"),aa=C(),Pt=p("span"),la=y("Quantas vezes você sentou em diferentes lugares."),sa=C(),Ue=p("div"),$e=p("div"),L(je.$$.fragment),ra=C(),L(Ge.$$.fragment),oa=C(),L(Ze.$$.fragment),ia=C(),le&&le.c(),ca=C(),L(rt.$$.fragment),this.h()},l(m){const D=ll("svelte-qwd9sp",document.head);n=v(D,"META",{name:!0,content:!0}),D.forEach(u),t=$(m),s=v(m,"DIV",{class:!0});var ue=_(s);r=v(ue,"H2",{class:!0});var Xt=_(r);c=M(Xt,i),Xt.forEach(u),d=$(ue),h=v(ue,"DIV",{class:!0});var pe=_(h);S=v(pe,"DIV",{class:!0});var ut=_(S);I=v(ut,"DIV",{class:!0});var Rt=_(I);g=M(Rt,E),Rt.forEach(u),b=$(ut),k=v(ut,"DIV",{class:!0});var xt=_(k);B=M(xt,"Primeira Aparição"),xt.forEach(u),ut.forEach(u),R=$(pe),w=v(pe,"DIV",{class:!0});var ft=_(w);N=v(ft,"DIV",{class:!0});var dt=_(N);H=M(dt,re),dt.forEach(u),U=$(ft),J=v(ft,"DIV",{class:!0});var Ft=_(J);X=M(Ft,"Última Aparição"),Ft.forEach(u),ft.forEach(u),me=$(pe),G=v(pe,"DIV",{class:!0});var mt=_(G);oe=v(mt,"DIV",{class:!0});var en=_(oe);W=M(en,j),en.forEach(u),be=$(mt),ke=v(mt,"DIV",{class:!0});var Lt=_(ke);ie=M(Lt,"Presenças"),Lt.forEach(u),mt.forEach(u),Ke=$(pe),he=v(pe,"DIV",{class:!0});var Je=_(he);Ye=v(Je,"DIV",{class:!0});var Tt=_(Ye);wt=M(Tt,_t),Tt.forEach(u),Zt=$(Je),Xe=v(Je,"DIV",{class:!0});var zt=_(Xe);Qt=M(zt,"Faltas"),zt.forEach(u),Je.forEach(u),pe.forEach(u),Jt=$(ue),xe=v(ue,"SPAN",{class:!0});var tn=_(xe);Kt=M(tn,"Nenhum dos dados desta página são precisos e não devem ser usados como parâmetro."),tn.forEach(u),P=$(ue),et=v(ue,"HR",{class:!0}),pt=$(ue),K=v(ue,"DIV",{class:!0});var fe=_(K);ce=v(fe,"DIV",{class:!0});var ye=_(ce);Ae=v(ye,"H5",{class:!0});var va=_(Ae);Pe=M(va,"Sequência de Presença"),va.forEach(u),Yt=$(ye),Dt=v(ye,"SPAN",{class:!0});var ba=_(Dt);Cn=M(ba,"Acompanhe e visualize sua sequência de presença ao longo do tempo."),ba.forEach(u),$n=$(ye),Et=v(ye,"DIV",{class:!0});var ka=_(Et);It=v(ka,"DIV",{class:!0});var wa=_(It);T(vt.$$.fragment,wa),wa.forEach(u),ka.forEach(u),ye.forEach(u),yn=$(fe),De=v(fe,"DIV",{class:!0});var Ot=_(De);bt=v(Ot,"DIV",{});var an=_(bt);Ct=v(an,"H5",{class:!0});var Da=_(Ct);Mn=M(Da,"Sequência de Posição"),Da.forEach(u),Sn=$(an),$t=v(an,"SPAN",{class:!0});var Ea=_($t);Vn=M(Ea,"Veja há quantos dias você está sentando no mesmo lugar."),Ea.forEach(u),an.forEach(u),An=$(Ot),Re=v(Ot,"DIV",{class:!0});var ln=_(Re);tt=v(ln,"DIV",{class:!0});var sn=_(tt);T(Fe.$$.fragment,sn),Pn=$(sn),T(Le.$$.fragment,sn),sn.forEach(u),Rn=$(ln),Z&&Z.l(ln),ln.forEach(u),Fn=$(Ot),T(nt.$$.fragment,Ot),Ot.forEach(u),Ln=$(fe),ge=v(fe,"DIV",{class:!0});var ht=_(ge);yt=v(ht,"H5",{class:!0});var Ia=_(yt);Tn=M(Ia,"Mapa de Calor"),Ia.forEach(u),zn=$(ht),at=v(ht,"SPAN",{class:!0});var rn=_(at);On=M(rn,"Observe visualmente as áreas mais frequentemente ocupadas por você."),qn=v(rn,"BR",{}),Bn=M(rn,"Dias com mais ou menos de 5 filas são desconsiderados do mapa de calor."),rn.forEach(u),Hn=$(ht),Te=v(ht,"DIV",{class:!0});var on=_(Te);Ee=v(on,"DIV",{class:!0});var qt=_(Ee);T(ze.$$.fragment,qt),Nn=$(qt),T(Oe.$$.fragment,qt),Wn=$(qt),T(qe.$$.fragment,qt),qt.forEach(u),Un=$(on),ee&&ee.l(on),on.forEach(u),jn=$(ht),Mt=v(ht,"DIV",{class:!0});var Ca=_(Mt);T(lt.$$.fragment,Ca),Ca.forEach(u),ht.forEach(u),Gn=$(fe),Ie=v(fe,"DIV",{class:!0});var Bt=_(Ie);kt=v(Bt,"DIV",{});var cn=_(kt);St=v(cn,"H5",{class:!0});var $a=_(St);Zn=M($a,"Linha do Tempo"),$a.forEach(u),Qn=$(cn),Vt=v(cn,"SPAN",{class:!0});var ya=_(Vt);Jn=M(ya,"Períodos em que você se manteve em um lugar."),ya.forEach(u),cn.forEach(u),Kn=$(Bt),Be=v(Bt,"DIV",{class:!0});var un=_(Be);Ce=v(un,"DIV",{class:!0});var Ht=_(Ce);T(He.$$.fragment,Ht),Yn=$(Ht),T(Ne.$$.fragment,Ht),Xn=$(Ht),T(We.$$.fragment,Ht),Ht.forEach(u),xn=$(un),ne&&ne.l(un),un.forEach(u),ea=$(Bt),T(st.$$.fragment,Bt),Bt.forEach(u),ta=$(fe),_e=v(fe,"DIV",{class:!0});var gt=_(_e);At=v(gt,"H5",{class:!0});var Ma=_(At);na=M(Ma,"Ranking de Posição"),Ma.forEach(u),aa=$(gt),Pt=v(gt,"SPAN",{class:!0});var Sa=_(Pt);la=M(Sa,"Quantas vezes você sentou em diferentes lugares."),Sa.forEach(u),sa=$(gt),Ue=v(gt,"DIV",{class:!0});var fn=_(Ue);$e=v(fn,"DIV",{class:!0});var Nt=_($e);T(je.$$.fragment,Nt),ra=$(Nt),T(Ge.$$.fragment,Nt),oa=$(Nt),T(Ze.$$.fragment,Nt),Nt.forEach(u),ia=$(fn),le&&le.l(fn),fn.forEach(u),ca=$(gt),T(rt.$$.fragment,gt),gt.forEach(u),fe.forEach(u),ue.forEach(u),this.h()},h(){f(n,"name","description"),f(n,"content",a=`Veja dados interessantes sobre ${l[0].student.name}! Tem a primeira e última aparição, presenças, faltas, mapa de calor e outras bobagens.`),f(r,"class","text-center text-3xl font-bold m-4"),f(I,"class","text-xl font-semibold"),f(k,"class","text-sm text-neutral-500"),f(S,"class","flex flex-col items-center text-center"),f(N,"class","text-xl font-semibold"),f(J,"class","text-sm text-neutral-500"),f(w,"class","flex flex-col items-center text-center"),f(oe,"class","text-xl font-semibold"),f(ke,"class","text-sm text-neutral-500"),f(G,"class","flex flex-col items-center text-center cursor-pointer"),f(Ye,"class","text-xl font-semibold"),f(Xe,"class","text-sm text-neutral-500"),f(he,"class","flex flex-col items-center text-center cursor-pointer"),f(h,"class","grid grid-cols-4 gap-4 items-center max-w-xl mx-auto p-4 rounded-xl bg-neutral-800"),f(xe,"class","text-sm text-neutral-500 block text-center m-4"),f(et,"class","my-4 border-neutral-500"),f(Ae,"class","text-center font-bold text-xl"),f(Dt,"class","text-sm text-neutral-500 block text-center m-1"),f(It,"class","container my-3 max-w-0"),f(Et,"class","overflow-x-auto"),f(ce,"class","bg-neutral-800 rounded-xl p-4"),f(Ct,"class","text-center font-bold text-xl"),f($t,"class","text-sm text-neutral-500 block text-center m-1"),f(tt,"class","grid grid-rows-2 grid-cols-1 sm:grid-cols-2 sm:grid-rows-1 gap-1.5"),f(Re,"class","my-2 md:mx-auto bg-neutral-850 p-1.5 rounded-xl"),f(De,"class","bg-neutral-800 rounded-xl p-4"),f(yt,"class","text-center font-bold text-xl"),f(at,"class","text-sm text-neutral-500 block text-center m-1"),f(Ee,"class","grid grid-rows-3 grid-cols-1 sm:grid-cols-3 sm:grid-rows-1 gap-1.5"),f(Te,"class","my-2 md:mx-auto bg-neutral-850 p-1.5 rounded-xl"),f(Mt,"class","flex justify-center"),f(ge,"class","bg-neutral-800 rounded-xl p-4"),f(St,"class","text-center font-bold text-xl"),f(Vt,"class","text-sm text-neutral-500 block text-center m-1"),f(Ce,"class","grid grid-rows-3 grid-cols-1 sm:grid-cols-3 sm:grid-rows-1 gap-1.5"),f(Be,"class","my-2 md:mx-auto bg-neutral-850 p-1.5 rounded-xl"),f(Ie,"class","bg-neutral-800 rounded-xl p-4"),f(At,"class","text-center font-bold text-xl"),f(Pt,"class","text-sm text-neutral-500 block text-center m-1"),f($e,"class","grid grid-rows-3 grid-cols-1 sm:grid-cols-3 sm:grid-rows-1 gap-1.5"),f(Ue,"class","my-2 md:mx-auto bg-neutral-850 p-1.5 rounded-xl"),f(_e,"class","bg-neutral-800 rounded-xl p-4"),f(K,"class","grid md:grid-cols-2 gap-4"),f(s,"class","container mx-auto max-w-7xl px-4")},m(m,D){o(document.head,n),F(m,t,D),F(m,s,D),o(s,r),o(r,c),o(s,d),o(s,h),o(h,S),o(S,I),o(I,g),o(S,b),o(S,k),o(k,B),o(h,R),o(h,w),o(w,N),o(N,H),o(w,U),o(w,J),o(J,X),o(h,me),o(h,G),o(G,oe),o(oe,W),o(G,be),o(G,ke),o(ke,ie),o(h,Ke),o(h,he),o(he,Ye),o(Ye,wt),o(he,Zt),o(he,Xe),o(Xe,Qt),o(s,Jt),o(s,xe),o(xe,Kt),o(s,P),o(s,et),o(s,pt),o(s,K),o(K,ce),o(ce,Ae),o(Ae,Pe),o(ce,Yt),o(ce,Dt),o(Dt,Cn),o(ce,$n),o(ce,Et),o(Et,It),z(vt,It,null),o(K,yn),o(K,De),o(De,bt),o(bt,Ct),o(Ct,Mn),o(bt,Sn),o(bt,$t),o($t,Vn),o(De,An),o(De,Re),o(Re,tt),z(Fe,tt,null),o(tt,Pn),z(Le,tt,null),o(Re,Rn),Z&&Z.m(Re,null),o(De,Fn),z(nt,De,null),o(K,Ln),o(K,ge),o(ge,yt),o(yt,Tn),o(ge,zn),o(ge,at),o(at,On),o(at,qn),o(at,Bn),o(ge,Hn),o(ge,Te),o(Te,Ee),z(ze,Ee,null),o(Ee,Nn),z(Oe,Ee,null),o(Ee,Wn),z(qe,Ee,null),o(Te,Un),~x&&ot[x].m(Te,null),o(ge,jn),o(ge,Mt),z(lt,Mt,null),o(K,Gn),o(K,Ie),o(Ie,kt),o(kt,St),o(St,Zn),o(kt,Qn),o(kt,Vt),o(Vt,Jn),o(Ie,Kn),o(Ie,Be),o(Be,Ce),z(He,Ce,null),o(Ce,Yn),z(Ne,Ce,null),o(Ce,Xn),z(We,Ce,null),o(Be,xn),~te&&it[te].m(Be,null),o(Ie,ea),z(st,Ie,null),o(K,ta),o(K,_e),o(_e,At),o(At,na),o(_e,aa),o(_e,Pt),o(Pt,la),o(_e,sa),o(_e,Ue),o(Ue,$e),z(je,$e,null),o($e,ra),z(Ge,$e,null),o($e,oa),z(Ze,$e,null),o(Ue,ia),~ae&&ct[ae].m(Ue,null),o(_e,ca),z(rt,_e,null),Qe=!0,ua||(fa=[Q(G,"click",l[15]),Q(G,"keydown",l[15]),Q(he,"click",l[15]),Q(he,"keydown",l[15])],ua=!0)},p(m,D){(!Qe||D[0]&1)&&e!==(e=m[0].student.name+" no Mapa de Sala")&&(document.title=e),(!Qe||D[0]&1&&a!==(a=`Veja dados interessantes sobre ${m[0].student.name}! Tem a primeira e última aparição, presenças, faltas, mapa de calor e outras bobagens.`))&&f(n,"content",a),(!Qe||D[0]&1)&&i!==(i=m[0].student.name+"")&&ve(c,i),(!Qe||D[0]&16)&&j!==(j=m[14].attendances[m[4]]+`${m[4]==="percentage"?"%":""}`)&&ve(W,j),(!Qe||D[0]&16)&&_t!==(_t=m[14].absences[m[4]]+`${m[4]==="percentage"?"%":""}`)&&ve(wt,_t);const ue={};D[0]&32&&(ue.moreClasses=m[5].positionStreak==="filter"?"!bg-neutral-700":""),D[1]&2048&&(ue.$$scope={dirty:D,ctx:m}),Fe.$set(ue);const Xt={};D[0]&8|D[1]&2048&&(Xt.$$scope={dirty:D,ctx:m}),Le.$set(Xt),m[5].positionStreak==="filter"?Z?(Z.p(m,D),D[0]&32&&V(Z,1)):(Z=Na(m),Z.c(),V(Z,1),Z.m(Re,null)):Z&&(mn(),A(Z,1,1,()=>{Z=null}),dn());const pe={};D[0]&2&&(pe.allClassroomMapData=m[1].positionStreak),D[0]&8&&(pe.invertDeskCounting=m[3].positionStreak),nt.$set(pe);const ut={};D[0]&32&&(ut.moreClasses=m[5].heatmap==="filter"?"!bg-neutral-700":""),D[1]&2048&&(ut.$$scope={dirty:D,ctx:m}),ze.$set(ut);const Rt={};D[0]&32&&(Rt.moreClasses=m[5].heatmap==="view"?"!bg-neutral-700":""),D[1]&2048&&(Rt.$$scope={dirty:D,ctx:m}),Oe.$set(Rt);const xt={};D[0]&8|D[1]&2048&&(xt.$$scope={dirty:D,ctx:m}),qe.$set(xt);let ft=x;x=ma(m),x===ft?~x&&ot[x].p(m,D):(ee&&(mn(),A(ot[ft],1,1,()=>{ot[ft]=null}),dn()),~x?(ee=ot[x],ee?ee.p(m,D):(ee=ot[x]=da[x](m),ee.c()),V(ee,1),ee.m(Te,null)):ee=null);const dt={};D[0]&2&&(dt.allClassroomMapData=m[1].heatmap),D[0]&8&&(dt.invertDeskCounting=m[3].heatmap),D[0]&64&&(dt.compensate=m[6]),D[0]&128&&(dt.background=m[7]),lt.$set(dt);const Ft={};D[0]&32&&(Ft.moreClasses=m[5].timeline==="filter"?"!bg-neutral-700":""),D[1]&2048&&(Ft.$$scope={dirty:D,ctx:m}),He.$set(Ft);const mt={};D[0]&32&&(mt.moreClasses=m[5].timeline==="sort"?"!bg-neutral-700":""),D[1]&2048&&(mt.$$scope={dirty:D,ctx:m}),Ne.$set(mt);const en={};D[0]&8|D[1]&2048&&(en.$$scope={dirty:D,ctx:m}),We.$set(en);let Lt=te;te=ga(m),te===Lt?~te&&it[te].p(m,D):(ne&&(mn(),A(it[Lt],1,1,()=>{it[Lt]=null}),dn()),~te?(ne=it[te],ne?ne.p(m,D):(ne=it[te]=ha[te](m),ne.c()),V(ne,1),ne.m(Be,null)):ne=null);const Je={};D[0]&2&&(Je.allClassroomMapData=m[1].timeline),D[0]&8&&(Je.invertDeskCounting=m[3].timeline),D[0]&4&&(Je.sort=m[2].timeline),st.$set(Je);const Tt={};D[0]&32&&(Tt.moreClasses=m[5].positionRanking==="filter"?"!bg-neutral-700":""),D[1]&2048&&(Tt.$$scope={dirty:D,ctx:m}),je.$set(Tt);const zt={};D[0]&32&&(zt.moreClasses=m[5].positionRanking==="sort"?"!bg-neutral-700":""),D[1]&2048&&(zt.$$scope={dirty:D,ctx:m}),Ge.$set(zt);const tn={};D[0]&8|D[1]&2048&&(tn.$$scope={dirty:D,ctx:m}),Ze.$set(tn);let fe=ae;ae=pa(m),ae===fe?~ae&&ct[ae].p(m,D):(le&&(mn(),A(ct[fe],1,1,()=>{ct[fe]=null}),dn()),~ae?(le=ct[ae],le?le.p(m,D):(le=ct[ae]=_a[ae](m),le.c()),V(le,1),le.m(Ue,null)):le=null);const ye={};D[0]&256&&(ye.summaries=m[8].map(Wa)),D[0]&256&&(ye.content=m[8].map(Ua)),rt.$set(ye)},i(m){Qe||(V(vt.$$.fragment,m),V(Fe.$$.fragment,m),V(Le.$$.fragment,m),V(Z),V(nt.$$.fragment,m),V(ze.$$.fragment,m),V(Oe.$$.fragment,m),V(qe.$$.fragment,m),V(ee),V(lt.$$.fragment,m),V(He.$$.fragment,m),V(Ne.$$.fragment,m),V(We.$$.fragment,m),V(ne),V(st.$$.fragment,m),V(je.$$.fragment,m),V(Ge.$$.fragment,m),V(Ze.$$.fragment,m),V(le),V(rt.$$.fragment,m),Qe=!0)},o(m){A(vt.$$.fragment,m),A(Fe.$$.fragment,m),A(Le.$$.fragment,m),A(Z),A(nt.$$.fragment,m),A(ze.$$.fragment,m),A(Oe.$$.fragment,m),A(qe.$$.fragment,m),A(ee),A(lt.$$.fragment,m),A(He.$$.fragment,m),A(Ne.$$.fragment,m),A(We.$$.fragment,m),A(ne),A(st.$$.fragment,m),A(je.$$.fragment,m),A(Ge.$$.fragment,m),A(Ze.$$.fragment,m),A(le),A(rt.$$.fragment,m),Qe=!1},d(m){u(n),m&&u(t),m&&u(s),O(vt),O(Fe),O(Le),Z&&Z.d(),O(nt),O(ze),O(Oe),O(qe),~x&&ot[x].d(),O(lt),O(He),O(Ne),O(We),~te&&it[te].d(),O(st),O(je),O(Ge),O(Ze),~ae&&ct[ae].d(),O(rt),ua=!1,kn(fa)}}}const Wa=({position:l})=>l,Ua=({days:l})=>l;function hs(l,e,n){let a,{data:t}=e,{student:s,allClassroomMapData:r,allDays:i}=t,c={positionStreak:r,heatmap:r,timeline:r,positionRanking:r},{attendances:d,absences:h}=ol(r,s.id);const S=d[0],I=se.fromISO(S),E=d.at(-1),g=se.fromISO(E);s.left&&(h=h.filter(P=>se.fromISO(P)<=g)),s.late&&(h=h.filter(P=>se.fromISO(P)>=I));const b=il(d,h);let k="number";function B(){n(4,k=k==="number"?"percentage":"number")}let R={positionRanking:{type:"days",direction:"decrescent"},timeline:{type:"chronology",direction:"increscent"}},w={positionStreak:"",heatmap:"",timeline:"",positionRanking:""},N={positionStreak:!1,heatmap:!1,timeline:!1,positionRanking:!1},re=!0,H=!1;async function U(P,et){var Ae;let pt=ul.from("classroomMap").select();const K=(Ae=et.day)==null?void 0:Ae.map(Pe=>Pe==null?void 0:Pe.toISODate());K.length===2&&(pt=pt.gte("day",K[0]).lte("day",K[1]).order("day"));let{data:ce}=await pt;et.tags.length>0&&(ce=ce.filter(({tags:Pe})=>!et.tags.some(Yt=>Pe.includes(Yt.id)))),n(1,c[P]=ce,c)}function J(P){n(3,N[P]=N[P]!==!0,N),n(5,w[P]="",w)}const X=()=>n(5,w.positionStreak=w.positionStreak!="filter"?"filter":"",w),me=()=>J("positionStreak"),G=P=>U("positionStreak",P.detail.filter),oe=()=>n(5,w.heatmap=w.heatmap!="filter"?"filter":"",w),j=()=>n(5,w.heatmap=w.heatmap!="view"?"view":"",w),W=()=>J("heatmap"),be=P=>U("heatmap",P.detail.filter);function ke(P){re=P,n(6,re)}function ie(P){H=P,n(7,H)}const Ke=P=>U("heatmap",P.detail.sort),he=()=>n(5,w.timeline=w.timeline!="filter"?"filter":"",w),Ye=()=>n(5,w.timeline=w.timeline!="sort"?"sort":"",w),_t=()=>J("timeline"),wt=P=>U("timeline",P.detail.filter);function Zt(P){l.$$.not_equal(R.timeline,P)&&(R.timeline=P,n(2,R))}const Xe=()=>n(5,w.positionRanking=w.positionRanking!="filter"?"filter":"",w),Qt=()=>n(5,w.positionRanking=w.positionRanking!="sort"?"sort":"",w),Jt=()=>J("positionRanking"),xe=P=>U("positionRanking",P.detail.filter);function Kt(P){l.$$.not_equal(R.positionRanking,P)&&(R.positionRanking=P,n(2,R))}return l.$$set=P=>{"data"in P&&n(0,t=P.data)},l.$$.update=()=>{l.$$.dirty[0]&14&&n(8,a=cl(c.positionRanking,s.id,N.positionRanking,R.positionRanking).filter(({position:P})=>!P.startsWith("0ª")))},[t,c,R,N,k,w,re,H,a,s,i,d,I,g,b,B,U,J,X,me,G,oe,j,W,be,ke,ie,Ke,he,Ye,_t,wt,Zt,Xe,Qt,Jt,xe,Kt]}class ks extends Me{constructor(e){super(),Se(this,e,hs,ms,Ve,{data:0},null,[-1,-1])}}export{ks as component};
